(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ba6bbbb"],{"0f0e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-wrapper"},[a("div",{staticClass:"list-box"},[t._l(t.labelList,(function(e,i){return t.isUser?a("div",{key:i,staticClass:"label-box"},[e.children&&e.children.length?a("div",{staticClass:"title"},[t._v("\n        "+t._s(e.label_name)+"\n      ")]):t._e(),e.children&&e.children.length?a("div",{staticClass:"list"},t._l(e.children,(function(e,i){return a("div",{key:i,staticClass:"label-item",class:{on:e.disabled},on:{click:function(a){return t.selectLabel(e)}}},[t._v("\n          "+t._s(e.label_name)+"\n        ")])})),0):t._e()]):t._e()})),t.isUser?t._e():a("div",[t._v("暂无标签")])],2),a("div",{staticClass:"footer"},[a("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")]),a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")])],1)])},r=[],n=a("c4c8"),o={name:"userLabel",props:{},data:function(){return{labelList:[],dataLabel:[],isUser:!1}},mounted:function(){},methods:{inArray:function(t,e){for(var a in e)if(e[a].id==t)return!0;return!1},userLabel:function(t){var e=this;this.dataLabel=t,Object(n["eb"])().then((function(t){t.data.map((function(t){t.children&&(e.isUser=!0,t.children.map((function(t){e.inArray(t.id,e.dataLabel)?t.disabled=!0:t.disabled=!1})))})),e.labelList=t.data,console.log(e.labelList)})).catch((function(t){e.$Message.error(t.msg)}))},selectLabel:function(t){if(t.disabled){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1),t.disabled=!1}else this.dataLabel.push({label_name:t.label_name,id:t.id}),t.disabled=!0},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}},s=o,l=(a("21e3"),a("2877")),c=Object(l["a"])(s,i,r,!1,null,"9f6c2564",null);e["a"]=c.exports},"0fc4":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return o}));var i=a("b6bd");function r(){return Object(i["a"])({url:"erp/config",method:"get"})}function n(t){return Object(i["a"])({url:"store/erp/shop",method:"get",params:t})}function o(t){return Object(i["a"])({url:"product/import_erp_product",method:"post",data:t})}},"152e":function(t,e,a){"use strict";var i=a("15d4"),r=a.n(i);r.a},"15d4":function(t,e,a){},"1e3e":function(t,e,a){"use strict";var i=a("6446"),r=a.n(i);r.a},"21e3":function(t,e,a){"use strict";var i=a("af17"),r=a.n(i);r.a},"280c":function(t,e,a){"use strict";var i=a("8553"),r=a.n(i);r.a},"5d4b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{width:"700",scrollable:"","footer-hide":"",closable:"",title:t.titleFrom,"z-index":1,"class-name":"vertical-center-modal"},on:{"on-cancel":t.handleReset},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":110,rules:t.ruleValidate},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Col",t._b({},"Col",t.grid,!1),[a("FormItem",{attrs:{label:"上级品牌："}},[a("Cascader",{attrs:{data:t.FromData,placeholder:"请选择上级品牌","change-on-select":""},model:{value:t.formValidate.fid,callback:function(e){t.$set(t.formValidate,"fid",e)},expression:"formValidate.fid"}})],1)],1),a("Col",t._b({},"Col",t.grid,!1),[a("FormItem",{attrs:{label:"品牌名称：",prop:"brand_name"}},[a("Input",{attrs:{maxlength:"10",placeholder:"请输入品牌名称",prop:""},model:{value:t.formValidate.brand_name,callback:function(e){t.$set(t.formValidate,"brand_name",e)},expression:"formValidate.brand_name"}})],1)],1),a("Col",t._b({},"Col",t.grid,!1),[a("FormItem",{attrs:{label:"品牌排序："}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{step:1,placeholder:"请输入品牌排序"},model:{value:t.formValidate.sort,callback:function(e){t.$set(t.formValidate,"sort",e)},expression:"formValidate.sort"}})],1)],1),a("Col",t._b({},"Col",t.grid,!1),[a("FormItem",{attrs:{label:"是否显示："}},[a("i-switch",{attrs:{size:"large","true-value":1,"false-value":0},model:{value:t.formValidate.is_show,callback:function(e){t.$set(t.formValidate,"is_show",e)},expression:"formValidate.is_show"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)],1),a("Col",{attrs:{span:"24"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("Button",{staticStyle:{"margin-right":"14px"},attrs:{type:"primary"},on:{click:t.cancle}},[t._v("取消")]),a("Button",{attrs:{type:"default"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确认")])],1)])],1)],1)],1)},r=[],n=a("a34a"),o=a.n(n),s=a("c4c8");function l(t,e,a,i,r,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var n=t.apply(e,a);function o(t){l(n,i,r,o,s,"next",t)}function s(t){l(n,i,r,o,s,"throw",t)}o(void 0)}))}}var u={name:"menusFrom",props:{formValidate:{type:Object,default:null},fromName:{type:Number,default:0}},data:function(){return{ruleValidate:{brand_name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]},type:1,modals:!1,FromData:[],titleFrom:"",grid:{xl:24,lg:24,md:12,sm:24,xs:24}}},mounted:function(){this.getAddFrom()},methods:{getAddFrom:function(){var t=this;Object(s["c"])().then(function(){var e=c(o.a.mark((function e(a){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.FromData=a.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},handleReset:function(){this.modals=!1,this.$parent.getData()},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t?2==e.type?Object(s["C"])(e.formValidate.id,e.formValidate).then((function(t){e.$Message.success(t.msg),e.getAddFrom(),e.$parent.getData(),e.modals=!1})).catch((function(t){e.$Message.error(t.msg)})):Object(s["z"])(e.formValidate).then((function(t){e.$Message.success(t.msg),e.getAddFrom(),e.fromName?e.$parent.getBrandList():e.$parent.getData(),e.modals=!1})).catch((function(t){e.$Message.error(t.msg)})):e.$Message.error("请输入品牌名称")}))},cancle:function(){this.modals=!1}}},d=u,m=(a("e57e"),a("2877")),f=Object(m["a"])(d,i,r,!1,null,"98724352",null);e["a"]=f.exports},"61f7":function(t,e,a){"use strict";function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(a,!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("(".concat(i,")")).test(e)){var r=a[i]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:s(r))}return e}function s(t){return("00"+t).substr(t.length)}a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return d}));var l={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};var c=function(t,e){t.message=function(t){return e.replace("%s",t||"")}};function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r({required:!0,message:t,type:"string"},e)}function d(t){return m.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,t)}c(u,"请输入%s"),c(d,"%s格式不正确");var m=Object.keys(l).reduce((function(t,e){return t[e]=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="range"===e?{min:t[0],max:t[1]}:n({},e,t);return r({message:a.replace(":".concat(e),"range"===e?"".concat(t[0],"-").concat(t[1]):t),type:"string"},o,{},i)},c(t[e],l[e]),t}),{})},6446:function(t,e,a){},6625:function(t,e,a){!function(e,a){t.exports=a()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=39)}([function(t,e){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(t,e,a){var i=a(28)("wks"),r=a(29),n=a(0).Symbol,o="function"==typeof n;(t.exports=function(t){return i[t]||(i[t]=o&&n[t]||(o?n:r)("Symbol."+t))}).store=i},function(t,e){var a=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=a)},function(t,e,a){var i=a(6);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,a){var i=a(0),r=a(2),n=a(11),o=a(5),s=a(9),l=function(t,e,a){var c,u,d,m=t&l.F,f=t&l.G,p=t&l.S,h=t&l.P,v=t&l.B,_=t&l.W,b=f?r:r[e]||(r[e]={}),g=b.prototype,y=f?i:p?i[e]:(i[e]||{}).prototype;for(c in f&&(a=e),a)(u=!m&&y&&void 0!==y[c])&&s(b,c)||(d=u?y[c]:a[c],b[c]=f&&"function"!=typeof y[c]?a[c]:v&&u?n(d,i):_&&y[c]==d?function(t){var e=function(e,a,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,a)}return new t(e,a,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):h&&"function"==typeof d?n(Function.call,d):d,h&&((b.virtual||(b.virtual={}))[c]=d,t&l.R&&g&&!g[c]&&o(g,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,a){var i=a(13),r=a(31);t.exports=a(7)?function(t,e,a){return i.f(t,e,r(1,a))}:function(t,e,a){return t[e]=a,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,a){t.exports=!a(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports={}},function(t,e){var a={}.hasOwnProperty;t.exports=function(t,e){return a.call(t,e)}},function(t,e){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,e,a){var i=a(12);t.exports=function(t,e,a){if(i(t),void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 2:return function(a,i){return t.call(e,a,i)};case 3:return function(a,i,r){return t.call(e,a,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,a){var i=a(3),r=a(49),n=a(50),o=Object.defineProperty;e.f=a(7)?Object.defineProperty:function(t,e,a){if(i(t),e=n(e,!0),i(a),r)try{return o(t,e,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[e]=a.value),t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,a){var i=a(16);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,a){var i=a(45),r=a(30);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,a){var i=a(26),r=a(16);t.exports=function(t){return i(r(t))}},function(t,e){var a=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:a)(t)}},function(t,e,a){var i=a(28)("keys"),r=a(29);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports=!0},function(t,e,a){var i=a(6),r=a(0).document,n=i(r)&&i(r.createElement);t.exports=function(t){return n?r.createElement(t):{}}},function(t,e,a){var i=a(13).f,r=a(9),n=a(1)("toStringTag");t.exports=function(t,e,a){t&&!r(t=a?t:t.prototype,n)&&i(t,n,{configurable:!0,value:e})}},function(t,e,a){"use strict";var i=a(12);t.exports.f=function(t){return new function(t){var e,a;this.promise=new t((function(t,i){if(void 0!==e||void 0!==a)throw TypeError("Bad Promise constructor");e=t,a=i})),this.resolve=i(e),this.reject=i(a)}(t)}},function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(42)),r=l(a(51)),n=l(a(79)),o=l(a(85)),s=l(a(86));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"VueUeditorWrap",data:function(){return{status:0,initValue:"",defaultConfig:{UEDITOR_HOME_URL:t.env.BASE_URL?t.env.BASE_URL+"UEditor/":"/static/UEditor/",enableAutoSave:!1}}},props:{mode:{type:String,default:"observer",validator:function(t){return-1!==["observer","listener"].indexOf(t)}},value:{type:String,default:""},config:{type:Object,default:function(){return{}}},init:{type:Function,default:function(){return function(){}}},destroy:{type:Boolean,default:!1},name:{type:String,default:""},observerDebounceTime:{type:Number,default:50,validator:function(t){return t>=20}},observerOptions:{type:Object,default:function(){return{attributes:!0,attributeFilter:["src","style","type","name"],characterData:!0,childList:!0,subtree:!0}}},forceInit:{type:Boolean,default:!1}},computed:{mixedConfig:function(){return(0,n.default)({},this.defaultConfig,this.config)}},methods:{registerButton:function(t){var e=t.name,a=t.icon,i=t.tip,r=t.handler,n=t.index,o=t.UE,s=void 0===o?window.UE:o;s.registerUI(e,(function(t,e){t.registerCommand(e,{execCommand:function(){r(t,e)}});var n=new s.ui.Button({name:e,title:i,cssRules:"background-image: url("+a+") !important;background-size: cover;",onclick:function(){t.execCommand(e)}});return t.addListener("selectionchange",(function(){var a=t.queryCommandState(e);-1===a?(n.setDisabled(!0),n.setChecked(!1)):(n.setDisabled(!1),n.setChecked(a))})),n}),n,this.id)},_initEditor:function(){var t=this;this.$refs.script.id=this.id="editor_"+Math.random().toString(16).slice(-6),this.init(),this.$emit("beforeInit",this.id,this.mixedConfig),this.editor=window.UE.getEditor(this.id,this.mixedConfig),this.editor.addListener("ready",(function(){2===t.status?t.editor.setContent(t.value):(t.status=2,t.$emit("ready",t.editor),t.editor.setContent(t.initValue)),"observer"===t.mode&&window.MutationObserver?t._observerChangeListener():t._normalChangeListener()}))},_checkDependencies:function(){var t=this;return new r.default((function(e,a){window.UE&&window.UEDITOR_CONFIG&&0!==(0,i.default)(window.UEDITOR_CONFIG).length&&window.UE.getEditor?e():window.$loadEnv?window.$loadEnv.on("scriptsLoaded",(function(){e()})):(window.$loadEnv=new o.default,t._loadConfig().then((function(){return t._loadCore()})).then((function(){e(),window.$loadEnv.emit("scriptsLoaded")})))}))},_loadConfig:function(){var t=this;return new r.default((function(e,a){if(window.UE&&window.UEDITOR_CONFIG&&0!==(0,i.default)(window.UEDITOR_CONFIG).length)e();else{var r=document.createElement("script");r.type="text/javascript",r.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.config.js",document.getElementsByTagName("head")[0].appendChild(r),r.onload=function(){window.UE&&window.UEDITOR_CONFIG&&0!==(0,i.default)(window.UEDITOR_CONFIG).length?e():console.error("加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\n",r.src)}}}))},_loadCore:function(){var t=this;return new r.default((function(e,a){if(window.UE&&window.UE.getEditor)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t.mixedConfig.UEDITOR_HOME_URL+"ueditor.all.min.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UE.getEditor?e():console.error("加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\n",i.src)}}}))},_setContent:function(t){t===this.editor.getContent()||this.editor.setContent(t)},contentChangeHandler:function(){this.$emit("input",this.editor.getContent())},_normalChangeListener:function(){this.editor.addListener("contentChange",this.contentChangeHandler)},_observerChangeListener:function(){var t=this;this.observer=new MutationObserver((0,s.default)((function(e){t.editor.document.getElementById("baidu_pastebin")||t.$emit("input",t.editor.getContent())}),this.observerDebounceTime)),this.observer.observe(this.editor.body,this.observerOptions)}},deactivated:function(){this.editor&&this.editor.removeListener("contentChange",this.contentChangeHandler),this.observer&&this.observer.disconnect()},beforeDestroy:function(){this.destroy&&this.editor&&this.editor.destroy&&this.editor.destroy(),this.observer&&this.observer.disconnect&&this.observer.disconnect()},watch:{value:{handler:function(e){var a=this;switch(this.status){case 0:this.status=1,this.initValue=e,(this.forceInit||void 0!==t&&t.client||"undefined"!=typeof window)&&this._checkDependencies().then((function(){a.$refs.script?a._initEditor():a.$nextTick((function(){return a._initEditor()}))}));break;case 1:this.initValue=e;break;case 2:this._setContent(e)}},immediate:!0}}}}).call(e,a(41))},function(t,e,a){var i=a(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,a){var i=a(19),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,a){var i=a(2),r=a(0),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:a(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){var a=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++a+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,a){"use strict";var i=a(21),r=a(4),n=a(56),o=a(5),s=a(8),l=a(57),c=a(23),u=a(60),d=a(1)("iterator"),m=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,a,p,h,v,_){l(a,e,p);var b,g,y,w=function(t){if(!m&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new a(this,t)}}return function(){return new a(this,t)}},x=e+" Iterator",k="values"==h,V=!1,C=t.prototype,F=C[d]||C["@@iterator"]||h&&C[h],$=F||w(h),I=h?k?w("entries"):$:void 0,O="Array"==e&&C.entries||F;if(O&&(y=u(O.call(new t)))!==Object.prototype&&y.next&&(c(y,x,!0),i||"function"==typeof y[d]||o(y,d,f)),k&&F&&"values"!==F.name&&(V=!0,$=function(){return F.call(this)}),i&&!_||!m&&!V&&C[d]||o(C,d,$),s[e]=$,s[x]=f,h)if(b={values:k?$:w("values"),keys:v?$:w("keys"),entries:I},_)for(g in b)g in C||n(C,g,b[g]);else r(r.P+r.F*(m||V),e,b);return b}},function(t,e,a){var i=a(0).document;t.exports=i&&i.documentElement},function(t,e,a){var i=a(10),r=a(1)("toStringTag"),n="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,a,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?a:n?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,a){var i=a(3),r=a(12),n=a(1)("species");t.exports=function(t,e){var a,o=i(t).constructor;return void 0===o||void 0==(a=i(o)[n])?e:r(a)}},function(t,e,a){var i,r,n,o=a(11),s=a(71),l=a(33),c=a(22),u=a(0),d=u.process,m=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,h=u.Dispatch,v=0,_={},b=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},g=function(t){b.call(t.data)};m&&f||(m=function(t){for(var e=[],a=1;arguments.length>a;)e.push(arguments[a++]);return _[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},f=function(t){delete _[t]},"process"==a(10)(d)?i=function(t){d.nextTick(o(b,t,1))}:h&&h.now?i=function(t){h.now(o(b,t,1))}:p?(n=(r=new p).port2,r.port1.onmessage=g,i=o(n.postMessage,n,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",g,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:m,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,a){var i=a(3),r=a(6),n=a(24);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var a=n.f(t);return(0,a.resolve)(e),a.promise}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(25),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a(87),s=a(40)(r.a,o.a,!1,null,null,null);s.options.__file="src/components/vue-ueditor-wrap.vue",e.default=s.exports},function(t,e){t.exports=function(t,e,a,i,r,n){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var c,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId=r),n?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},u._ssrRegister=c):i&&(c=i),c){var d=u.functional,m=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),m(t,e)}):u.beforeCreate=m?[].concat(m,c):[c]}return{esModule:o,exports:s,options:u}}},function(t,e){var a,i,r=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(a===setTimeout)return setTimeout(t,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(t){a=n}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,d=-1;function m(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=s(m);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function h(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];c.push(new p(t,e)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,a){t.exports={default:a(43),__esModule:!0}},function(t,e,a){a(44),t.exports=a(2).Object.keys},function(t,e,a){var i=a(15),r=a(17);a(48)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e,a){var i=a(9),r=a(18),n=a(46)(!1),o=a(20)("IE_PROTO");t.exports=function(t,e){var a,s=r(t),l=0,c=[];for(a in s)a!=o&&i(s,a)&&c.push(a);for(;e.length>l;)i(s,a=e[l++])&&(~n(c,a)||c.push(a));return c}},function(t,e,a){var i=a(18),r=a(27),n=a(47);t.exports=function(t){return function(e,a,o){var s,l=i(e),c=r(l.length),u=n(o,c);if(t&&a!=a){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===a)return t||u||0;return!t&&-1}}},function(t,e,a){var i=a(19),r=Math.max,n=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):n(t,e)}},function(t,e,a){var i=a(4),r=a(2),n=a(14);t.exports=function(t,e){var a=(r.Object||{})[t]||Object[t],o={};o[t]=e(a),i(i.S+i.F*n((function(){a(1)})),"Object",o)}},function(t,e,a){t.exports=!a(7)&&!a(14)((function(){return 7!=Object.defineProperty(a(22)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,a){var i=a(6);t.exports=function(t,e){if(!i(t))return t;var a,r;if(e&&"function"==typeof(a=t.toString)&&!i(r=a.call(t)))return r;if("function"==typeof(a=t.valueOf)&&!i(r=a.call(t)))return r;if(!e&&"function"==typeof(a=t.toString)&&!i(r=a.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,a){t.exports={default:a(52),__esModule:!0}},function(t,e,a){a(53),a(54),a(61),a(65),a(77),a(78),t.exports=a(2).Promise},function(t,e){},function(t,e,a){"use strict";var i=a(55)(!0);a(32)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=i(e,a),this._i+=t.length,{value:t,done:!1})}))},function(t,e,a){var i=a(19),r=a(16);t.exports=function(t){return function(e,a){var n,o,s=String(r(e)),l=i(a),c=s.length;return l<0||l>=c?t?"":void 0:(n=s.charCodeAt(l))<55296||n>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):n:t?s.slice(l,l+2):o-56320+(n-55296<<10)+65536}}},function(t,e,a){t.exports=a(5)},function(t,e,a){"use strict";var i=a(58),r=a(31),n=a(23),o={};a(5)(o,a(1)("iterator"),(function(){return this})),t.exports=function(t,e,a){t.prototype=i(o,{next:r(1,a)}),n(t,e+" Iterator")}},function(t,e,a){var i=a(3),r=a(59),n=a(30),o=a(20)("IE_PROTO"),s=function(){},l=function(){var t,e=a(22)("iframe"),i=n.length;for(e.style.display="none",a(33).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[n[i]];return l()};t.exports=Object.create||function(t,e){var a;return null!==t?(s.prototype=i(t),a=new s,s.prototype=null,a[o]=t):a=l(),void 0===e?a:r(a,e)}},function(t,e,a){var i=a(13),r=a(3),n=a(17);t.exports=a(7)?Object.defineProperties:function(t,e){r(t);for(var a,o=n(e),s=o.length,l=0;s>l;)i.f(t,a=o[l++],e[a]);return t}},function(t,e,a){var i=a(9),r=a(15),n=a(20)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,a){a(62);for(var i=a(0),r=a(5),n=a(8),o=a(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=i[c],d=u&&u.prototype;d&&!d[o]&&r(d,o,c),n[c]=n.Array}},function(t,e,a){"use strict";var i=a(63),r=a(64),n=a(8),o=a(18);t.exports=a(32)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,a=this._i++;return!t||a>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?a:"values"==e?t[a]:[a,t[a]])}),"values"),n.Arguments=n.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,a){"use strict";var i,r,n,o,s=a(21),l=a(0),c=a(11),u=a(34),d=a(4),m=a(6),f=a(12),p=a(66),h=a(67),v=a(35),_=a(36).set,b=a(72)(),g=a(24),y=a(37),w=a(73),x=a(38),k=l.TypeError,V=l.process,C=V&&V.versions,F=C&&C.v8||"",$=l.Promise,I="process"==u(V),O=function(){},S=r=g.f,T=!!function(){try{var t=$.resolve(1),e=(t.constructor={})[a(1)("species")]=function(t){t(O,O)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==F.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var a=t._c;b((function(){for(var i=t._v,r=1==t._s,n=0,o=function(e){var a,n,o,s=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&D(t),t._h=1),!0===s?a=i:(u&&u.enter(),a=s(i),u&&(u.exit(),o=!0)),a===e.promise?c(k("Promise-chain cycle")):(n=B(a))?n.call(a,l,c):l(a)):c(i)}catch(t){u&&!o&&u.exit(),c(t)}};a.length>n;)o(a[n++]);t._c=[],t._n=!1,e&&!t._h&&M(t)}))}},M=function(t){_.call(l,(function(){var e,a,i,r=t._v,n=N(t);if(n&&(e=y((function(){I?V.emit("unhandledRejection",r,t):(a=l.onunhandledrejection)?a({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=I||N(t)?2:1),t._a=void 0,n&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){_.call(l,(function(){var e;I?V.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},P=function(t){var e,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw k("Promise can't be resolved itself");(e=B(t))?b((function(){var i={_w:a,_d:!1};try{e.call(t,c(P,i,1),c(j,i,1))}catch(t){j.call(i,t)}})):(a._v=t,a._s=1,L(a,!1))}catch(t){j.call({_w:a,_d:!1},t)}}};T||($=function(t){p(this,$,"Promise","_h"),f(t),i.call(this);try{t(c(P,this,1),c(j,this,1))}catch(t){j.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=a(74)($.prototype,{then:function(t,e){var a=S(v(this,$));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=I?V.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&L(this,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new i;this.promise=t,this.resolve=c(P,t,1),this.reject=c(j,t,1)},g.f=S=function(t){return t===$||t===o?new n(t):r(t)}),d(d.G+d.W+d.F*!T,{Promise:$}),a(23)($,"Promise"),a(75)("Promise"),o=a(2).Promise,d(d.S+d.F*!T,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!T),"Promise",{resolve:function(t){return x(s&&this===o?$:this,t)}}),d(d.S+d.F*!(T&&a(76)((function(t){$.all(t).catch(O)}))),"Promise",{all:function(t){var e=this,a=S(e),i=a.resolve,r=a.reject,n=y((function(){var a=[],n=0,o=1;h(t,!1,(function(t){var s=n++,l=!1;a.push(void 0),o++,e.resolve(t).then((function(t){l||(l=!0,a[s]=t,--o||i(a))}),r)})),--o||i(a)}));return n.e&&r(n.v),a.promise},race:function(t){var e=this,a=S(e),i=a.reject,r=y((function(){h(t,!1,(function(t){e.resolve(t).then(a.resolve,i)}))}));return r.e&&i(r.v),a.promise}})},function(t,e){t.exports=function(t,e,a,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(a+": incorrect invocation!");return t}},function(t,e,a){var i=a(11),r=a(68),n=a(69),o=a(3),s=a(27),l=a(70),c={},u={};(e=t.exports=function(t,e,a,d,m){var f,p,h,v,_=m?function(){return t}:l(t),b=i(a,d,e?2:1),g=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(n(_)){for(f=s(t.length);f>g;g++)if((v=e?b(o(p=t[g])[0],p[1]):b(t[g]))===c||v===u)return v}else for(h=_.call(t);!(p=h.next()).done;)if((v=r(h,b,p.value,e))===c||v===u)return v}).BREAK=c,e.RETURN=u},function(t,e,a){var i=a(3);t.exports=function(t,e,a,r){try{return r?e(i(a)[0],a[1]):e(a)}catch(e){var n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,a){var i=a(8),r=a(1)("iterator"),n=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||n[r]===t)}},function(t,e,a){var i=a(34),r=a(1)("iterator"),n=a(8);t.exports=a(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||n[i(t)]}},function(t,e){t.exports=function(t,e,a){var i=void 0===a;switch(e.length){case 0:return i?t():t.call(a);case 1:return i?t(e[0]):t.call(a,e[0]);case 2:return i?t(e[0],e[1]):t.call(a,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(a,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(a,e[0],e[1],e[2],e[3])}return t.apply(a,e)}},function(t,e,a){var i=a(0),r=a(36).set,n=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,l="process"==a(10)(o);t.exports=function(){var t,e,a,c=function(){var i,r;for(l&&(i=o.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?a():e=void 0,i}}e=void 0,i&&i.enter()};if(l)a=function(){o.nextTick(c)};else if(!n||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);a=function(){u.then(c)}}else a=function(){r.call(i,c)};else{var d=!0,m=document.createTextNode("");new n(c).observe(m,{characterData:!0}),a=function(){m.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,a()),e=r}}},function(t,e,a){var i=a(0).navigator;t.exports=i&&i.userAgent||""},function(t,e,a){var i=a(5);t.exports=function(t,e,a){for(var r in e)a&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,a){"use strict";var i=a(0),r=a(2),n=a(13),o=a(7),s=a(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];o&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,a){var i=a(1)("iterator"),r=!1;try{var n=[7][i]();n.return=function(){r=!0},Array.from(n,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var a=!1;try{var n=[7],o=n[i]();o.next=function(){return{done:a=!0}},n[i]=function(){return o},t(n)}catch(t){}return a}},function(t,e,a){"use strict";var i=a(4),r=a(2),n=a(0),o=a(35),s=a(38);i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,r.Promise||n.Promise),a="function"==typeof t;return this.then(a?function(a){return s(e,t()).then((function(){return a}))}:t,a?function(a){return s(e,t()).then((function(){throw a}))}:t)}})},function(t,e,a){"use strict";var i=a(4),r=a(24),n=a(37);i(i.S,"Promise",{try:function(t){var e=r.f(this),a=n(t);return(a.e?e.reject:e.resolve)(a.v),e.promise}})},function(t,e,a){t.exports={default:a(80),__esModule:!0}},function(t,e,a){a(81),t.exports=a(2).Object.assign},function(t,e,a){var i=a(4);i(i.S+i.F,"Object",{assign:a(82)})},function(t,e,a){"use strict";var i=a(17),r=a(83),n=a(84),o=a(15),s=a(26),l=Object.assign;t.exports=!l||a(14)((function(){var t={},e={},a=Symbol(),i="abcdefghijklmnopqrst";return t[a]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[a]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var a=o(t),l=arguments.length,c=1,u=r.f,d=n.f;l>c;)for(var m,f=s(arguments[c++]),p=u?i(f).concat(u(f)):i(f),h=p.length,v=0;h>v;)d.call(f,m=p[v++])&&(a[m]=f[m]);return a}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.listeners={},this.on=function(t,e){void 0===this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push(e)},this.emit=function(t){this.listeners[t]&&this.listeners[t].forEach((function(t){return t()}))}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var a=null;return function(){var i=this,r=arguments;a&&clearTimeout(a),a=setTimeout((function(){t.apply(i,r)}),e)}}},function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("script",{ref:"script",attrs:{name:this.name,type:"text/plain"}})])};i._withStripped=!0;var r={render:i,staticRenderFns:[]};e.a=r}]).default}))},"6a5b":function(t,e,a){"use strict";var i=a("6c03"),r=a.n(i);r.a},"6c03":function(t,e,a){},"6fd3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{scrollable:"",title:t.title,"class-name":"vertical-center-modal",width:"950"},on:{"on-cancel":t.onCancel},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{ref:"formDynamic",staticClass:"attrFrom",attrs:{model:t.formDynamic,rules:t.rules,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{span:"24"}},[a("Col",{staticClass:"mb15",attrs:{span:"8"}},[a("FormItem",{attrs:{label:"分类名称：",prop:"rule_name"}},[a("Input",{attrs:{placeholder:"请输入分类名称",maxlength:20},model:{value:t.formDynamic.rule_name,callback:function(e){t.$set(t.formDynamic,"rule_name",e)},expression:"formDynamic.rule_name"}})],1)],1)],1),t._l(t.formDynamic.spec,(function(e,i){return a("Col",{key:i,staticClass:"noForm",attrs:{span:"23"}},[a("FormItem",[a("div",{staticClass:"acea-row row-middle"},[a("span",{staticClass:"mr5"},[t._v(t._s(e.value))]),a("Icon",{attrs:{type:"ios-close-circle"},on:{click:function(e){return t.handleRemove(i)}}})],1),a("div",{staticClass:"rulesBox"},[t._l(e.detail,(function(i,r){return a("Tag",{key:r,attrs:{type:"dot",closable:"",color:"primary",name:i},on:{"on-close":function(a){return t.handleRemove2(e.detail,r)}}},[t._v(t._s(i))])})),a("Input",{staticStyle:{width:"200px"},attrs:{maxlength:"30","show-word-limit":"",search:"","enter-button":"添加",placeholder:"请输入属性名称"},on:{"on-search":function(a){return t.createAttr(e.detail.attrsVal,i)}},model:{value:e.detail.attrsVal,callback:function(a){t.$set(e.detail,"attrsVal",a)},expression:"item.detail.attrsVal"}})],2)])],1)})),t.isBtn?a("Col",{staticClass:"mt10",attrs:{span:"24"}},[a("Col",{staticClass:"mr15",attrs:{span:"8"}},[a("FormItem",{attrs:{label:"规格名称："}},[a("Input",{attrs:{placeholder:"请输入规格名称",maxlength:"30","show-word-limit":""},model:{value:t.attrsName,callback:function(e){t.attrsName=e},expression:"attrsName"}})],1)],1),a("Col",{staticClass:"mr20",attrs:{span:"8"}},[a("FormItem",{attrs:{label:"规格值："}},[a("Input",{attrs:{maxlength:"30","show-word-limit":"",placeholder:"请输入规格值"},model:{value:t.attrsVal,callback:function(e){t.attrsVal=e},expression:"attrsVal"}})],1)],1),a("Col",{staticClass:"mr20",attrs:{span:"8"}},[a("div",{staticClass:"sub"},[a("Button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:t.createAttrName}},[t._v("确定")]),a("Button",{on:{click:t.offAttrName}},[t._v("取消")])],1)])],1):t._e(),t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],2),t.isBtn?t._e():a("Button",{staticClass:"ml95 mt10",attrs:{type:"primary"},on:{click:t.addBtn}},[t._v("添加新规格")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:t.cancle}},[t._v("取消")]),a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){return t.handleSubmit("formDynamic")}}},[t._v("确定")])],1)],1)},r=[],n=a("2f62"),o=a("c4c8");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={name:"addAttr",data:function(){return{spinShow:!1,modal_loading:!1,grid:{xl:3,lg:3,md:12,sm:24,xs:24},modal:!1,index:1,rules:{rule_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},formDynamic:{rule_name:"",spec:[]},attrsName:"",attrsVal:"",formDynamicNameData:[],isBtn:!1,formDynamicName:[],results:[],result:[],ids:0,title:"添加商品规格"}},computed:l({},Object(n["e"])("admin/layout",["isMobile"]),{labelWidth:function(){return this.isMobile?void 0:110},labelPosition:function(){return this.isMobile?"top":"right"}}),methods:{onCancel:function(){this.clear()},addBtn:function(){if(""==this.formDynamic.rule_name.trim())return this.$Message.error("请输入分类名称");this.isBtn=!0},getIofo:function(t){var e=this;this.spinShow=!0,this.ids=t.id,this.title="编辑商品规格",Object(o["hb"])(t.id).then((function(t){e.formDynamic=t.data.info,e.spinShow=!1})).catch((function(t){e.spinShow=!1,e.$Message.error(t.msg)}))},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(0===e.formDynamic.spec.length?e.$Message.warning("请至少添加一条商品规格！"):(e.modal_loading=!0,void setTimeout((function(){Object(o["gb"])(e.formDynamic,e.ids).then((function(t){e.$Message.success(t.msg),setTimeout((function(){e.modal=!1,e.modal_loading=!1}),500),setTimeout((function(){e.$emit("getList"),e.clear()}),600)})).catch((function(t){e.modal_loading=!1,e.$Message.error(t.msg)}))}),1200)))}))},clear:function(){this.$refs["formDynamic"].resetFields(),this.formDynamic.spec=[],this.isBtn=!1,this.ids=0,this.title="添加商品规格",this.attrsName="",this.attrsVal=""},offAttrName:function(){this.isBtn=!1},cancle:function(){this.modal=!1,this.clear()},handleRemove:function(t){this.formDynamic.spec.splice(t,1)},handleRemove2:function(t,e){t.splice(e,1)},createAttrName:function(){if(this.attrsName&&this.attrsVal){var t={value:this.attrsName,detail:[this.attrsVal]};this.formDynamic.spec.push(t);var e={};this.formDynamic.spec=this.formDynamic.spec.reduce((function(t,a){return!e[a.value]&&(e[a.value]=t.push(a)),t}),[]),this.attrsName="",this.attrsVal="",this.isBtn=!1}else this.$Message.warning("请添加规格名称或规格值")},createAttr:function(t,e){if(t){this.formDynamic.spec[e].detail.push(t);var a={};this.formDynamic.spec[e].detail=this.formDynamic.spec[e].detail.reduce((function(t,e){return!a[e]&&(a[e]=t.push(e)),t}),[])}else this.$Message.warning("请添加属性")}}},d=u,m=(a("280c"),a("2877")),f=Object(m["a"])(d,i,r,!1,null,"57bfa2a5",null);e["a"]=f.exports},8553:function(t,e,a){},"999d":function(t,e,a){},"9ba7":function(t,e,a){"use strict";var i=a("a544"),r=a.n(i);r.a},a2ed:function(t,e,a){"use strict";var i=a("999d"),r=a.n(i);r.a},a544:function(t,e,a){},af17:function(t,e,a){},c7e8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-manager video-icon form-submit",attrs:{id:"shopp-manager"}},[a("div",{staticClass:"i-layout-page-header"},[a("PageHeader",{staticClass:"product_tabs",attrs:{"hidden-breadcrumb":""}},[a("div",{staticClass:"acea-row row-middle",attrs:{slot:"title"},slot:"title"},[a("router-link",{attrs:{to:{path:"/admin/product/product_list"}}},[a("div",{staticClass:"font-sm after-line"},[a("span",{staticClass:"iconfont iconfanhui"}),a("span",{staticClass:"pl10"},[t._v("返回")])])]),a("span",{staticClass:"mr20 ml16",domProps:{textContent:t._s(t.$route.params.id?"编辑商品":"添加商品")}})],1)])],1),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("div",{staticClass:"new_tab"},[a("Tabs",{on:{"on-click":t.onhangeTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.headTab,(function(t,e){return a("TabPane",{key:e,attrs:{label:t.title,name:t.name}})})),1)],1),a("Form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{rules:t.ruleValidate,model:t.formValidate,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{directives:[{name:"show",rawName:"v-show",value:"1"===t.currentTab,expression:"currentTab === '1'"}],attrs:{gutter:24,type:"flex"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品类型：",props:"is_virtual"}},t._l(t.productType,(function(e,i){return a("div",{key:i,staticClass:"productType",class:t.formValidate.product_type==e.id?"on":"",on:{click:function(a){return t.productTypeTap(1,e)}}},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"title"},[t._v("("+t._s(e.title)+")")]),t.formValidate.product_type==e.id?a("div",{staticClass:"jiao"}):t._e(),t.formValidate.product_type==e.id?a("div",{staticClass:"iconfont iconduihao"}):t._e()])})),0)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品分类：",prop:"cate_id"}},[a("el-cascader",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请选择商品分类",size:"mini",options:t.treeSelect,props:t.props,filterable:"",clearable:""},model:{value:t.formValidate.cate_id,callback:function(e){t.$set(t.formValidate,"cate_id",e)},expression:"formValidate.cate_id"}}),a("span",{staticClass:"addClass",on:{click:t.addClass}},[t._v("新增分类")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品名称：",prop:"store_name"}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入商品名称"},model:{value:t.formValidate.store_name,callback:function(e){t.$set(t.formValidate,"store_name",e)},expression:"formValidate.store_name"}})],1)],1),a("Col",{staticClass:"brandName",attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品品牌：",prop:""}},[a("Cascader",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{data:t.brandData,placeholder:"请选择商品品牌","change-on-select":"",filterable:""},model:{value:t.formValidate.brand_id,callback:function(e){t.$set(t.formValidate,"brand_id",e)},expression:"formValidate.brand_id"}}),a("span",{staticClass:"addClass",on:{click:t.addBrand}},[t._v("新增品牌")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"单位：",prop:"unit_name"}},[a("Select",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{clearable:"",filterable:"",placeholder:"请输入单位"},model:{value:t.formValidate.unit_name,callback:function(e){t.$set(t.formValidate,"unit_name",e)},expression:"formValidate.unit_name"}},t._l(t.unitNameList,(function(e,i){return a("Option",{key:i,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1),a("span",{staticClass:"addClass",on:{click:t.addUnit}},[t._v("新增单位")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品编码：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入商品编码"},model:{value:t.formValidate.code,callback:function(e){t.$set(t.formValidate,"code",e)},expression:"formValidate.code"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品轮播图：",prop:"slider_image"}},[a("div",{staticClass:"acea-row"},[t._l(t.formValidate.slider_image,(function(e,i){return a("div",{key:i,staticClass:"pictrue",attrs:{draggable:"true"},on:{dragstart:function(a){return t.handleDragStart(a,e)},dragover:function(a){return a.preventDefault(),t.handleDragOver(a,e)},dragenter:function(a){return t.handleDragEnter(a,e)},dragend:function(a){return t.handleDragEnd(a,e)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}]}),a("Button",{staticClass:"btndel",attrs:{shape:"circle",icon:"md-close"},nativeOn:{click:function(e){return t.handleRemove(i)}}})],1)})),t.formValidate.slider_image.length<10?a("div",{staticClass:"upLoad acea-row row-center-wrapper",on:{click:function(e){return t.modalPicTap("duo")}}},[a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1):t._e(),a("Input",{staticStyle:{display:"none"},model:{value:t.formValidate.slider_image[0],callback:function(e){t.$set(t.formValidate.slider_image,0,e)},expression:"formValidate.slider_image[0]"}})],2),a("div",{staticClass:"tips"},[t._v(" 建议尺寸：800 * 800px，可拖拽改变图片顺序，默认首张图为主图，最多上传10张")])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"labelClass",attrs:{label:"商品标签：",prop:"store_label_id"}},[a("div",{staticClass:"acea-row row-middle"},[a("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:t.openStoreLabel}},[a("div",{staticStyle:{width:"90%"}},[t.storeDataLabel.length?a("div",t._l(t.storeDataLabel,(function(e,i){return a("Tag",{attrs:{closable:""},on:{"on-close":function(a){return t.closeStoreLabel(e)}}},[t._v(t._s(e.label_name))])})),1):a("span",{staticClass:"span"},[t._v("选择商品标签")])]),a("div",{staticClass:"iconfont iconxiayi"})]),a("span",{staticClass:"addClass",on:{click:t.addStoreLabel}},[t._v("新增标签")])])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"添加视频："}},[a("i-switch",{attrs:{size:"large"},model:{value:t.formValidate.video_open,callback:function(e){t.$set(t.formValidate,"video_open",e)},expression:"formValidate.video_open"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)],1),t.formValidate.video_open?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"视频类型："}},[a("RadioGroup",{on:{"on-change":t.changeVideo},model:{value:t.seletVideo,callback:function(e){t.seletVideo=e},expression:"seletVideo"}},[a("Radio",{staticClass:"radio",attrs:{label:0}},[t._v("本地视频")]),a("Radio",{attrs:{label:1}},[t._v("视频链接")])],1)],1)],1):t._e(),t.formValidate.video_open?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"",prop:"video_link"}},[1!=t.seletVideo||t.formValidate.video_link?t._e():a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入视频链接"},model:{value:t.videoLink,callback:function(e){t.videoLink=e},expression:"videoLink"}}),a("input",{ref:"refid",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.zh_uploadFile_change}}),0!=t.seletVideo||"1"===t.upload_type&&!t.videoLink||t.formValidate.video_link?t._e():a("div",{staticClass:"ml10 videbox",on:{click:t.zh_uploadFile}},[t._v("\n\t\t\t    +\n\t\t\t  ")]),1!=t.seletVideo||"1"===t.upload_type&&!t.videoLink||t.formValidate.video_link?t._e():a("Button",{staticClass:"uploadVideo",attrs:{type:"primary",icon:"ios-cloud-upload-outline"},on:{click:t.zh_uploadFile}},[t._v("确认添加")]),"1"!==t.upload_type||t.videoLink?t._e():a("Upload",{staticStyle:{display:"inline-block"},attrs:{"show-upload-list":!1,action:t.fileUrl2,"before-upload":t.videoSaveToUrl,data:t.uploadData,headers:t.header,multiple:!0}},[0!==t.seletVideo||t.formValidate.video_link?t._e():a("div",{staticClass:"videbox"},[t._v("\n\t\t\t\t      +\n\t\t\t\t    ")])]),t.formValidate.video_link?a("div",{staticClass:"iview-video-style"},[a("video",{staticStyle:{width:"100%",height:"100% !important","border-radius":"10px"},attrs:{src:t.formValidate.video_link,controls:"controls"}},[t._v("\n                  您的浏览器不支持 video 标签。\n                ")]),a("div",{staticClass:"mark"}),a("Icon",{staticClass:"iconv",attrs:{type:"ios-trash-outline"},on:{click:t.delVideo}})],1):t._e(),t.upload.videoIng||t.videoIng?a("Progress",{staticClass:"progress",attrs:{percent:t.progress,"stroke-width":5}}):t._e(),a("div",{staticClass:"tips"},[t._v("建议时长：9～30秒，视频宽高比16:9")])],1)],1):t._e(),a("Col",{staticClass:"goodsShow",attrs:{span:"24"}},[a("FormItem",{attrs:{label:"上架时间："}},[a("RadioGroup",{on:{"on-change":t.goodsOn},model:{value:t.formValidate.is_show,callback:function(e){t.$set(t.formValidate,"is_show",e)},expression:"formValidate.is_show"}},[a("Radio",{attrs:{label:1}},[a("Icon",{attrs:{type:"social-apple"}}),a("span",[t._v("立即上架")])],1),a("Radio",{attrs:{label:2}},[a("Icon",{attrs:{type:"social-android"}}),a("span",[t._v("定时上架")])],1),a("Radio",{attrs:{label:0}},[a("Icon",{attrs:{type:"social-windows"}}),a("span",[t._v("放入仓库")])],1)],1)],1)],1),2==t.formValidate.is_show?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:""}},[a("DatePicker",{staticStyle:{width:"260px"},attrs:{type:"datetime",options:t.startPickOptions,value:t.formValidate.auto_on_time,placeholder:"请选择上架时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.onchangeShow},model:{value:t.formValidate.auto_on_time,callback:function(e){t.$set(t.formValidate,"auto_on_time",e)},expression:"formValidate.auto_on_time"}})],1)],1):t._e(),a("Col",{staticClass:"goodsShow",attrs:{span:"24"}},[a("FormItem",{attrs:{label:"定时下架："}},[a("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},on:{"on-change":t.goodsOff},model:{value:t.off_show,callback:function(e){t.off_show=e},expression:"off_show"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)],1),1==t.off_show?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:""}},[a("DatePicker",{staticStyle:{width:"260px"},attrs:{type:"datetime",options:t.endPickOptions,value:t.formValidate.auto_off_time,placeholder:"请选择下架时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.onchangeOff},model:{value:t.formValidate.auto_off_time,callback:function(e){t.$set(t.formValidate,"auto_off_time",e)},expression:"formValidate.auto_off_time"}}),a("div",{staticClass:"tips"},[t._v("开启定时下架后，系统会在设置时间下架该商品。下架时间需晚于开售时间，商品才能定时开售。")])],1)],1):t._e()],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"2"===t.currentTab,expression:"currentTab === '2'"}],attrs:{gutter:24,type:"flex"}},[a("Col",{attrs:{span:"24"}},[t.$route.params.id?a("FormItem",{attrs:{label:"商品规格：",props:"spec_type"}},[a("RadioGroup",{on:{"on-change":t.changeSpec},model:{value:t.formValidate.spec_type,callback:function(e){t.$set(t.formValidate,"spec_type",e)},expression:"formValidate.spec_type"}},[a("Radio",{staticClass:"radio",attrs:{label:0,disabled:0!=t.formValidate.spec_type}},[t._v("单规格")]),a("Radio",{attrs:{label:1,disabled:1!=t.formValidate.spec_type}},[t._v("多规格")])],1)],1):a("FormItem",{attrs:{label:"商品规格：",props:"spec_type"}},[a("RadioGroup",{on:{"on-change":t.changeSpec},model:{value:t.formValidate.spec_type,callback:function(e){t.$set(t.formValidate,"spec_type",e)},expression:"formValidate.spec_type"}},[a("Radio",{staticClass:"radio",attrs:{label:0}},[t._v("单规格")]),a("Radio",{attrs:{label:1}},[t._v("多规格")])],1)],1)],1),1===t.formValidate.spec_type?a("Col",{staticClass:"noForm",attrs:{span:"24"}},[t.$route.params.id?t._e():a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"选择规格：",prop:""}},[a("div",{staticClass:"acea-row row-middle"},[a("Select",{staticStyle:{width:"23%"},model:{value:t.formValidate.selectRule,callback:function(e){t.$set(t.formValidate,"selectRule",e)},expression:"formValidate.selectRule"}},t._l(t.ruleList,(function(e,i){return a("Option",{key:i,attrs:{value:e.rule_name}},[t._v(t._s(e.rule_name))])})),1),a("Button",{staticClass:"mr20",attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认")]),a("Button",{on:{click:t.addRule}},[t._v("添加规格模板")])],1)])],1),a("Col",{attrs:{span:"24"}},[0!==t.attrs.length?a("FormItem",[a("draggable",{staticClass:"dragArea list-group",attrs:{list:t.attrs,group:"peoples",handle:".move-icon",move:t.checkMove},on:{end:t.end}},t._l(t.attrs,(function(e,i){return a("div",{key:i,staticClass:"acea-row row-middle mb10"},[a("div",{staticClass:"move-icon"},[a("span",{staticClass:"iconfont icondrag2"})]),a("div",{class:t.moveIndex===i?"borderStyle":"",staticStyle:{width:"90%"}},[a("div",{staticClass:"acea-row row-middle"},[a("span",{staticClass:"mr5"},[t._v(t._s(e.value))]),a("Icon",{staticClass:"curs",attrs:{type:"ios-close-circle",size:"14"},on:{click:function(e){return t.handleRemoveRole(i)}}})],1),a("div",{staticClass:"rulesBox"},[a("draggable",{attrs:{list:e.detail,handle:".drag"}},t._l(e.detail,(function(i,r){return a("Tag",{key:r,staticClass:"mr20 drag",attrs:{type:"dot",closable:"",color:"primary",name:i},on:{"on-close":function(a){return t.handleRemove2(e.detail,r)}}},[t._v(t._s(i))])})),1),a("Input",{staticStyle:{width:"200px"},attrs:{search:"","enter-button":"添加",placeholder:"请输入属性名称"},on:{"on-search":function(a){return t.createAttr(e.detail.attrsVal,i)}},model:{value:e.detail.attrsVal,callback:function(a){t.$set(e.detail,"attrsVal",a)},expression:"item.detail.attrsVal"}})],1)])])})),0)],1):t._e()],1),t.createBnt?a("Col",{attrs:{span:"24"}},[a("FormItem",[t.$route.params.id?t._e():a("Button",{staticClass:"mr15",attrs:{type:"primary",icon:"md-add"},on:{click:t.addBtn}},[t._v("添加新规格")]),a("Button",{attrs:{type:"success"},on:{click:function(e){return t.generate(1)}}},[t._v("立即生成")])],1)],1):t._e(),t.showIput?a("Col",{attrs:{span:"24"}},[a("Col",{attrs:{xl:6,lg:9,md:10,sm:24,xs:24}},[a("FormItem",{attrs:{label:"规格："}},[a("Input",{attrs:{placeholder:"请输入规格"},model:{value:t.formDynamic.attrsName,callback:function(e){t.$set(t.formDynamic,"attrsName",e)},expression:"formDynamic.attrsName"}})],1)],1),a("Col",{attrs:{xl:6,lg:9,md:10,sm:24,xs:24}},[a("FormItem",{attrs:{label:"规格值："}},[a("Input",{attrs:{placeholder:"请输入规格值"},model:{value:t.formDynamic.attrsVal,callback:function(e){t.$set(t.formDynamic,"attrsVal",e)},expression:"formDynamic.attrsVal"}})],1)],1),a("Col",{attrs:{xl:6,lg:5,md:10,sm:24,xs:24}},[a("FormItem",[a("Button",{staticClass:"mr15",attrs:{type:"primary"},on:{click:t.createAttrName}},[t._v("确定")]),a("Button",{on:{click:t.offAttrName}},[t._v("取消")])],1)],1)],1):t._e(),t.manyFormValidate.length&&0!==t.formValidate.header.length&&0!==t.attrs.length?a("Col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"labeltop",attrs:{label:"批量设置："}},[a("Table",{attrs:{data:t.oneFormBatch,columns:1==t.formValidate.product_type?t.columnsCarMy:3==t.formValidate.product_type?t.columnsFictitious:t.columns2,border:""},scopedSlots:t._u([{key:"attr",fn:function(e){e.row,e.index;return[a("div",{staticClass:"acea-row row-between-wrapper",staticStyle:{cursor:"pointer"},on:{click:t.batchAttr}},[a("div",{staticStyle:{width:"41px"}},[t._v(t._s(t.oneFormBatch[0].attr))]),a("span",{staticClass:"iconfont icondrop-down"})])]}},{key:"pic",fn:function(e){e.row;var i=e.index;return[a("div",{staticClass:"acea-row row-middle row-center-wrapper",on:{click:function(e){return t.modalPicTap("dan","duopi",i)}}},[t.oneFormBatch[0].pic?a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.oneFormBatch[0].pic,expression:"oneFormBatch[0].pic"}]})]):a("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper"},[a("Icon",{staticClass:"iosfont",attrs:{type:"ios-camera-outline",size:"26"}})],1)])]}},{key:"price",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormBatch[0].price,callback:function(e){t.$set(t.oneFormBatch[0],"price",e)},expression:"oneFormBatch[0].price"}})]}},{key:"cost",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormBatch[0].cost,callback:function(e){t.$set(t.oneFormBatch[0],"cost",e)},expression:"oneFormBatch[0].cost"}})]}},{key:"ot_price",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormBatch[0].ot_price,callback:function(e){t.$set(t.oneFormBatch[0],"ot_price",e)},expression:"oneFormBatch[0].ot_price"}})]}},{key:"stock",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0,disabled:1==t.formValidate.product_type||t.openErp},model:{value:t.oneFormBatch[0].stock,callback:function(e){t.$set(t.oneFormBatch[0],"stock",e)},expression:"oneFormBatch[0].stock"}})]}},{key:"bar_code",fn:function(e){e.row,e.index;return[a("Input",{model:{value:t.oneFormBatch[0].bar_code,callback:function(e){t.$set(t.oneFormBatch[0],"bar_code",e)},expression:"oneFormBatch[0].bar_code"}})]}},{key:"code",fn:function(e){e.row,e.index;return[a("Input",{model:{value:t.oneFormBatch[0].code,callback:function(e){t.$set(t.oneFormBatch[0],"code",e)},expression:"oneFormBatch[0].code"}})]}},{key:"weight",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{step:.1,min:0},model:{value:t.oneFormBatch[0].weight,callback:function(e){t.$set(t.oneFormBatch[0],"weight",e)},expression:"oneFormBatch[0].weight"}})]}},{key:"volume",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{step:.1,min:0},model:{value:t.oneFormBatch[0].volume,callback:function(e){t.$set(t.oneFormBatch[0],"volume",e)},expression:"oneFormBatch[0].volume"}})]}},{key:"fictitious",fn:function(e){var i=e.row;e.index;return 1==t.formValidate.product_type?[i.virtual_list||i.stock?a("span",{staticClass:"seeCatMy",on:{click:function(e){return t.seeVirtual(t.oneFormBatch[0],"oneFormBatch",0)}}},[t._v("已设置")]):a("Button",{on:{click:function(e){return t.addVirtual(0,"oneFormBatch")}}},[t._v("添加卡密")])]:void 0}},{key:"action",fn:function(e){e.row,e.index;return[a("a",{on:{click:t.batchAdd}},[t._v("批量设置")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:t.batchDel}},[t._v("清空")])]}}],null,!0)})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"labeltop",attrs:{label:"商品属性："}},[a("Table",{attrs:{data:t.manyFormValidate,columns:t.formValidate.header,border:""},scopedSlots:t._u([t._l(t.attrData.length,(function(e,i){return{key:"value"+(i+1),fn:function(e){e.row;var r=e.index;return[a("div",{class:t.manyFormValidate[r].select?"selectOn":""},[t._v(t._s(t.manyFormValidate[r]["value"+(i+1)]))])]}}})),{key:"pic",fn:function(e){e.row;var i=e.index;return[a("div",{staticClass:"acea-row row-middle row-center-wrapper",on:{click:function(e){return t.modalPicTap("dan","duoTable",i)}}},[t.manyFormValidate[i].pic?a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.manyFormValidate[i].pic,expression:"manyFormValidate[index].pic"}]})]):a("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper"},[a("Icon",{attrs:{type:"ios-camera-outline",size:"21"}})],1)])]}},{key:"price",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].price,callback:function(e){t.$set(t.manyFormValidate[i],"price",e)},expression:"manyFormValidate[index].price"}})]}},{key:"cost",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].cost,callback:function(e){t.$set(t.manyFormValidate[i],"cost",e)},expression:"manyFormValidate[index].cost"}})]}},{key:"ot_price",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].ot_price,callback:function(e){t.$set(t.manyFormValidate[i],"ot_price",e)},expression:"manyFormValidate[index].ot_price"}})]}},{key:"stock",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0,precision:0,disabled:1==t.formValidate.product_type||t.openErp},model:{value:t.manyFormValidate[i].stock,callback:function(e){t.$set(t.manyFormValidate[i],"stock",e)},expression:"manyFormValidate[index].stock"}})]}},{key:"fictitious",fn:function(e){var i=e.row,r=e.index;return 1==t.formValidate.product_type?[i.virtual_list&&i.virtual_list.length||i.stock?a("span",{staticClass:"seeCatMy",on:{click:function(e){return t.seeVirtual(i,"manyFormValidate",r)}}},[t._v("已设置")]):a("Button",{on:{click:function(e){return t.addVirtual(r,"manyFormValidate")}}},[t._v("添加卡密")])]:void 0}},{key:"bar_code",fn:function(e){e.row;var i=e.index;return[a("Input",{model:{value:t.manyFormValidate[i].bar_code,callback:function(e){t.$set(t.manyFormValidate[i],"bar_code",e)},expression:"manyFormValidate[index].bar_code"}})]}},{key:"code",fn:function(e){e.row;var i=e.index;return[a("Input",{model:{value:t.manyFormValidate[i].code,callback:function(e){t.$set(t.manyFormValidate[i],"code",e)},expression:"manyFormValidate[index].code"}})]}},{key:"weight",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].weight,callback:function(e){t.$set(t.manyFormValidate[i],"weight",e)},expression:"manyFormValidate[index].weight"}})]}},{key:"volume",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].volume,callback:function(e){t.$set(t.manyFormValidate[i],"volume",e)},expression:"manyFormValidate[index].volume"}})]}},{key:"action",fn:function(e){e.row;var i=e.index;return[a("a",{on:{click:function(e){return t.delAttrTable(i)}}},[t._v("删除")])]}}],null,!0)})],1)],1)],1):t._e()],1):t._e(),0===t.formValidate.spec_type?a("div",{staticStyle:{width:"100%"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"图片：",prop:"image"}},[a("div",{staticClass:"pictrueBox",on:{click:function(e){return t.modalPicTap("dan","danTable",0)}}},[t.oneFormValidate[0].pic?a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.oneFormValidate[0].pic,expression:"oneFormValidate[0].pic"}]}),a("Input",{staticStyle:{display:"none"},model:{value:t.oneFormValidate[0].pic,callback:function(e){t.$set(t.oneFormValidate[0],"pic",e)},expression:"oneFormValidate[0].pic"}})],1):a("div",{staticClass:"upLoad acea-row row-center-wrapper"},[a("Input",{staticStyle:{display:"none"},model:{value:t.oneFormValidate[0].pic,callback:function(e){t.$set(t.oneFormValidate[0],"pic",e)},expression:"oneFormValidate[0].pic"}}),a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1)])])],1),a("Col",{staticClass:"asterisk",attrs:{span:"24"}},[a("div",{staticClass:"asteriskInfo"},[t._v("*")]),a("FormItem",{attrs:{label:"售价："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999},model:{value:t.oneFormValidate[0].price,callback:function(e){t.$set(t.oneFormValidate[0],"price",e)},expression:"oneFormValidate[0].price"}})],1)],1),a("Col",{staticClass:"asterisk",attrs:{span:"24"}},[a("div",{staticClass:"asteriskInfo on"},[t._v("*")]),a("FormItem",{attrs:{label:"成本价："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999},model:{value:t.oneFormValidate[0].cost,callback:function(e){t.$set(t.oneFormValidate[0],"cost",e)},expression:"oneFormValidate[0].cost"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"原价："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999},model:{value:t.oneFormValidate[0].ot_price,callback:function(e){t.$set(t.oneFormValidate[0],"ot_price",e)},expression:"oneFormValidate[0].ot_price"}})],1)],1),a("Col",{staticClass:"asterisk",attrs:{span:"24"}},[a("div",{staticClass:"asteriskInfo"},[t._v("*")]),a("FormItem",{attrs:{label:"库存："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999,disabled:1==t.formValidate.product_type||t.openErp,precision:0},model:{value:t.oneFormValidate[0].stock,callback:function(e){t.$set(t.oneFormValidate[0],"stock",e)},expression:"oneFormValidate[0].stock"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品条形码："}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入商品条形码"},model:{value:t.oneFormValidate[0].bar_code,callback:function(e){t.$set(t.oneFormValidate[0],"bar_code","string"===typeof e?e.trim():e)},expression:"oneFormValidate[0].bar_code"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品编号："}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入商品编码"},model:{value:t.oneFormValidate[0].code,callback:function(e){t.$set(t.oneFormValidate[0],"code","string"===typeof e?e.trim():e)},expression:"oneFormValidate[0].code"}})],1)],1),0==t.formValidate.product_type?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"重量（KG）："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999},model:{value:t.oneFormValidate[0].weight,callback:function(e){t.$set(t.oneFormValidate[0],"weight",e)},expression:"oneFormValidate[0].weight"}})],1)],1):t._e(),0==t.formValidate.product_type?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"体积(m³)："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:99999999},model:{value:t.oneFormValidate[0].volume,callback:function(e){t.$set(t.oneFormValidate[0],"volume",e)},expression:"oneFormValidate[0].volume"}})],1)],1):t._e(),1==t.formValidate.product_type?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"卡密设置："}},[t.oneFormValidate[0].virtual_list.length||t.oneFormValidate[0].stock?a("span",{staticClass:"seeCatMy",on:{click:function(e){return t.seeVirtual(t.oneFormValidate[0],"oneFormValidate",0)}}},[t._v("已设置")]):a("Button",{on:{click:function(e){return t.addVirtual(0,"oneFormValidate")}}},[t._v("添加卡密")])],1)],1):t._e()],1):t._e()],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"3"===t.currentTab,expression:"currentTab === '3'"}],staticClass:"mb10"},[a("Col",{attrs:{span:"16"}},[a("wangeditor",{staticStyle:{width:"100%"},attrs:{content:t.contents},on:{editorContent:t.getEditorContent}})],1),a("Col",{staticStyle:{width:"33%"},attrs:{span:"6"}},[a("div",{staticClass:"ifam"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}})])])],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"4"===t.currentTab,expression:"currentTab === '4'"}]},[a("Col",t._b({},"Col",t.grid3,!1),[a("FormItem",{attrs:{label:"配送方式："}},[a("CheckboxGroup",{model:{value:t.formValidate.delivery_type,callback:function(e){t.$set(t.formValidate,"delivery_type",e)},expression:"formValidate.delivery_type"}},[a("Checkbox",{attrs:{label:"1",disabled:""}},[t._v("快递")]),a("Checkbox",{attrs:{label:"3"}},[t._v("门店配送")]),a("Checkbox",{attrs:{label:"2"}},[t._v("到店自提")])],1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"运费设置："}},[a("RadioGroup",{model:{value:t.formValidate.freight,callback:function(e){t.$set(t.formValidate,"freight",e)},expression:"formValidate.freight"}},[a("Radio",{attrs:{label:1}},[t._v("包邮")]),a("Radio",{attrs:{label:2}},[t._v("固定邮费")]),a("Radio",{attrs:{label:3}},[t._v("运费模板")])],1)],1)],1),2==t.formValidate.freight?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"",prop:"freight"}},[a("div",{staticClass:"acea-row row-middle"},[a("InputNumber",{staticClass:"perW20 maxW",attrs:{min:0,placeholder:"请输入金额"},model:{value:t.formValidate.postage,callback:function(e){t.$set(t.formValidate,"postage",e)},expression:"formValidate.postage"}}),a("span",{staticClass:"ml10"},[t._v("元")])],1)])],1):t._e(),3==t.formValidate.freight?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"",prop:""}},[a("div",{staticClass:"acea-row"},[a("Select",{staticClass:"perW20 maxW",attrs:{clearable:""},model:{value:t.formValidate.temp_id,callback:function(e){t.$set(t.formValidate,"temp_id",e)},expression:"formValidate.temp_id"}},t._l(t.templateList,(function(e,i){return a("Option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),a("Button",{staticClass:"ml15",on:{click:t.addTemp}},[t._v("添加运费模板")])],1)])],1):t._e()],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"5"===t.currentTab,expression:"currentTab === '5'"}]},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"虚拟销量："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:999999,placeholder:"请输入虚拟销量"},model:{value:t.formValidate.ficti,callback:function(e){t.$set(t.formValidate,"ficti",e)},expression:"formValidate.ficti"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"排序："}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:999999,placeholder:"请输入排序"},model:{value:t.formValidate.sort,callback:function(e){t.$set(t.formValidate,"sort",e)},expression:"formValidate.sort"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"lines"})]),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"赠送积分：",prop:"give_integral"}},[a("InputNumber",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{min:0,max:999999,placeholder:"请输入积分"},model:{value:t.formValidate.give_integral,callback:function(e){t.$set(t.formValidate,"give_integral",e)},expression:"formValidate.give_integral"}})],1)],1),a("Col",t._b({},"Col",t.grid3,!1),[a("FormItem",{attrs:{label:"赠送优惠券："}},[t.couponName.length?a("div",{staticClass:"mb20"},t._l(t.couponName,(function(e,i){return a("Tag",{key:i,attrs:{closable:""},on:{"on-close":function(a){return t.handleClose(e)}}},[t._v(t._s(e.title))])})),1):t._e(),a("Button",{attrs:{type:"primary"},on:{click:t.addCoupon}},[t._v("添加优惠券")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"labelClass",attrs:{label:"关联用户标签：",prop:"label_id"}},[a("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:t.openLabel}},[a("div",{staticStyle:{width:"90%"}},[t.dataLabel.length?a("div",t._l(t.dataLabel,(function(e,i){return a("Tag",{attrs:{closable:""},on:{"on-close":function(a){return t.closeLabel(e)}}},[t._v(t._s(e.label_name))])})),1):a("span",{staticClass:"span"},[t._v("选择用户关联标签")])]),a("div",{staticClass:"iconfont iconxiayi"})])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"付费会员专属："}},[a("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formValidate.is_vip_product,callback:function(e){t.$set(t.formValidate,"is_vip_product",e)},expression:"formValidate.is_vip_product"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),a("div",{staticClass:"tips"},[t._v("开启后仅付费会员可以看见并购买此商品")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"单独设置："}},[a("CheckboxGroup",{staticClass:"checkAlls",on:{"on-change":t.checkAllGroupChange},model:{value:t.formValidate.is_sub,callback:function(e){t.$set(t.formValidate,"is_sub",e)},expression:"formValidate.is_sub"}},[a("Checkbox",{attrs:{label:1}},[t._v("佣金设置（数字即返佣金额）")]),a("Checkbox",{attrs:{label:0}},[t._v("付费会员价")])],1)],1)],1),t.formValidate.is_sub.length?a("Col",{attrs:{span:"24"}},[0===t.formValidate.spec_type?a("FormItem",{attrs:{label:"商品属性："}},[a("Table",{attrs:{data:t.oneFormValidate,columns:t.columnsInstall,border:""},scopedSlots:t._u([{key:"pic",fn:function(e){e.row,e.index;return[a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.oneFormValidate[0].pic,expression:"oneFormValidate[0].pic"}]})])]}},{key:"price",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].price))]}},{key:"cost",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].cost))]}},{key:"ot_price",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].ot_price))]}},{key:"stock",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].stock))]}},{key:"bar_code",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].bar_code))]}},{key:"code",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].code))]}},{key:"weight",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].weight))]}},{key:"volume",fn:function(e){e.row,e.index;return[t._v(t._s(t.oneFormValidate[0].volume))]}},{key:"brokerage",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormValidate[0].brokerage,callback:function(e){t.$set(t.oneFormValidate[0],"brokerage",e)},expression:"oneFormValidate[0].brokerage"}})]}},{key:"brokerage_two",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormValidate[0].brokerage_two,callback:function(e){t.$set(t.oneFormValidate[0],"brokerage_two",e)},expression:"oneFormValidate[0].brokerage_two"}})]}},{key:"vip_price",fn:function(e){e.row,e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.oneFormValidate[0].vip_price,callback:function(e){t.$set(t.oneFormValidate[0],"vip_price",e)},expression:"oneFormValidate[0].vip_price"}})]}}],null,!1,2114426461)})],1):t._e(),1===t.formValidate.spec_type?a("FormItem",{attrs:{label:"批量设置："}},[t.formValidate.is_sub.indexOf(1)>-1?a("span",[t._v("\n\t\t\t      一级返佣："),a("InputNumber",{staticClass:"columnsBox perW20",attrs:{placeholder:"请输入一级返佣",min:0},model:{value:t.manyBrokerage,callback:function(e){t.manyBrokerage=e},expression:"manyBrokerage"}}),t._v("\n\t\t\t      二级返佣："),a("InputNumber",{staticClass:"columnsBox perW20",attrs:{placeholder:"请输入二级返佣",min:0},model:{value:t.manyBrokerageTwo,callback:function(e){t.manyBrokerageTwo=e},expression:"manyBrokerageTwo"}})],1):t._e(),t.formValidate.is_sub.indexOf(0)>-1?a("span",[t._v("\n\t\t\t      会员价："),a("InputNumber",{staticClass:"columnsBox perW20",attrs:{placeholder:"请输入会员价",min:0},model:{value:t.manyVipPrice,callback:function(e){t.manyVipPrice=e},expression:"manyVipPrice"}})],1):t._e(),a("Button",{attrs:{type:"primary"},on:{click:t.brokerageSetUp}},[t._v("批量设置")])],1):t._e(),1===t.formValidate.spec_type&&t.manyFormValidate.length?a("FormItem",{attrs:{label:"商品属性："}},[t.formValidate.is_sub?a("Table",{attrs:{data:t.manyFormValidate,columns:t.columnsInstal2,border:""},scopedSlots:t._u([t._l(t.attrData.length,(function(e,i){return{key:"value"+(i+1),fn:function(e){e.row;var r=e.index;return[a("div",[t._v(t._s(t.manyFormValidate[r]["value"+(i+1)]))])]}}})),{key:"pic",fn:function(e){e.row;var i=e.index;return[a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.manyFormValidate[i].pic,expression:"manyFormValidate[index].pic"}]})])]}},{key:"price",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].price))]}},{key:"cost",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].cost))]}},{key:"ot_price",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].ot_price))]}},{key:"stock",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].stock))]}},{key:"bar_code",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].bar_code))]}},{key:"code",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].code))]}},{key:"weight",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].weight))]}},{key:"volume",fn:function(e){e.row;var a=e.index;return[t._v(t._s(t.manyFormValidate[a].volume))]}},{key:"brokerage",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].brokerage,callback:function(e){t.$set(t.manyFormValidate[i],"brokerage",e)},expression:"manyFormValidate[index].brokerage"}})]}},{key:"brokerage_two",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].brokerage_two,callback:function(e){t.$set(t.manyFormValidate[i],"brokerage_two",e)},expression:"manyFormValidate[index].brokerage_two"}})]}},{key:"vip_price",fn:function(e){e.row;var i=e.index;return[a("InputNumber",{staticClass:"priceBox",attrs:{min:0},model:{value:t.manyFormValidate[i].vip_price,callback:function(e){t.$set(t.manyFormValidate[i],"vip_price",e)},expression:"manyFormValidate[index].vip_price"}})]}}],null,!0)}):t._e()],1):t._e()],1):t._e(),a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"lines"})]),0==t.formValidate.product_type?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"预售商品："}},[a("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formValidate.is_presale_product,callback:function(e){t.$set(t.formValidate,"is_presale_product",e)},expression:"formValidate.is_presale_product"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)],1):t._e(),0==t.formValidate.product_type&&t.formValidate.is_presale_product?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"预售活动时间：",prop:"presale_time"}},[a("div",{staticClass:"acea-row row-middle"},[a("DatePicker",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{editable:!1,options:t.datePickerOptions,type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"请选择活动时间",value:t.formValidate.presale_time},on:{"on-change":t.onchangeTime},model:{value:t.formValidate.presale_time,callback:function(e){t.$set(t.formValidate,"presale_time",e)},expression:"formValidate.presale_time"}})],1),a("div",{staticClass:"tips"},[t._v("\n\t\t\t      设置活动开启结束时间，用户可以在设置时间内发起参与预售\n\t\t\t    ")])])],1):t._e(),0==t.formValidate.product_type&&t.formValidate.is_presale_product?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"发货时间：",prop:"presale_day"}},[a("div",{staticClass:"acea-row row-middle"},[a("span",{staticClass:"mr10"},[t._v("预售活动结束后")]),a("InputNumber",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入发货时间",precision:0,min:1},model:{value:t.formValidate.presale_day,callback:function(e){t.$set(t.formValidate,"presale_day",e)},expression:"formValidate.presale_day"}}),a("span",{staticClass:"ml10"},[t._v("天之内")])],1)])],1):t._e(),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品推荐："}},[a("CheckboxGroup",{staticClass:"checkAlls",model:{value:t.formValidate.recommend,callback:function(e){t.$set(t.formValidate,"recommend",e)},expression:"formValidate.recommend"}},[a("Checkbox",{attrs:{label:"is_hot"}},[t._v("热卖单品")]),a("Checkbox",{attrs:{label:"is_benefit"}},[t._v("促销单品")]),a("Checkbox",{attrs:{label:"is_best"}},[t._v("精品推荐")]),a("Checkbox",{attrs:{label:"is_new"}},[t._v("首发新品")]),a("Checkbox",{attrs:{label:"is_good"}},[t._v("优品推荐")])],1)],1)],1),a("Col",t._b({},"Col",t.grid3,!1),[a("FormItem",{attrs:{label:"活动优先级："}},[a("div",{staticClass:"color-list acea-row row-middle"},[t._l(t.formValidate.activity,(function(e,i){return a("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:e,list:t.formValidate.activity,group:"color"},expression:"{\n\t\t\t          item: color,\n\t\t\t          list: formValidate.activity,\n\t\t\t          group: 'color',\n\t\t\t        }"}],key:e,staticClass:"color-item acea-row row-center-wrapper",class:t.activity[e]},[a("div",{staticClass:"num"},[t._v(t._s(i+1))]),a("div",[t._v(" "+t._s(e))])])})),a("div",{staticClass:"tips"},[t._v("可拖动按钮调整活动的优先展示顺序")])],2)])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"选择优品推荐商品："}},[a("div",{staticClass:"acea-row"},[t._l(t.goodsData,(function(e,i){return a("div",{key:i,staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}]}),a("Button",{staticClass:"btndel",attrs:{shape:"circle",icon:"md-close"},nativeOn:{click:function(e){return t.bindDelete(i)}}})],1)})),t.goodsData.length<12?a("div",{staticClass:"upLoad acea-row row-center-wrapper",on:{click:t.goodsTap}},[a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1):t._e()],2)])],1)],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"6"===t.currentTab,expression:"currentTab === '6'"}]},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品关键字：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{placeholder:"请输入商品关键字"},model:{value:t.formValidate.keyword,callback:function(e){t.$set(t.formValidate,"keyword",e)},expression:"formValidate.keyword"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品简介：",prop:""}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{type:"textarea",rows:3,placeholder:"请输入商品简介"},model:{value:t.formValidate.store_info,callback:function(e){t.$set(t.formValidate,"store_info",e)},expression:"formValidate.store_info"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品口令："}},[a("Input",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{type:"textarea",rows:3,placeholder:"请输入商品口令"},model:{value:t.formValidate.command_word,callback:function(e){t.$set(t.formValidate,"command_word",e)},expression:"formValidate.command_word"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品推荐图："}},[a("div",{staticClass:"pictrueBox",on:{click:function(e){return t.modalPicTap("dan","recommend_image")}}},[t.formValidate.recommend_image?a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.formValidate.recommend_image,expression:"formValidate.recommend_image"}]}),a("Input",{staticStyle:{display:"none"},model:{value:t.formValidate.recommend_image,callback:function(e){t.$set(t.formValidate,"recommend_image",e)},expression:"formValidate.recommend_image"}})],1):a("div",{staticClass:"upLoad acea-row row-center-wrapper"},[a("Input",{staticStyle:{display:"none"},model:{value:t.formValidate.recommend_image,callback:function(e){t.$set(t.formValidate,"recommend_image",e)},expression:"formValidate.recommend_image"}}),a("Icon",{attrs:{type:"ios-camera-outline",size:"26"}})],1)]),a("div",{staticClass:"tips"},[t._v("(建议尺寸5:2)")])])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"服务保障："}},[a("CheckboxGroup",{staticClass:"checkAlls",model:{value:t.formValidate.ensure_id,callback:function(e){t.$set(t.formValidate,"ensure_id",e)},expression:"formValidate.ensure_id"}},t._l(t.ensureData,(function(e,i){return a("Checkbox",{attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品参数：",prop:""}},[a("Select",{directives:[{name:"width",rawName:"v-width",value:"50%",expression:"'50%'"}],attrs:{clearable:"",filterable:"",placeholder:"请输入商品参数"},on:{"on-change":t.specsInfo},model:{value:t.formValidate.specs_id,callback:function(e){t.$set(t.formValidate,"specs_id",e)},expression:"formValidate.specs_id"}},t._l(t.specsData,(function(e,i){return a("Option",{key:i,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),t.formValidate.specs_id?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"",props:""}},[a("Table",{ref:"table",staticClass:"specsList",attrs:{border:"",columns:t.specsColumns,data:t.specsList,width:"700"},scopedSlots:t._u([{key:"action",fn:function(e){e.row;var i=e.index;return[i>0?a("a",{on:{click:function(e){return t.delSpecs(i)}}},[t._v("删除")]):t._e()]}}],null,!1,3048928172)}),a("Button",{staticClass:"mt20",on:{click:t.addSpecs}},[t._v("添加参数")])],1)],1):t._e(),t.formValidate.product_type?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"支持退款：",props:"status","label-for":"status"}},[a("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formValidate.is_support_refund,callback:function(e){t.$set(t.formValidate,"is_support_refund",e)},expression:"formValidate.is_support_refund"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)],1):t._e(),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"自定义留言："}},[a("i-switch",{attrs:{size:"large"},on:{"on-change":t.customMessBtn},model:{value:t.customBtn,callback:function(e){t.customBtn=e},expression:"customBtn"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),t.customBtn?a("div",{staticClass:"addCustom_content"},t._l(t.formValidate.custom_form,(function(e,i){return a("div",{key:i,staticClass:"custom_box",attrs:{type:"flex"}},[a("Input",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{placeholder:"留言标题"+(i+1)},model:{value:e.title,callback:function(a){t.$set(e,"title","string"===typeof a?a.trim():a)},expression:"item.title"}}),a("Select",{staticStyle:{width:"200px","margin-left":"6px","margin-right":"10px"},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"item.label"}},t._l(t.customList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1),a("Checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"item.status"}},[t._v("必填")]),a("div",{staticClass:"addfont",on:{click:function(e){return t.delcustom(i)}}},[t._v("删除")])],1)})),0):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.customBtn,expression:"customBtn"}],staticClass:"addCustomBox"},[a("div",{staticClass:"btn",on:{click:t.addcustom}},[t._v("+ 添加表单")]),a("div",{staticClass:"tips"},[t._v("用户下单时需填写的信息，最多可设置10条")])])],1)],1)],1),t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1),a("Modal",{attrs:{width:"960px",scrollable:"","footer-hide":"",closable:"",title:"上传商品图","mask-closable":!1,"z-index":1},model:{value:t.modalPic,callback:function(e){t.modalPic=e},expression:"modalPic"}},[t.modalPic?a("uploadPictures",{attrs:{isChoice:t.isChoice,gridBtn:t.gridBtn,gridPic:t.gridPic},on:{getPic:t.getPic,getPicD:t.getPicD}}):t._e()],1)],1),a("Card",{staticClass:"fixed-card",style:{left:t.menuCollapse?t.isMobile?"0":"80px":"200px"},attrs:{bordered:!1,"dis-hover":""}},[a("Form",[a("FormItem",["1"!==t.currentTab?a("Button",{on:{click:t.upTab}},[t._v("上一步")]):t._e(),"6"!==t.currentTab?a("Button",{staticClass:"submission",attrs:{type:"primary"},on:{click:function(e){return t.downTab("formValidate")}}},[t._v("下一步")]):t._e(),t.$route.params.id||"6"===t.currentTab?a("Button",{staticClass:"submission",attrs:{type:"primary",disabled:t.openSubimit},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("保存")]):t._e()],1)],1)],1),a("freightTemplate",{ref:"templates",attrs:{template:t.template},on:{changeTemplate:t.changeTemplate}}),a("add-attr",{ref:"addattr",on:{getList:t.userSearchs}}),a("coupon-list",{ref:"couponTemplates",attrs:{couponids:t.formValidate.coupon_ids,updateIds:t.updateIds,updateName:t.updateName},on:{nameId:t.nameId}}),a("Modal",{staticClass:"Box",attrs:{"class-name":"vertical-center-modal",scrollable:"","footer-hide":"",closable:"",title:"复制淘宝、天猫、京东、苏宁、1688","mask-closable":!1,width:"800",height:"500"},on:{"on-cancel":t.cancel},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[t.modals?a("tao-bao",{ref:"taobaos",on:{"on-close":t.onClose}}):t._e()],1),a("Modal",{attrs:{title:"商品列表",footerHide:"",scrollable:"",width:"900"},on:{"on-cancel":t.goodCancel},model:{value:t.goodsModals,callback:function(e){t.goodsModals=e},expression:"goodsModals"}},[t.goodsModals?a("goods-list",{ref:"goodslist",attrs:{ischeckbox:!0},on:{getProductId:t.getProductId}}):t._e()],1),a("Modal",{attrs:{scrollable:"",title:"请选择用户标签",closable:!1,width:"320","footer-hide":!0,"mask-closable":!1},model:{value:t.labelShow,callback:function(e){t.labelShow=e},expression:"labelShow"}},[a("userLabel",{ref:"userLabel",on:{activeData:t.activeData,close:t.labelClose}})],1),a("Modal",{attrs:{scrollable:"",title:"请选择商品标签",closable:!1,width:"320","footer-hide":!0,"mask-closable":!1},model:{value:t.storeLabelShow,callback:function(e){t.storeLabelShow=e},expression:"storeLabelShow"}},[a("storeLabelList",{ref:"storeLabel",on:{activeData:t.activeStoreData,close:t.storeLabelClose}})],1),a("menus-from",{ref:"menusFrom",attrs:{formValidate:t.formBrand,fromName:1}}),a("Modal",{attrs:{scrollable:"",title:"请选择商品规格",closable:!1,width:"320","footer-hide":!0,"mask-closable":!1},model:{value:t.attrShow,callback:function(e){t.attrShow=e},expression:"attrShow"}},[t.attrShow?a("attr-list",{attrs:{attrs:t.attrsList},on:{activeData:t.activeAttr,close:t.labelAttr,subAttrs:t.subAttrs}}):t._e()],1),a("Modal",{attrs:{scrollable:"",title:"添加卡密",closable:"",width:"700","footer-hide":!0,"mask-closable":!1},model:{value:t.carMyShow,callback:function(e){t.carMyShow=e},expression:"carMyShow"}},[a("add-carMy",{ref:"addCarMy",attrs:{virtualList:t.virtualList},on:{changeVirtual:t.changeVirtual,fixdBtn:t.fixdBtn,closeCarMy:t.closeCarMy}})],1)],1)},r=[],n=a("a34a"),o=a.n(n),s=a("2f62"),l=a("d708"),c=a("c276"),u=a("310e"),d=a.n(u),m=a("b0e7"),f=a("5334"),p=a("a069"),h=a("5d4b"),v=a("0f0e"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-wrapper"},[a("div",{staticClass:"list-box"},[t._l(t.labelList,(function(e,i){return t.isStore?a("div",{key:i,staticClass:"label-box"},[e.children&&e.children.length?a("div",{staticClass:"title"},[t._v(t._s(e.label_name))]):t._e(),e.children&&e.children.length?a("div",{staticClass:"list"},t._l(e.children,(function(e,i){return a("div",{key:i,staticClass:"label-item",class:{on:e.disabled},on:{click:function(a){return t.selectLabel(e)}}},[t._v(t._s(e.label_name))])})),0):t._e()]):t._e()})),t.isStore?t._e():a("div",[t._v("暂无标签")])],2),a("div",{staticClass:"footer"},[a("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")]),a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")])],1)])},b=[],g=a("c4c8"),y={name:"storeLabelList",props:{},data:function(){return{labelList:[],dataLabel:[],isStore:!1}},mounted:function(){},methods:{inArray:function(t,e){for(var a in e)if(e[a].id==t)return!0;return!1},storeLabel:function(t){var e=this;this.dataLabel=t,Object(g["Z"])().then((function(t){t.data.map((function(t){t.children&&(e.isStore=!0,t.children.map((function(t){e.inArray(t.id,e.dataLabel)?t.disabled=!0:t.disabled=!1})))})),e.labelList=t.data})).catch((function(t){e.$Message.error(t.msg)}))},selectLabel:function(t){if(t.disabled){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1),t.disabled=!1}else this.dataLabel.push({label_name:t.label_name,id:t.id}),t.disabled=!0},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}},w=y,x=(a("152e"),a("2877")),k=Object(x["a"])(w,_,b,!1,null,"06b67f6e",null),V=k.exports,C=a("e449"),F=a("c4ad"),$=a("6fd3"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-wrapper"},[a("div",{staticClass:"list-box"},t._l(t.attrs,(function(e,i){return a("div",{key:i,staticClass:"label-box"},[a("div",{staticClass:"title"},[t._v(t._s(e.value))]),a("div",{staticClass:"list"},t._l(e.details,(function(e,i){return a("div",{key:i,staticClass:"label-item",class:e.select?"on":"",on:{click:function(a){return t.selectAttr(e,i)}}},[t._v(t._s(e.name))])})),0)])})),0),a("div",{staticClass:"footer"},[a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")]),a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.reset}},[t._v("重置")]),a("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])},O=[],S={name:"attrList",props:{attrs:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){},methods:{selectAttr:function(t,e){t.select=!t.select,this.$emit("activeData",JSON.parse(JSON.stringify(this.attrs)))},cancel:function(){this.$emit("close")},reset:function(){var t=this.attrs;t.map((function(t){t.details.map((function(t){t.select=!1}))})),this.attrs=t},subBtn:function(){this.$emit("subAttrs")}}},T=S,B=(a("a2ed"),Object(x["a"])(T,I,O,!1,null,"61714c61",null)),L=B.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carMywrapper"},[a("div",{staticClass:"type-radio"},[a("Form",{attrs:{"label-width":80}},[a("FormItem",{attrs:{label:"卡密类型："}},[a("RadioGroup",{attrs:{size:"large"},model:{value:t.cartMyType,callback:function(e){t.cartMyType=e},expression:"cartMyType"}},[a("Radio",{attrs:{label:1}},[t._v("固定卡密")]),a("Radio",{attrs:{label:2}},[t._v("一次性卡密")])],1),1==t.cartMyType?a("div",[a("div",{staticClass:"stock-disk"},[a("Input",{attrs:{size:"large",type:"textarea",rows:4,placeholder:"填写卡密信息"},model:{value:t.fixedCar.disk_info,callback:function(e){t.$set(t.fixedCar,"disk_info",e)},expression:"fixedCar.disk_info"}})],1),a("div",{staticClass:"stock-input"},[a("Input",{attrs:{type:"number",size:"large",placeholder:"填写库存数量"},model:{value:t.fixedCar.stock,callback:function(e){t.$set(t.fixedCar,"stock",e)},expression:"fixedCar.stock"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("件")])])],1)]):t._e(),2==t.cartMyType?a("div",{staticClass:"scroll-virtual"},t._l(t.virtualList,(function(e,i){return a("div",{key:i,staticClass:"acea-row row-middle mb10"},[a("span",{staticClass:"mr10 virtual-title"},[t._v("卡号"+t._s(i+1)+"：")]),a("Input",{staticClass:"mr10",staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入卡号(非必填)"},model:{value:e.key,callback:function(a){t.$set(e,"key","string"===typeof a?a.trim():a)},expression:"item.key"}}),a("span",{staticClass:"mr10 virtual-title"},[t._v("卡密"+t._s(i+1)+"：")]),a("Input",{staticClass:"mr10",staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入卡密"},model:{value:e.value,callback:function(a){t.$set(e,"value","string"===typeof a?a.trim():a)},expression:"item.value"}}),a("span",{staticClass:"deteal-btn",on:{click:function(e){return t.removeVirtual(i)}}},[t._v("删除")])],1)})),0):t._e(),2==t.cartMyType?a("div",{staticClass:"add-more"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("添加卡密")]),a("Upload",{ref:"upload",staticClass:"ml10",attrs:{action:t.cardUrl,"before-upload":t.beforeUpload,headers:t.header,"on-success":t.upFile,format:["xlsx"],"on-format-error":t.handleFormatError}},[a("Button",{attrs:{type:"success"}},[t._v("导入卡密")])],1),a("Button",{staticClass:"download",attrs:{type:"default",icon:"ios-download-outline"},on:{click:t.getCarMyList}},[t._v("下载卡密模板")])],1):t._e()],1)],1)],1),a("div",{staticClass:"footer"},[a("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")]),a("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])},N=[],D=a("2e83");function j(t,e,a,i,r,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function P(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var n=t.apply(e,a);function o(t){j(n,i,r,o,s,"next",t)}function s(t){j(n,i,r,o,s,"throw",t)}o(void 0)}))}}var E={name:"addCarMy",props:{virtualList:{type:Array,default:function(){return[]}}},data:function(){return{cartMyType:1,fixedCar:{disk_info:"",stock:0},cardUrl:l["a"].apiBaseURL+"/file/upload/1",header:{}}},created:function(){this.getToken()},mounted:function(){},methods:{getCarMyList:function(){var t=P(o.a.mark((function t(){var e,a,i,r,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],a=[],i=[],r="",t.next=3,this.getExcelData();case 3:n=t.sent,r||(r=n.filename),a.length||(a=n.filekey),e.length||(e=n.header),i=n.export,Object(D["a"])(e,a,r,i);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getExcelData:function(){return new Promise((function(t,e){Object(g["m"])().then((function(e){return t(e.data)}))}))},removeVirtual:function(t){this.virtualList.splice(t,1)},upFile:function(t){var e=this;Object(g["r"])({file:t.data.src}).then((function(t){e.$emit("changeVirtual",JSON.parse(JSON.stringify(t.data)))})).catch((function(t){return e.$Message.error(t.msg)}))},handleFormatError:function(t){return this.$Message.error("必须上传xlsx格式文件")},getToken:function(){this.header["Authori-zation"]="Bearer "+c["a"].cookies.get("token")},cancel:function(){this.$emit("closeCarMy")},handleAdd:function(){this.virtualList.push({key:"",value:""})},beforeUpload:function(){var t=this,e=new Promise((function(e){t.$nextTick((function(){e(!0)}))}));return e},subBtn:function(){if(1==this.cartMyType){if(this.fixedCar.cartMyType=1,""==this.fixedCar.disk_info)return this.$Message.error("请填写卡密信息");if(!this.fixedCar.stock)return this.$Message.error("请填写库存数量");this.$emit("fixdBtn",JSON.parse(JSON.stringify(this.fixedCar)))}else{for(var t={cartMyType:2,virtualList:this.virtualList},e=0;e<this.virtualList.length;e++){var a=this.virtualList[e];if(!a.value)return this.$Message.error("请输入所有卡密")}this.$emit("fixdBtn",JSON.parse(JSON.stringify(t)))}}}},A=E,R=(a("9ba7"),Object(x["a"])(A,M,N,!1,null,"6d6ee174",null)),U=R.exports,z=a("6625"),G=a.n(z),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Box"},[a("Card",[a("div",[t._v("生成的商品默认是没有上架的，请手动上架商品！\n            "),2==t.copyConfig.copy_type?a("a",{attrs:{href:"http://help.crmeb.net/crmeb-v4/1863579",target:"_blank"}},[t._v("如何配置密钥")]):a("span",[t._v("您当前剩余"+t._s(t.copyConfig.copy_num)+"条采集次数，"),a("a",{attrs:{href:"#"},on:{click:function(e){return t.mealPay("copy")}}},[t._v("增加采集次数")])])]),a("div",[t._v("商品采集设置：设置 > 系统设置 > 第三方接口设置 > 采集商品配置")])]),a("Form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{"label-width":120,"label-position":"right"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{gutter:24,type:"flex"}},[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"链接地址："}},[a("Input",{staticClass:"numPut",attrs:{search:"","enter-button":"确定",placeholder:"请输入链接地址"},on:{"on-search":t.add},model:{value:t.soure_link,callback:function(e){t.soure_link=e},expression:"soure_link"}})],1)],1)],1)],1),t.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)},H=[],J={name:"taoBao",data:function(){return{soure_link:"",spinShow:!1,grid:{xl:8,lg:8,md:12,sm:24,xs:24},grid2:{xl:12,lg:12,md:12,sm:24,xs:24},copyConfig:{copy_type:"",copy_num:0},artFrom:{type:"taobao",url:""}}},computed:{},created:function(){},mounted:function(){this.getCopyConfig()},methods:{mealPay:function(t){this.$router.push({path:"/admin/setting/sms/sms_pay/index",query:{type:t}})},getCopyConfig:function(){var t=this;Object(g["i"])().then((function(e){t.copyConfig.copy_type=e.data.copy_type,t.copyConfig.copy_num=e.data.copy_num}))},add:function(){var t=this;if(this.soure_link){var e=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/;if(!e.test(this.soure_link))return this.$Message.warning("请输入以http开头的地址！");this.spinShow=!0,this.artFrom.url=this.soure_link,Object(g["j"])(this.artFrom).then((function(e){var a=e.data.productInfo;t.$emit("on-close",a),t.spinShow=!1})).catch((function(e){t.spinShow=!1,t.$Message.error(e.msg)}))}else this.$Message.warning("请输入链接地址！")}}},q=J,K=(a("1e3e"),Object(x["a"])(q,W,H,!1,null,"b01e5a38",null)),X=K.exports,Y=a("0fc4"),Z=a("0e5c");function Q(t){return at(t)||et(t)||tt()}function tt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function et(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function at(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function it(t,e,a,i,r,n,o){try{var s=t[n](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function rt(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var n=t.apply(e,a);function o(t){it(n,i,r,o,s,"next",t)}function s(t){it(n,i,r,o,s,"throw",t)}o(void 0)}))}}function nt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?nt(a,!0).forEach((function(e){st(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function st(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var lt={name:"product_productAdd",components:{VueUeditorWrap:G.a,uploadPictures:m["a"],freightTemplate:f["a"],goodsList:F["default"],addAttr:$["a"],couponList:C["a"],taoBao:X,userLabel:v["a"],menusFrom:h["a"],attrList:L,addCarMy:U,storeLabelList:V,wangeditor:p["a"],draggable:d.a},data:function(){var t,e=this;return{specsList:[],specsColumns:[{title:"参数名称",key:"name",align:"center",width:150,render:function(t,a){return t("div",[t("Input",{props:{value:a.row.name,placeholder:"请输入参数名称"},on:{"on-change":function(t){a.row.name=t.target.value,e.specsList[a.index].name=t.target.value}}})])}},{title:"参数值",key:"value",align:"center",width:300,render:function(t,a){return t("div",[t("Input",{props:{value:a.row.value,placeholder:"请输入参数值"},on:{"on-change":function(t){a.row.value=t.target.value,e.specsList[a.index].value=t.target.value}}})])}},{title:"排序",key:"sort",align:"center",width:100,render:function(t,a){return t("div",[t("InputNumber",{props:{value:a.row.sort||0,placeholder:"排序",precision:0},on:{"on-change":function(t){a.row.sort=t,e.specsList[a.index].sort=t}}})])}},{title:"操作",slot:"action",align:"center",minWidth:120}],customList:[{value:"text",label:"文本框"},{value:"number",label:"数字"},{value:"email",label:"邮件"},{value:"data",label:"日期"},{value:"time",label:"时间"},{value:"id",label:"身份证"},{value:"phone",label:"手机号"},{value:"img",label:"图片"}],headTab:[{title:"基础信息",name:"1"},{title:"规格库存",name:"2"},{title:"商品详情",name:"3"},{title:"物流设置",name:"4"},{title:"营销设置",name:"5"},{title:"其他设置",name:"6"}],productType:[{name:"普通商品",title:"物流发货",id:0},{name:"卡密/网盘",title:"自动发货",id:1},{name:"虚拟商品",title:"虚拟发货",id:3}],virtualList:[],carMyShow:!1,recommend:[],customBtn:!1,attrShow:!1,content:"",contents:"",seletVideo:0,fileUrl:l["a"].apiBaseURL+"/file/upload",fileUrl2:l["a"].apiBaseURL+"/file/video_upload",upload_type:"",uploadData:{},header:{},dataLabel:[],storeDataLabel:[],labelShow:!1,storeLabelShow:!1,props:{emitPath:!1,multiple:!0},type:0,goodsModals:!1,off_show:0,modals:!1,spinShow:!1,openSubimit:!1,grid2:{xl:10,lg:12,md:12,sm:24,xs:24},grid3:{xl:18,lg:18,md:20,sm:24,xs:24},oneFormBatch:[{attr:"全部",pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0}],formDynamic:{attrsName:"",attrsVal:""},formDynamicNameData:[],isBtn:!1,myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"/admin/UEditor/",serverUrl:""},columnsCarMy:[],columns2:[{title:"商品规格",slot:"attr",align:"center",minWidth:80},{title:"图片",slot:"pic",align:"center",minWidth:80},{title:"售价",slot:"price",align:"center",minWidth:95},{title:"成本价",slot:"cost",align:"center",minWidth:95},{title:"原价",slot:"ot_price",align:"center",minWidth:95},{title:"库存",slot:"stock",align:"center",minWidth:95},{title:"商品条形码",slot:"bar_code",align:"center",minWidth:120},{title:"商品编号",slot:"code",align:"center",minWidth:120},{title:"重量（KG）",slot:"weight",align:"center",minWidth:95},{title:"体积(m³)",slot:"volume",align:"center",minWidth:95},{title:"操作",slot:"action",align:"center",minWidth:140}],columns:[],columnsInstall:[],columnsInstal2:[],gridPic:{xl:6,lg:8,md:12,sm:12,xs:12},gridBtn:{xl:4,lg:8,md:8,sm:8,xs:8},formValidate:(t={presale_day:1,is_presale_product:0,is_vip_product:0,is_support_refund:0,disk_info:""},st(t,"presale_day",1),st(t,"presale_time",[]),st(t,"auto_on_time",""),st(t,"video_open",!1),st(t,"store_name",""),st(t,"freight",1),st(t,"postage",0),st(t,"custom_form",[]),st(t,"cate_id",[]),st(t,"label_id",[]),st(t,"ensure_id",[]),st(t,"keyword",""),st(t,"unit_name",""),st(t,"specs_id",0),st(t,"store_info",""),st(t,"bar_code",""),st(t,"code",""),st(t,"image",""),st(t,"recommend_image",""),st(t,"slider_image",[]),st(t,"description",""),st(t,"ficti",0),st(t,"give_integral",0),st(t,"sort",0),st(t,"is_show",1),st(t,"is_hot",0),st(t,"is_benefit",0),st(t,"is_best",0),st(t,"is_new",0),st(t,"is_good",0),st(t,"is_postage",0),st(t,"is_sub",[]),st(t,"id",0),st(t,"spec_type",0),st(t,"video_link",""),st(t,"temp_id",""),st(t,"attrs",[]),st(t,"items",[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:""}]),st(t,"activity",["默认","秒杀","砍价","拼团"]),st(t,"couponName",[]),st(t,"header",[]),st(t,"selectRule",""),st(t,"coupon_ids",[]),st(t,"command_word",""),st(t,"delivery_type",["1"]),st(t,"specs",[]),st(t,"recommend_list",[]),st(t,"brand_id",[]),st(t,"product_type",0),t),ruleList:[],templateList:[],createBnt:!1,showIput:!1,manyFormValidate:[],oneFormValidate:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0,brokerage:0,brokerage_two:0,vip_price:0,virtual_list:[]}],images:[],imagesTable:"",currentTab:"1",isChoice:"",grid:{xl:8,lg:8,md:12,sm:24,xs:24},loading:!1,modalPic:!1,template:!1,uploadList:[],treeSelect:[],labelSelect:[],ensureData:[],specsData:[],picTit:"",tableIndex:0,ruleValidate:{store_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],cate_id:[{required:!0,message:"请选择商品分类",trigger:"change",type:"array"}],keyword:[{required:!0,message:"请输入商品关键字",trigger:"blur"}],unit_name:[{required:!0,message:"请输入单位",trigger:"change"}],store_info:[{required:!0,message:"请输入商品简介",trigger:"blur"}],slider_image:[{required:!0,message:"请上传商品轮播图",type:"array",trigger:"change"}],spec_type:[{required:!0,message:"请选择商品规格",trigger:"change"}],selectRule:[{required:!0,message:"请选择商品规格属性",trigger:"change"}],give_integral:[{type:"integer",message:"请输入整数"}]},manyBrokerage:0,manyBrokerageTwo:0,manyVipPrice:0,upload:{videoIng:!1},videoIng:!1,progress:0,videoLink:"",attrs:[],activity:{"默认":"colorBlue","秒杀":"colorBlue","砍价":"colorBlue","拼团":"colorBlue"},couponName:[],updateIds:[],updateName:[],rakeBack:[{title:"一级返佣",slot:"brokerage",align:"center",width:95},{title:"二级返佣",slot:"brokerage_two",align:"center",width:95}],member:[{title:"会员价",slot:"vip_price",align:"center",width:95}],headerCarMy:{title:"卡密设置",slot:"fictitious",align:"center",width:95},columnsInstalM:[],moveIndex:"",goodsData:[],brandData:[],unitNameList:[],formBrand:{},attrsList:[],activeAtter:[],tabIndex:0,tabName:"",attrData:[],datePickerOptions:{disabledDate:function(t){return t&&t.valueOf()<Date.now()-864e5}},openErp:!1}},computed:ot({},Object(s["e"])("admin/layout",["isMobile","menuCollapse"]),{labelWidth:function(){return this.isMobile?void 0:120},labelPosition:function(){return this.isMobile?"top":"right"},labelBottom:function(){return this.isMobile?void 0:15},startPickOptions:function(){var t=this;return{disabledDate:function(e){return t.formValidate.auto_off_time?e.getTime()>new Date(t.formValidate.auto_off_time).getTime()-864e5:""}}},endPickOptions:function(){var t=this;return{disabledDate:function(e){return"1"==t.formValidate.is_show?e.getTime()<Date.now():t.formValidate.auto_on_time?e.getTime()<new Date(t.formValidate.auto_on_time).getTime()+864e5:""}}}}),created:function(){this.columns=this.columns2.slice(1,10);var t=JSON.parse(JSON.stringify(this.columns2));t.splice(8,2,this.headerCarMy),this.columnsCarMy=t;var e=JSON.parse(JSON.stringify(this.columns2));e.splice(8,2),this.columnsFictitious=e,this.getToken(),this.getErpConfig()},mounted:function(){var t=this;this.setCopyrightShow({value:!1}),"0"!==this.$route.params.id&&this.$route.params.id?this.getInfo():"0"===this.$route.params.id&&Object(g["D"])().then((function(e){var a=e.data.info;if(!Array.isArray(a)){var i=a.cate_id.map(Number);a.label_id.map(Number);t.attrs=a.items||[];var r=[];a.coupons&&(a.coupons.map((function(t){r.push(t.id)})),t.couponName=a.coupons),t.formValidate=a,t.formValidate.coupon_ids=r,t.updateIds=r,t.updateName=a.coupons,t.formValidate.cate_id=i,t.dataLabel=a.label_id,t.storeDataLabel=a.store_label_id,t.specsList=a.specs,t.oneFormValidate=a.attrs,t.formValidate.header=[],t.generate(0),t.addmanyData(a.attrs),t.productTypeTap(2),t.columns=t.columns2.slice(1,10),t.formValidate.custom_form=a.custom_form||[],t.formValidate.custom_form.length&&(t.customBtn=!0),t.spec_type=a.spec_type,0===a.spec_type?t.manyFormValidate=[]:(t.createBnt=!0,t.oneFormValidate=[{pic:a.slider_image[0],price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0,brokerage:0,brokerage_two:0,vip_price:0,virtual_list:[]}]),t.spinShow=!1}})).catch((function(e){t.$Message.error(e.msg)})),this.$route.query.type?(this.modals=!0,this.type=this.$route.query.type):this.type=0,this.goodsCategory(),this.productGetRule(),this.productGetTemplate(),this.getBrandList(),this.getAllUnit(),this.uploadType(),this.getProductAllEnsure(),this.getProductAllSpecs()},destroyed:function(){this.setCopyrightShow({value:!0})},methods:ot({},Object(s["d"])("admin/layout",["setCopyrightShow"]),{getErpConfig:function(){var t=this;Object(Y["a"])().then((function(e){t.openErp=e.data.open_erp})).catch((function(e){t.$Message.error(e.msg)}))},delSpecs:function(t){this.specsList.splice(t,1)},addSpecs:function(){var t={name:"",value:"",sort:0};this.specsList.push(t)},specsInfo:function(t){var e=this;this.specsData.forEach((function(a){a.id==t&&(e.specsList=a.specs)}))},getProductAllSpecs:function(){var t=this;Object(g["w"])().then((function(e){t.specsData=e.data})).catch((function(e){t.$Message.error(e.msg)}))},getProductAllEnsure:function(){var t=this;Object(g["v"])().then((function(e){t.ensureData=e.data})).catch((function(e){t.$Message.error(e.msg)}))},changeVirtual:function(t){this.virtualList=this.virtualList.concat(t)},addVirtual:function(t,e){this.tabIndex=t,this.tabName=e,this.virtualListClear(),this.$refs.addCarMy.fixedCar={disk_info:"",stock:0},this.$refs.addCarMy.cartMyType=1,this.carMyShow=!0},fixdBtn:function(t){1==t.cartMyType?(this.$set(this[this.tabName][this.tabIndex],"disk_info",t.disk_info),this.$set(this[this.tabName][this.tabIndex],"stock",Number(t.stock)),this[this.tabName][this.tabIndex].virtual_list=[]):(this.$set(this[this.tabName][this.tabIndex],"virtual_list",t.virtualList),this.$set(this[this.tabName][this.tabIndex],"stock",t.virtualList.length),this[this.tabName][this.tabIndex].disk_info=""),this.carMyShow=!1},closeCarMy:function(){this.carMyShow=!1},virtualListClear:function(){this.virtualList=[{key:"",value:""}]},seeVirtual:function(t,e,a){this.tabName=e,this.tabIndex=a,this.virtualListClear(),this.$refs.addCarMy.fixedCar={disk_info:"",stock:0},t.virtual_list&&t.virtual_list.length?(this.$refs.addCarMy.cartMyType=2,this.virtualList=t.virtual_list):t.disk_info&&(this.$refs.addCarMy.cartMyType=1,this.$refs.addCarMy.fixedCar.disk_info=t.disk_info,this.$refs.addCarMy.fixedCar.stock=t.stock),this.carMyShow=!0},addAssembly:function(){this.formValidate.custom_form.push({title:"",label:"text",value:"",status:0})},customMessBtn:function(t){t?this.addAssembly():this.formValidate.custom_form=[]},addcustom:function(){this.formValidate.custom_form.length>9?this.$Message.warning("最多添加10条"):this.addAssembly()},delcustom:function(t){this.formValidate.custom_form.splice(t,1)},onchangeTime:function(t){this.formValidate.presale_time=t},onchangeShow:function(t){this.formValidate.auto_on_time=t},onchangeOff:function(t){this.formValidate.auto_off_time=t},batchAttr:function(){this.attrShow=!0},getAttr:function(){this.oneFormBatch[0].attr="全部";var t=this.attrs;t.map((function(t){t.details=[],t.detail.map((function(e){t.details.push({name:e,select:!1})}))})),this.attrsList=t},activeAttr:function(t){this.attrsList=t},labelAttr:function(){this.attrShow=!1},manyEmpty:function(t){t.pic="",t.price=0,t.cost=0,t.ot_price=0,t.stock=0,t.bar_code="",t.code="",t.weight=0,t.volume=0,t.virtual_list=[]},doCombination:function(t){var e=t.length-1,a=[],i=[];return r(t,0);function r(t,n){var o=!0,s=!1,l=void 0;try{for(var c,u=t[n][Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;a[n]=d,n<e?r(t,n+1):i.push(a.join(","));var m=a;a=[];for(var f=0,p=m;f<p.length;f++){var h=p[f];a.push(h)}}}catch(v){s=!0,l=v}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return i}},subAttrs:function(t){var e=[];this.attrsList.forEach((function(t,a){var i=[];t.details.forEach((function(t){t.select&&i.push(t.name)})),i.length&&e.push(i)}));var a=this.doCombination(e);this.attrShow=!1,this.activeAtter=e,this.oneFormBatch[0].attr=a.join(";")||"全部",this.manyFormValidate.forEach((function(t){t.select=!1,a.length?a.forEach((function(e){t.values.split("").length==e.split("").length?t.values==e&&(t.select=!0):-1!=t.values.indexOf(e)&&(t.select=!0)})):t.select=!0})),this.$set(this,"manyFormValidate",this.manyFormValidate)},goodsOn:function(t){0!=t&&1!=t||(this.formValidate.auto_on_time="")},goodsOff:function(t){t||(this.formValidate.auto_off_time="")},addBrand:function(){this.$refs.menusFrom.modals=!0,this.$refs.menusFrom.titleFrom="添加品牌分类",this.formBrand={sort:0,is_show:1},this.$refs.menusFrom.type=1},getAllUnit:function(){var t=this;Object(g["x"])().then((function(e){t.unitNameList=e.data})).catch((function(e){t.$Message.error(e.msg)}))},addClass:function(){var t=this;this.$modalForm(Object(g["E"])()).then((function(){return t.goodsCategory()}))},addUnit:function(){var t=this;this.$modalForm(Object(g["bb"])()).then((function(){return t.getAllUnit()}))},addStoreLabel:function(){this.$modalForm(Object(g["O"])()).then((function(){}))},productTypeTap:function(t,e){if(1==t){if(this.$route.params.id)return this.$Message.error("商品类型不能切换！");this.formValidate.product_type=e.id}this.formValidate.product_type?(this.headTab=[{title:"基础信息",name:"1"},{title:"规格库存",name:"2"},{title:"商品详情",name:"3"},{title:"营销设置",name:"5"},{title:"其他设置",name:"6"}],this.formValidate.postage=0):this.headTab=[{title:"基础信息",name:"1"},{title:"规格库存",name:"2"},{title:"商品详情",name:"3"},{title:"物流设置",name:"4"},{title:"营销设置",name:"5"},{title:"其他设置",name:"6"}]},closeLabel:function(t){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1)},activeData:function(t){this.labelShow=!1,this.dataLabel=t},openLabel:function(t){this.labelShow=!0,this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.dataLabel)))},labelClose:function(){this.labelShow=!1},closeStoreLabel:function(t){var e=this.storeDataLabel.indexOf(this.storeDataLabel.filter((function(e){return e.id==t.id}))[0]);this.storeDataLabel.splice(e,1)},activeStoreData:function(t){this.storeLabelShow=!1,this.storeDataLabel=t},openStoreLabel:function(t){this.storeLabelShow=!0,this.$refs.storeLabel.storeLabel(JSON.parse(JSON.stringify(this.storeDataLabel)))},storeLabelClose:function(){this.storeLabelShow=!1},getBrandList:function(){var t=this;Object(g["d"])().then((function(e){t.brandData=e.data})).catch((function(e){t.$Message.error(e.msg)}))},getProductId:function(t){this.goodsModals=!1;var e=this.goodsData.concat(t).filter((function(t,e,a){return a.findIndex((function(e){return e.product_id==t.product_id}))==e}));this.goodsData=e.slice(0,12)},goodCancel:function(){this.goodsModals=!1},goodsTap:function(){this.goodsModals=!0,this.$refs.goodslist.handleSelectAll()},bindDelete:function(t){this.goodsData.splice(t,1)},cancel:function(){this.$router.push({path:"/admin/product/product_list"})},videoSaveToUrl:function(t){var e=this;console.log(t,"123456");var a=["video/mp4"],i=-1!==a.indexOf(t.type);return i?(Object(Z["a"])({randoms:"",file:t,pieceSize:3,success:function(t){e.formValidate.video_link=t.file_path,e.progress=100},error:function(t){e.$Message.error(t.msg)},uploading:function(t,a){e.videoIng=!0;var i=Math.floor(t/a*100);e.progress=i}}),!1):this.$Message.warning({content:"文件  "+t.name+"  格式不正确, 请选择格式正确的视频",duration:5})},getToken:function(){this.header["Authori-zation"]="Bearer "+c["a"].cookies.get("token")},handleSuccess:function(t,e,a){200===t.status?(this.formValidate.video_link=t.data.src,this.$Message.success(t.msg)):this.$Message.error(t.msg)},uploadType:function(){var t=this;Object(g["ob"])().then((function(e){t.upload_type=e.data.upload_type}))},getEditorContent:function(t){this.content=t},infoData:function(t){var e=t.cate_id.map(Number);this.attrs=t.items||[];var a=[];t.coupons.map((function(t){a.push(t.id)})),this.goodsData=t.recommend_list,t.auto_off_time?this.off_show=1:this.off_show=0,this.formValidate=t,this.contents=t.description,this.couponName=t.coupons,this.formValidate.coupon_ids=a,this.updateIds=a,this.updateName=t.coupons,this.formValidate.cate_id=e,this.dataLabel=t.label_id,this.storeDataLabel=t.store_label_id,this.specsList=t.specs,t.attr&&(this.oneFormValidate=[t.attr]),this.formValidate.header=[],this.generate(0),this.addmanyData(t.attrs),this.productTypeTap(2),this.formValidate.custom_form=t.custom_form||[],this.formValidate.custom_form.length&&(this.customBtn=!0),this.spec_type=t.spec_type,0===t.spec_type?this.manyFormValidate=[]:(this.createBnt=!0,this.oneFormValidate=[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0,brokerage:0,brokerage_two:0,vip_price:0,virtual_list:[]}])},onClose:function(t){this.modals=!1,this.infoData(t)},checkMove:function(t){this.moveIndex=t.draggedContext.index},end:function(){this.moveIndex=""},checkAllGroupChange:function(t){this.checkAllGroup(t)},checkAllGroup:function(t){0===this.formValidate.spec_type?(t.indexOf(0)>-1?this.columnsInstall=this.columns2.slice(1,5).concat(this.member):t.indexOf(1)>-1?this.columnsInstall=this.columns2.slice(1,5).concat(this.rakeBack):this.columnsInstall=this.columns2.slice(1,5),2===t.length&&(this.columnsInstall=this.columns2.slice(1,5).concat(this.rakeBack).concat(this.member))):(t.indexOf(0)>-1?this.columnsInstal2=this.columnsInstalM.slice(0,4).concat(this.member):t.indexOf(1)>-1?this.columnsInstal2=this.columnsInstalM.slice(0,4).concat(this.rakeBack):this.columnsInstal2=this.columnsInstalM.slice(0,4),2===t.length&&(this.columnsInstal2=this.columnsInstalM.slice(0,4).concat(this.rakeBack).concat(this.member)))},addCoupon:function(){this.$refs.couponTemplates.isTemplate=!0,this.$refs.couponTemplates.tableList()},unique:function(t){var e=new Map;return t.filter((function(t){return!e.has(t.id)&&e.set(t.id,1)}))},nameId:function(t,e){this.formValidate.coupon_ids=t,this.couponName=this.unique(e)},handleClose:function(t){var e=this.couponName.indexOf(t);this.couponName.splice(e,1);var a=this.formValidate.coupon_ids;a.splice(e,1),this.updateIds=a,this.updateName=this.couponName},getList:function(){this.productGetTemplate()},addTemp:function(){this.$refs.templates.isTemplate=!0},delVideo:function(){var t=this;t.$set(t.formValidate,"video_link",""),t.$set(t,"progress",0),t.videoIng=!1,t.upload.videoIng=!1},zh_uploadFile:function(){1==this.seletVideo?this.formValidate.video_link=this.videoLink:this.$refs.refid.click()},zh_uploadFile_change:function(t){var e=this,a=t.target.files[0].name.substr(t.target.files[0].name.indexOf("."));if(-1===a.indexOf(".mp4"))return e.$Message.error("只能上传MP4文件");Object(g["K"])().then((function(a){e.$videoCloud.videoUpload({type:a.data.type,evfile:t,res:a,uploading:function(t,i){e.upload.videoIng=t,200==a.status&&(e.progress=100)}}).then((function(t){e.formValidate.video_link=t.url,e.$Message.success("视频上传成功"),e.upload.videoIng=!1})).catch((function(t){e.$Message.error(t)}))})).catch((function(t){e.$Message.error(t.msg)}))},upTab:function(){5==this.currentTab&&0!=this.formValidate.product_type?this.currentTab=(Number(this.currentTab)-2).toString():this.currentTab=(Number(this.currentTab)-1).toString()},downTab:function(t){var e=this;this.$refs[t].validate((function(t){if(t){if(2==e.formValidate.is_show&&!e.formValidate.auto_on_time)return e.$Message.warning("请填写定时上架时间");if(1==e.off_show&&!e.formValidate.auto_off_time)return e.$Message.warning("请填写定时下架时间");3==e.currentTab&&0!=e.formValidate.product_type?e.currentTab=(Number(e.currentTab)+2).toString():e.currentTab=(Number(e.currentTab)+1).toString()}else e.$Message.warning("请完善数据")}))},userSearchs:function(){this.productGetRule()},addRule:function(){this.$refs.addattr.modal=!0},brokerageSetUp:function(){var t=this;if(t.formValidate.is_sub.indexOf(1)>-1){if(t.manyBrokerage<=0||t.manyBrokerageTwo<=0)return t.$Message.error("请填写返佣金额后进行批量添加")}else if(t.formValidate.is_sub.indexOf(0)>-1&&t.manyVipPrice<=0)return t.$Message.error("请填写会员价后进行批量添加");if(2===this.formValidate.is_sub.length&&(t.manyBrokerage<=0||t.manyBrokerageTwo<=0||t.manyVipPrice<=0))return t.$Message.error("请填写完金额后进行批量添加");var e=!0,a=!1,i=void 0;try{for(var r,n=t.manyFormValidate[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;this.$set(o,"brokerage",t.manyBrokerage),this.$set(o,"brokerage_two",t.manyBrokerageTwo),this.$set(o,"vip_price",t.manyVipPrice)}}catch(s){a=!0,i=s}finally{try{e||null==n.return||n.return()}finally{if(a)throw i}}},vipPriceSetUp:function(){var t=this;if(t.manyVipPrice<=0)return t.$Message.error("请填写会员价在进行批量添加");var e=!0,a=!1,i=void 0;try{for(var r,n=t.manyFormValidate[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;this.$set(o,"vip_price",t.manyVipPrice)}}catch(s){a=!0,i=s}finally{try{e||null==n.return||n.return()}finally{if(a)throw i}}},batchDel:function(){this.oneFormBatch=[{attr:"全部",pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0,virtualList:[],disk_info:""}],this.activeAtter=[];var t=!0,e=!1,a=void 0;try{for(var i,r=this.manyFormValidate[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var n=i.value;n.select=!0}}catch(o){e=!0,a=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}},confirm:function(){var t=this;if(t.createBnt=!0,t.formValidate.selectRule.trim().length<=0)return t.$Message.error("请选择属性");t.ruleList.forEach((function(e,a){e.rule_name===t.formValidate.selectRule&&(t.attrs=e.rule_value)}))},productGetRule:function(){var t=this;Object(g["J"])().then((function(e){t.ruleList=e.data}))},productGetTemplate:function(){var t=this;Object(g["L"])().then((function(e){t.templateList=e.data}))},delAttrTable:function(t){var e=this,a=this.$route.params.id;a?Object(g["h"])(a).then((function(a){e.manyFormValidate.splice(t,1),e.$Message.success(a.msg)})).catch((function(t){e.$Message.error(t.msg)})):this.manyFormValidate.splice(t,1)},batchAdd:function(){var t=!0,e=!1,a=void 0;try{for(var i,r=this.manyFormValidate[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var n=i.value;n.select&&(this.oneFormBatch[0].pic&&this.$set(n,"pic",this.oneFormBatch[0].pic),this.oneFormBatch[0].price>0&&this.$set(n,"price",this.oneFormBatch[0].price),this.oneFormBatch[0].cost>0&&this.$set(n,"cost",this.oneFormBatch[0].cost),this.oneFormBatch[0].ot_price>0&&this.$set(n,"ot_price",this.oneFormBatch[0].ot_price),this.oneFormBatch[0].stock>0&&this.$set(n,"stock",this.oneFormBatch[0].stock),""!==this.oneFormBatch[0].bar_code&&this.$set(n,"bar_code",this.oneFormBatch[0].bar_code),""!==this.oneFormBatch[0].code&&this.$set(n,"code",this.oneFormBatch[0].code),this.oneFormBatch[0].weight>0&&this.$set(n,"weight",this.oneFormBatch[0].weight),this.oneFormBatch[0].volume>0&&this.$set(n,"volume",this.oneFormBatch[0].volume),1==this.formValidate.product_type&&(this.oneFormBatch[0].virtual_list&&this.oneFormBatch[0].virtual_list.length?this.$set(n,"virtual_list",this.oneFormBatch[0].virtual_list):this.oneFormBatch[0].disk_info&&(this.$refs.addCarMy.cartMyType=1,this.$set(n,"disk_info",this.oneFormBatch[0].disk_info))))}}catch(o){e=!0,a=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}},addBtn:function(){this.clearAttr(),this.createBnt=!1,this.showIput=!0},addmanyData:function(t){t.forEach((function(t){t.select=!0})),this.manyFormValidate=t},generate:function(t){var e=this;Object(g["o"])({attrs:this.attrs,product_type:this.formValidate.product_type},this.formValidate.id,t).then((function(t){var a=t.data.info,i=JSON.parse(JSON.stringify(a.header));"0"!==e.$route.params.id&&e.addmanyData(a.value),e.formValidate.header=i,e.attrData=t.data.info.attr;var r=a.header;r.pop(),e.columnsInstalM=a.header,e.checkAllGroup(e.formValidate.is_sub),e.$route.params.id||1!==e.formValidate.spec_type?e.$route.params.id&&(e.manyFormValidate.map((function(t){t.pic||(t.pic=e.formValidate.slider_image[0])})),e.oneFormBatch[0].pic=e.formValidate.slider_image[0]):(e.manyFormValidate.map((function(t){t.pic=e.formValidate.slider_image[0]})),e.oneFormBatch[0].pic=e.formValidate.slider_image[0]),e.getAttr()})).catch((function(t){e.$Message.error(t.msg)}))},offAttrName:function(){this.showIput=!1,this.createBnt=!0},clearAttr:function(){this.formDynamic.attrsName="",this.formDynamic.attrsVal=""},handleRemoveRole:function(t){this.attrs.splice(t,1),this.manyFormValidate.splice(t,1)},handleRemove2:function(t,e){t.splice(e,1)},createAttrName:function(){if(this.formDynamic.attrsName&&this.formDynamic.attrsVal){var t={value:this.formDynamic.attrsName,detail:[this.formDynamic.attrsVal]};this.attrs.push(t);var e={};this.attrs=this.attrs.reduce((function(t,a){return!e[a.value]&&(e[a.value]=t.push(a)),t}),[]),this.clearAttr(),this.showIput=!1,this.createBnt=!0}else this.$Message.warning("请添加完整的规格！")},createAttr:function(t,e){if(t){this.attrs[e].detail.push(t);var a={};this.attrs[e].detail=this.attrs[e].detail.reduce((function(t,e){return!a[e]&&(a[e]=t.push(e)),t}),[])}else this.$Message.warning("请添加属性")},goodsCategory:function(){var t=this;Object(g["f"])(1).then((function(e){t.treeSelect=e.data})).catch((function(e){t.$Message.error(e.msg)}))},changeVideo:function(t){this.formValidate.video_link="",this.videoLink=""},changeSpec:function(){var t=this;this.formValidate.is_sub=[];var e=this.$route.params.id;e&&Object(g["h"])(e).then((function(t){})).catch((function(e){t.formValidate.spec_type=t.spec_type,t.$Message.error(e.msg)}))},getInfo:function(){var t=this,e=this;e.spinShow=!0,Object(g["M"])(e.$route.params.id).then(function(){var e=rt(o.a.mark((function e(a){var i;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a.data.productInfo,t.infoData(i),t.spinShow=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.spinShow=!1,t.$Message.error(e.msg)}))},onhangeTab:function(t){this.currentTab=t},handleRemove:function(t){this.images.splice(t,1),this.formValidate.slider_image.splice(t,1),this.oneFormValidate[0].pic=this.formValidate.slider_image[0]},changeCancel:function(t){this.modalPic=!1},modalPicTap:function(t,e,a){this.modalPic=!0,this.isChoice="dan"===t?"单选":"多选",this.picTit=e,this.tableIndex=a},getPic:function(t){switch(this.picTit){case"danFrom":this.formValidate.image=t.att_dir,this.$route.params.id||(0===this.formValidate.spec_type?this.oneFormValidate[0].pic=t.att_dir:(this.manyFormValidate.map((function(e){e.pic=t.att_dir})),this.oneFormBatch[0].pic=t.att_dir));break;case"danTable":this.oneFormValidate[this.tableIndex].pic=t.att_dir;break;case"duopi":this.oneFormBatch[this.tableIndex].pic=t.att_dir;break;case"recommend_image":this.formValidate.recommend_image=t.att_dir;break;default:this.manyFormValidate[this.tableIndex].pic=t.att_dir}this.modalPic=!1},getPicD:function(t){var e=this;this.images=t,this.images.map((function(t){e.formValidate.slider_image.push(t.att_dir),e.formValidate.slider_image=e.formValidate.slider_image.splice(0,10)})),this.oneFormValidate[0].pic=this.formValidate.slider_image[0],this.modalPic=!1},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(t){if(!e.formValidate.store_name.trim())return e.$Message.warning("基础信息-商品名称不能为空");if(2==e.formValidate.is_show&&!e.formValidate.auto_on_time)return e.$Message.warning("基础信息-定时上架时间不能为空");if(1==e.off_show&&!e.formValidate.auto_off_time)return e.$Message.warning("基础信息-定时下架时间不能为空");if(2==e.formValidate.freight&&0==e.formValidate.product_type&&e.formValidate.postage<=0)return e.$Message.warning("物流设置-固定邮费不能为0");if(3==e.formValidate.freight&&0==e.formValidate.product_type&&!e.formValidate.temp_id)return e.$Message.warning("物流设置-运费模板不能为空");if(0==e.formValidate.product_type&&e.formValidate.is_presale_product&&!e.formValidate.presale_time[0])return e.$Message.warning("营销设置-预售时间不能为空");for(var a=0;a<e.formValidate.custom_form.length;a++){var i=e.formValidate.custom_form[a];if(!i.title)return e.$Message.error("营销设置-留言标题不能为空")}if(e.formValidate.type=e.type,0===e.formValidate.spec_type?(e.formValidate.attrs=e.oneFormValidate,e.formValidate.header=[],e.formValidate.items=[]):(e.formValidate.items=e.attrs,e.formValidate.attrs=e.manyFormValidate),1===e.formValidate.spec_type&&0===e.manyFormValidate.length)return e.$Message.warning("商品信息-请点击生成多规格");var r=e.formValidate.attrs;if(1===e.formValidate.is_sub[0]){for(var n=0;n<r.length;n++)if(null===r[n].brokerage||null===r[n].brokerage_two)return e.$Message.error("其他设置- 一二级返佣不能为空")}else for(var s=0;s<r.length;s++)if(null===r[s].vip_price)return e.$Message.error("其他设置-会员价不能为空");if(2===e.formValidate.is_sub.length)for(var l=0;l<r.length;l++)if(null===r[l].brokerage||null===r[l].brokerage_two||null===r[l].vip_price)return e.$Message.error("其他设置- 一二级返佣和会员价不能为空");for(var c=0;c<e.specsList.length;c++){var u=e.specsList[c];if(console.log("kkkk",u.name),!u.name.trim())return e.$Message.error("请输入参数名称");if(!u.value.trim())return e.$Message.error("请输入参数值")}e.formValidate.product_type||(e.formValidate.is_support_refund=1),e.openSubimit=!1,e.formValidate.description=e.formatRichText(e.content);var d=[];e.goodsData.forEach((function(t){d.push(t.product_id)})),e.formValidate.recommend_list=d;var m=[];e.dataLabel.forEach((function(t){m.push(t.id)})),e.formValidate.label_id=m;var f=[];e.storeDataLabel.forEach((function(t){f.push(t.id)})),e.formValidate.store_label_id=f,e.formValidate.specs=e.specsList,Object(g["u"])(e.formValidate).then(function(){var t=rt(o.a.mark((function t(a){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.openSubimit=!0,e.$Message.success(a.msg),"0"===e.$route.params.id&&Object(g["e"])().catch((function(t){e.$Message.error(t.msg)})),setTimeout((function(){e.$router.push({path:"/admin/product/product_list"})}),500);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.openSubimit=!1,e.$Message.error(t.msg)}))}else{if(!e.formValidate.store_name)return e.$Message.warning("基础信息-商品名称不能为空");if(!e.formValidate.cate_id.length)return e.$Message.warning("基础信息-商品分类不能为空");if(!e.formValidate.unit_name)return e.$Message.warning("基础信息-商品单位不能为空");if(!e.formValidate.slider_image.length)return e.$Message.warning("基础信息-商品轮播图不能为空")}}))},changeTemplate:function(t){this.template=t},validate:function(t,e,a){!1===e&&this.$Message.warning(a)},handleDragStart:function(t,e){this.dragging=e},handleDragEnd:function(t,e){this.dragging=null},handleDragOver:function(t){t.dataTransfer.dropEffect="move"},handleDragEnter:function(t,e){if(t.dataTransfer.effectAllowed="move",e!==this.dragging){var a=Q(this.formValidate.slider_image),i=a.indexOf(this.dragging),r=a.indexOf(e);a.splice.apply(a,[r,0].concat(Q(a.splice(i,1)))),this.formValidate.slider_image=a}},addCustomDialog:function(t){window.UE.registerUI("test-dialog",(function(t,e){var a=new window.UE.ui.Dialog({iframeUrl:"/admin/widget.images/index.html?fodder=dialog",editor:t,name:e,title:"上传图片",cssRules:"width:1200px;height:500px;padding:20px;"});this.dialog=a;var i=new window.UE.ui.Button({name:"dialog-button",title:"上传图片",cssRules:"background-image: url(https://cdn.oss.9gt.net/prov1.1/1/icons.png);background-position: -726px -77px;",onclick:function(){a.render(),a.open()}});return i}),37),window.UE.registerUI("video-dialog",(function(t,e){var a=new window.UE.ui.Dialog({iframeUrl:"/admin/widget.video/index.html?fodder=video",editor:t,name:e,title:"上传视频",cssRules:"width:1000px;height:500px;padding:20px;"});this.dialog=a;var i=new window.UE.ui.Button({name:"video-button",title:"上传视频",cssRules:"background-image: url(../../../assets/images/icons.png);background-position: -320px -20px;",onclick:function(){a.render(),a.open()}});return i}),38)},formatRichText:function(t){var e=t.replace(/<img[^>]*>/gi,(function(t,e){return t=t.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,""),t=t.replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,""),t=t.replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,""),t}));return e=e.replace(/style="[^"]+"/gi,(function(t,e){return t=t.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;"),t})),e=e.replace(/<br[^>]*\/>/gi,""),e=e.replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;"'),e}})},ct=lt,ut=(a("6a5b"),Object(x["a"])(ct,i,r,!1,null,"4ac3735e",null));e["default"]=ut.exports},e449:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"优惠券列表",width:"60%"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.isTemplate,callback:function(e){t.isTemplate=e},expression:"isTemplate"}},[a("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.couponList,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},on:{"on-select":t.handleSelectRow,"on-select-cancel":t.handleCancelRow,"on-select-all":t.handleSelectAll,"on-select-all-cancel":t.handleSelectAll,"on-selection-change":t.changeCheckbox},scopedSlots:t._u([{key:"coupon_price",fn:function(e){var i=e.row;return[1==i.coupon_type?a("span",[t._v(t._s(i.coupon_price)+"元")]):t._e(),2==i.coupon_type?a("span",[t._v(t._s(parseFloat(i.coupon_price)/10)+"折（"+t._s(i.coupon_price.toString().split(".")[0])+"%）")]):t._e()]}},{key:"count",fn:function(e){var i=e.row;e.index;return[i.is_permanent?a("span",[t._v("不限量")]):a("div",[a("span",{staticClass:"fa"},[t._v("发布："+t._s(i.total_count))]),a("span",{staticClass:"sheng"},[t._v("剩余："+t._s(i.remain_count))])])]}},{key:"start_time",fn:function(e){var i=e.row;e.index;return[i.start_time?a("div",[t._v("\n                        "+t._s(t._f("formatDate")(i.start_time))+" - "+t._s(t._f("formatDate")(i.end_time))+"\n                    ")]):a("span",[t._v("不限时")])]}},{key:"type",fn:function(e){var i=e.row;return[1===i.type?a("span",[t._v("品类券")]):2===i.type?a("span",[t._v("商品券")]):3===i.type?a("span",[t._v("会员券")]):a("span",[t._v("通用券")])]}},{key:"status",fn:function(e){var i=e.row;e.index;return[a("Tag",{directives:[{name:"show",rawName:"v-show",value:1===i.status,expression:"row.status===1"}],attrs:{color:"blue"}},[t._v("正常")]),a("Tag",{directives:[{name:"show",rawName:"v-show",value:0===i.status,expression:"row.status===0"}],attrs:{color:"gold"}},[t._v("未开启")]),a("Tag",{directives:[{name:"show",rawName:"v-show",value:-1===i.status,expression:"row.status=== -1"}],attrs:{color:"red"}},[t._v("已失效")])]}}])}),a("div",{staticClass:"acea-row row-right page"},[a("Page",{attrs:{total:t.total,"show-elevator":"","show-total":"","page-size":t.tableFrom.limit},on:{"on-change":t.receivePageChange}})],1)],1)],1)},r=[],n=a("b7be"),o=a("61f7");function s(t){return u(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var d={name:"index",filters:{formatDate:function(t){if(0!==t){var e=new Date(1e3*t);return Object(o["a"])(e,"yyyy-MM-dd hh:mm")}}},props:{couponids:{type:Array},updateIds:{type:Array},updateName:{type:Array},luckDraw:{type:Boolean,default:!1},discount:{type:Boolean,default:!1}},data:function(){return{currentid:0,productRow:{},isTemplate:!1,loading:!1,tableFrom:{receive_type:3,page:1,limit:10},total:0,ids:[],texts:[],columns:[{title:"ID",key:"id",width:60},{title:"优惠券名称",key:"title",minWidth:150},{title:"适用类型",slot:"type",minWidth:80},{title:"面值",slot:"coupon_price",minWidth:100},{title:"最低消费额",key:"use_min_price",minWidth:100},{title:"发布数量",slot:"count",minWidth:120},{title:"有效期限",slot:"start_time",minWidth:120},{title:"状态",slot:"status",minWidth:80}],couponList:[],selectedIds:new Set,selectedNames:new Set,couponVal:[]}},mounted:function(){},watch:{updateIds:function(t){this.selectedIds=new Set(t)},updateName:function(t){this.selectedNames=new Set(t)}},created:function(){var t=this,e={width:60,align:"center",render:function(e,a){var i=a.row.id,r=!1;r=t.currentid===i;var n=t;return e("div",[e("Radio",{props:{value:r},on:{"on-change":function(){n.currentid=i,t.productRow=a.row}}})])}},a={type:"selection",width:60,align:"center"};this.luckDraw?this.columns.unshift(e):this.columns.unshift(a)},methods:{unique:function(t){var e=new Map;return t.filter((function(t){return!e.has(t.id)&&e.set(t.id,1)}))},changeCheckbox:function(t){this.couponVal=t},handleSelectAll:function(t){var e=this;if(!this.discount){if(0===t.length){var a=this,i=a.$refs.table.data;i.forEach((function(t){if(a.selectedIds.has(t.id)){a.selectedIds.delete(t.id);var e=a.unique(Array.from(a.selectedNames));a.unique(Array.from(a.selectedNames)).forEach((function(a,i){a.id===t.id&&e.splice(i,1)})),a.selectedNames=new Set(e)}}))}else t.forEach((function(t){e.selectedIds.add(t.id),e.selectedNames.add({id:t.id,title:t.title})}));this.$nextTick((function(){e.setChecked()}))}},handleSelectRow:function(t,e){var a=this;this.discount||(this.selectedIds.add(e.id),this.selectedNames.add({id:e.id,title:e.title}),this.$nextTick((function(){a.setChecked()})))},handleCancelRow:function(t,e){var a=this;if(!this.discount){var i=this;i.selectedIds.delete(e.id);var r=Array.from(i.selectedNames);Array.from(i.selectedNames).forEach((function(t,a){t.id===e.id&&r.splice(a,1)})),i.selectedNames=new Set(r),this.$nextTick((function(){a.setChecked()}))}},setChecked:function(){this.ids=s(this.selectedIds),this.texts=s(this.selectedNames);var t=this.$refs.table.objData;for(var e in t)this.selectedIds.has(t[e].id)&&(t[e]._isChecked=!0)},cancel:function(){this.isTemplate=!1,this.luckDraw&&(this.currentid=0)},tableList:function(){var t=this;this.loading=!0,Object(n["R"])(this.tableFrom).then((function(e){var a=e.data;t.couponList=a.list,t.discount||t.$nextTick((function(){t.setChecked()})),t.total=a.count,t.loading=!1}))},ok:function(){this.luckDraw?(this.$emit("getCouponId",this.productRow),this.currentid=0):this.discount?this.$emit("getCouponList",this.couponVal):this.$emit("nameId",this.ids,this.texts)},receivePageChange:function(t){this.tableFrom.page=t,this.tableList()}}},m=d,f=a("2877"),p=Object(f["a"])(m,i,r,!1,null,"087440e6",null);e["a"]=p.exports},e57e:function(t,e,a){"use strict";var i=a("f753"),r=a.n(i);r.a},f753:function(t,e,a){}}]);