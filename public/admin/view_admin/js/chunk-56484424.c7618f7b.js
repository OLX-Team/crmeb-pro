(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56484424"],{"0d2b":function(e,t,i){"use strict";var a=i("2a95");function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={props:{options:{type:Array,default:function(){return[]}},value:{type:String|Number,default:""},placeholder:{type:String,default:""},title:{type:String,default:""},type:{type:String,default:"text"},suffix:{type:String,default:""},prefix:{type:String,default:""},styleModel:{type:String,default:""},className:{type:String,default:""},field:{type:String,default:""},info:{type:String,default:""},on:{type:Object,default:function(){return{}}},validate:{type:Object,default:function(){return{}}},errorsValidate:{type:Array,default:function(){return[]}}},data:function(){return{valueModel:this.value,errorMessage:""}},watch:{errorsValidate:{handler:function(e){var t=this;if(e){var i=e.find((function(e){return e.field===t.field}));this.errorMessage=i?i.message:""}else this.errorMessage=""},deep:!0}},methods:{getClassName:function(){var e=["input-build-"+this.field];this.errorMessage&&e.push("ivu-form-item-error");var t=this.validate[this.field]?this.validate[this.field].filter((function(e){return!0===e.required})):[];return t.length&&e.push("ivu-form-item-required"),e},changeEvent:function(e,t){"change"===e&&this.$emit("changeValue",{field:this.field,value:this.valueModel}),this.on[e]&&this.on[e](t),this.validator(e)},validator:function(e){var t=this,i=this.validate[this.field]?this.validate[this.field].filter((function(t){return t.trigger===e})):[];if(i.length){var s=new a["a"](this.validate),n=l({},this.field,this.valueModel);s.validate(n,(function(e,i){if(e){var a=e.find((function(e){return e.field===t.field}));t.errorMessage=a?a.message:""}else t.errorMessage=""}))}}}}},"46a5":function(e,t,i){"use strict";var a=i("51b8"),l=i.n(a);l.a},"51b8":function(e,t,i){},5613:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{title:e.title,"footer-hide":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"image"},[e.visible?i("img",{style:e.styleImg?e.styleImg:"width: 100%;",attrs:{src:e.imageUrl}}):e._e()]),i("div",{attrs:{slot:"footer"},slot:"footer"})])},l=[],s={name:"lookImage",props:{imageUrl:{type:String,default:""},styleImg:{type:String,default:""},title:{type:String,default:"查看图片"}},data:function(){return{visible:!1}},methods:{clear:function(){this.visible=!1},open:function(){this.visible=!0}}},n=s,o=(i("fa1f"),i("2877")),r=Object(o["a"])(n,a,l,!1,null,"1f543f1a",null);t["a"]=r.exports},9692:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("FormItem",{staticClass:"input-build upload-build",class:e.getClassName(),attrs:{label:e.title}},[e.multiple?["file"===e.type?e._l(e.uploadList,(function(t,a){return i("div",{staticClass:"demo-upload-list"},[i("Icon",{attrs:{type:"md-document",size:"40"}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return e.handleRemove(a)}}})],1)],1)})):e._l(e.uploadList,(function(t,a){return i("div",{staticClass:"demo-upload-list"},[i("img",{attrs:{src:t}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(i){return e.handleView(t)}}}),i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return e.handleRemove(a)}}})],1)])}))]:[e.valueModel?i("div",{staticClass:"demo-upload-list"},["file"===e.type?[i("Icon",{attrs:{type:"md-document",size:"40"}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return e.handleRemove(e.valueModel)}}})],1)]:[i("img",{attrs:{src:e.valueModel}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(t){return e.handleView(e.valueModel)}}}),i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){return e.handleRemove(e.valueModel)}}})],1)]],2):e._e()],i("div",{staticClass:"input-error-wrapper"},[e.disabledSeleteImage?i("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"on-success":e.handleSuccess,format:e.upload.format,"max-size":e.upload.size,"on-progress":e.handProgress,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:e.multiple,type:"drag",accept:"file"===e.type?"":"image/*",action:e.upload.url,headers:e.upload.headers}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:e.icon?e.icon:"ios-image",size:"20"}})],1)]):e._e(),e.errorMessage?i("div",{staticClass:"error-wrapper"},[e._v(e._s(e.errorMessage))]):e._e()],1),e.info?i("div",{staticClass:"info-wrapper"},[e._v(e._s(e.info))]):e._e(),i("look-image",{ref:"lookImage",attrs:{imageUrl:e.imageUrl}})],2)},l=[],s=i("0d2b"),n=i("d708"),o=i("5613");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var u={name:"uploadImageBuild",mixins:[s["a"]],components:{lookImage:o["a"]},props:{upload:{type:Object,default:function(){return{url:"",size:2048,format:["jpg","jpeg","png","gif"],headers:{},maxNum:1}}},icon:{type:String,default:""}},data:function(){return{uploadList:[],valueModel:this.value,disabledSeleteImage:!1,errorMessage:"",imageUrl:"",multiple:!1}},watch:{valueModel:{handler:function(e){this.multiple?e.length>=this.upload.maxNum?this.disabledSeleteImage=!1:this.disabledSeleteImage=!0:this.disabledSeleteImage=!e,this.changeValue()},deep:!0}},created:function(){this.multiple=this.upload.maxNum>1,this.multiple?"object"!==r(this.valueModel)&&(this.valueModel=[]):"string"!==typeof this.valueModel&&(this.valueModel=""),-1!==this.upload.url.indexOf("http")&&-1!==this.upload.url.indexOf("https")||(this.upload.url=n["a"].apiBaseURL+this.upload.url),-1===["image","file"].indexOf(this.type)&&(this.type="image"),"object"!==r(this.valueModel)||this.valueModel.length||(this.disabledSeleteImage=!0),"string"!==typeof this.valueModel||this.valueModel||(this.disabledSeleteImage=!0)},mounted:function(){},methods:{changeValue:function(){this.$emit("changeValue",{field:this.field,value:this.valueModel}),this.on["change"]&&this.on["change"](this.valueModel)},handleSuccess:function(e,t,i){var a=this;this.on["success"]?this.on["success"](e,(function(e){return a.valueModel=e})):200!==e.status?this.$Message.error(e.msg):(this.valueModel=e.data.src,this.$Message.success(e.msg))},handleFormatError:function(){},handProgress:function(e,t,i){},handleMaxSize:function(){},handleBeforeUpload:function(){},handleView:function(e){this.imageUrl=e,this.$refs.lookImage.open()},handleRemove:function(e,t){this.multiple?this.valueModel.splice(t,1):this.valueModel=""}}},d=u,c=(i("46a5"),i("2877")),f=Object(c["a"])(d,a,l,!1,null,"006190e4",null);t["default"]=f.exports},aad5:function(e,t,i){},fa1f:function(e,t,i){"use strict";var a=i("aad5"),l=i.n(a);l.a}}]);