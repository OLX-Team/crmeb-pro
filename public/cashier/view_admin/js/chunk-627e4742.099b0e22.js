(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-627e4742"],{"0493":function(t,e,r){t.exports=r.p+"view_admin/img/no-record.2e1e1105.png"},"20ee":function(t,e,r){},"22f89":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"订单备注","class-name":"vertical-center-modal","footer-hide":""},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[r("Input",{staticStyle:{width:"100%"},attrs:{maxlength:"200","show-word-limit":"",rows:5,type:"textarea",placeholder:"订单备注"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}}),r("Button",{staticClass:"mt20",attrs:{type:"primary",size:"large",long:""},on:{click:function(e){return t.putRemark("formValidate")}}},[t._v("提交")])],1)},a=[],i=r("a34a"),c=r.n(i),s=r("f8b7");function o(t,e,r,n,a,i,c){try{var s=t[i](c),o=s.value}catch(u){return void r(u)}s.done?e(o):Promise.resolve(o).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function c(t){o(i,n,a,c,s,"next",t)}function s(t){o(i,n,a,c,s,"throw",t)}c(void 0)}))}}var d={name:"orderMark",data:function(){return{formValidate:{remark:""},modals:!1,ruleValidate:{remark:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}},props:{orderId:Number,currentTab:{type:String,default:""},remarkType:{default:"",type:String}},created:function(){},methods:{cancel:function(t){this.modals=!1},refundmark:function(t){this.formValidate.remark=t},getRemark:function(t){var e=this;Object(s["O"])(t).then((function(t){e.formValidate.remark=t.data.remarks})).catch((function(t){e.$Message.error(t.msg)}))},getVipRemark:function(t){var e=this;Object(s["R"])(t).then((function(t){e.formValidate.remark=t.data.remarks})).catch((function(t){e.$Message.error(t.msg)}))},putRemark:function(t){var e=this,r={id:this.orderId,remark:this.formValidate};if(this.formValidate.remark.trim()){var n=null;n=this.remarkType?Object(s["L"])(r):3==this.currentTab?Object(s["H"])(r.id,{remarks:this.formValidate.remark}):4==this.currentTab?Object(s["I"])(r.id,{remarks:this.formValidate.remark}):Object(s["M"])(r),n.then(function(){var t=u(c.a.mark((function t(r){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$Message.success(r.msg),e.modals=!1,e.$emit("submitFail");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))}else this.$Message.warning("请填写备注信息")}}},l=d,f=r("2877"),m=Object(f["a"])(l,n,a,!1,null,"26c2e71f",null);e["a"]=m.exports},2324:function(t,e,r){"use strict";var n=r("a57e"),a=r.n(n);a.a},"28f0":function(t,e,r){"use strict";var n=r("dfd1"),a=r.n(n);a.a},"30c5":function(t,e,r){"use strict";var n=r("e88c"),a=r.n(n);a.a},6458:function(t,e,r){"use strict";var n=r("20ee"),a=r.n(n);a.a},"66c9":function(t,e,r){t.exports=r.p+"view_admin/img/no-order.1faafc6c.png"},"6dc2":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table"},[r("div",{staticClass:"header"},t._l(t.header,(function(e,n){return r("div",{key:n,class:e.class},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._l(t.orderStatusList,(function(e,n){return r("div",{key:n,staticClass:"item"},[r("div",{staticClass:"goods"},[r("div",[t._v(t._s(e.oid))])]),r("div",{staticClass:"o_price alc"},[t._v(t._s(e.change_message))]),r("div",{staticClass:"num alc"},[t._v(t._s(e.change_time))])])}))],2)},a=[],i=r("f8b7"),c={name:"index",props:{id:{type:Number}},watch:{id:function(t){this.getOrderStatusList()}},data:function(){return{header:[{name:"订单ID",class:"goods",width:15},{name:"操作记录",class:"o_price"},{name:"操作时间",class:"num",width:15}],orderStatusList:[]}},mounted:function(){console.log(this.id),this.getOrderStatusList()},methods:{getOrderStatusList:function(){var t=this;Object(i["y"])(this.id).then((function(e){t.orderStatusList=e.data}))}}},s=c,o=(r("2324"),r("2877")),u=Object(o["a"])(s,n,a,!1,null,"1da40132",null);e["a"]=u.exports},9568:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table"},[r("div",{staticClass:"header"},t._l(t.header,(function(e,n){return r("div",{key:n,class:e.class},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._l(t.cartList,(function(e,n){return r("div",{key:n,staticClass:"list"},[t._l(e.promotions,(function(e,n){return r("div",{key:n,staticClass:"activity"},[r("div",{staticClass:"activity-type"},[t._v("\n        "+t._s(e.title)+"\n      ")]),r("div",{staticClass:"desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")])])})),t._l(e.cart,(function(e,n){return r("div",{key:n+"l",staticClass:"item"},[e.is_gift?t._e():r("div",{staticClass:"goods"},[r("div",{staticClass:"img"},[e.productInfo.attrInfo?r("img",{attrs:{src:e.productInfo.attrInfo.image,alt:""}}):r("img",{attrs:{src:e.productInfo.image}})]),r("div",{staticClass:"name line2"},[t._v(t._s(e.productInfo.store_name))])]),e.is_gift?t._e():r("div",{staticClass:"o_price alc"},[t._v(t._s(e.sum_price))]),e.is_gift?t._e():r("div",{staticClass:"num alc"},[t._v(t._s(e.cart_num))]),e.is_gift?r("div",{staticClass:"give-goods"},[r("div",{staticClass:"img"},[e.productInfo.attrInfo?r("img",{attrs:{src:e.productInfo.attrInfo.image,alt:""}}):r("img",{attrs:{src:e.productInfo.image}})]),r("div",{staticClass:"name line1"},[t._v(t._s(e.productInfo.store_name))]),r("div",{staticClass:"give"},[t._v("赠品")]),r("div",{staticClass:"num"},[t._v("x"+t._s(e.cart_num))])]):r("div",{staticClass:"price alc"},[t._v(t._s(e.sum_price*e.cart_num))])])}))],2)}))],2)},a=[],i={name:"index",props:["cartList"],data:function(){return{header:[{name:"商品",class:"goods",width:15},{name:"单价",class:"o_price"},{name:"数量",class:"num",width:15},{name:"金额",class:"price",width:15}]}}},c=i,s=(r("30c5"),r("2877")),o=Object(s["a"])(c,n,a,!1,null,"8995bdbc",null);e["a"]=o.exports},a464:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"filter-box"},t._l(t.filterList,(function(e,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:"verify"===t.orderType&&"type"!==e.type||"order"===t.orderType,expression:"orderType === 'verify' && item.type !== 'type' || orderType === 'order'"}],key:n,staticClass:"box"},[r("div",{staticClass:"title"},[t._v(t._s(e.title))]),r("div",{staticClass:"tabs-box"},[t._l(e.tabs,(function(n,a){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs.length&&"staff_id"!==e.type,expression:"item.tabs.length && item.type !== 'staff_id'"}],key:a,staticClass:"tabs",class:t.searchData[e.type]===n.type?"on":"",on:{click:function(r){return t.selectFilter(e,a)}}},[r("span",[t._v(t._s(n.name))])])})),"time"===e.type?r("div",{staticClass:"tabs-time"},[r("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy/MM/dd",type:"date",placeholder:"开始时间",clearable:!0},on:{"on-change":t.changeStartTime,"on-open-change":t.timeStatus},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),r("span",{staticClass:"bl"},[t._v("~")]),r("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy/MM/dd",type:"date",placeholder:"结束时间",clearable:!0},on:{"on-change":t.changeEndTime,"on-open-change":t.timeStatus},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1):t._e(),"staff_id"===e.type?r("div",{staticClass:"tabs-box"},t._l(t.dataList,(function(n){return r("div",{key:n.id,staticClass:"tabs",class:t.searchData[e.type]===n.id?"on":"",on:{click:function(r){return t.selectFilter(e,n.id)}}},[t._v("\n            "+t._s(n.staff_name)+"\n          ")])})),0):t._e()],2)])})),0),r("div",{staticClass:"search-btn"},[r("div",{staticClass:"btn reset",on:{click:t.init}},[t._v("重置")]),r("div",{staticClass:"btn suc",on:{click:t.search}},[t._v("确定")])])])},a=[],i=r("b4ea");function c(t){return u(t)||o(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var d={name:"index",props:{orderType:{type:String,default:"order"}},data:function(){return{startTime:"",endTime:"",filterList:[{title:"订单类型",type:"type",tabs:[{name:"全部",type:""},{name:"收银台订单",type:6},{name:"配送订单",type:7}]},{title:"订单状态",type:"status",tabs:[{name:"全部",type:""},{name:"未支付",type:0},{name:"待评价",type:3},{name:"已完成",type:4},{name:"已删除",type:-4}]},{title:"创建时间",type:"time",tabs:[{name:"全部",type:""},{name:"今天",type:"today"},{name:"昨天",type:"yesterday"},{name:"近七天",type:"lately7"},{name:"近三十天",type:"lately30"},{name:"本月",type:"month"},{name:"本年",type:"year"}]},{title:"店员",type:"staff_id",tabs:[]}],dataList:[],searchData:{type:"",status:"",time:"",staff_id:0}}},created:function(){this.cashierList()},methods:{init:function(){var t=this;this.searchData={type:"",status:"",time:"",staff_id:0},this.$nextTick((function(e){t.startTime="",t.endTime=""}))},changeStartTime:function(t){this.searchData.time[0]=t,this.startTime=t},changeEndTime:function(t){this.searchData.time[1]=t,this.endTime=t},timeStatus:function(t){"string"===typeof this.searchData.time&&(this.searchData.time=["",""])},cashierList:function(){var t=this;Object(i["a"])().then((function(e){var r=[{staff_name:"全部",id:0}];t.dataList=[].concat(r,c(e.data.staffList))}))},selectFilter:function(t,e){"staff_id"==t.type?this.searchData[t.type]=e:this.searchData[t.type]=t.tabs[e].type},search:function(){this.$emit("search",this.searchData)}}},l=d,f=(r("28f0"),r("2877")),m=Object(f["a"])(l,n,a,!1,null,"08bd4faa",null);e["a"]=m.exports},a57e:function(t,e,r){},b4ea:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i}));var n=r("b6bd");function a(){return Object(n["a"])({url:"user/cashier_list",method:"get"})}function i(t){return Object(n["a"])({url:"staff/staff",method:"get",params:t})}},d487:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-list",on:{scroll:t.addPage}},t._l(t.orderData,(function(e,n){return r("div",{key:n,staticClass:"item",class:{sel:t.sel===n},on:{click:function(r){return t.selectOrder(e,n)}}},[r("div",{staticClass:"top"},[r("div",{staticClass:"order-sty"},[e.pink_name&&"verify"!==t.orderType?r("span",{staticClass:"type-sty",style:"color: "+e.color+";border-color:"+e.color},[t._v(t._s(e.pink_name))]):t._e(),r("span",{staticClass:"order"},[t._v("单号:"+t._s(e.order_id))])]),r("div",{staticClass:"time"},[t._v("\n        "+t._s(e.add_time)+"\n      ")])]),r("div",{staticClass:"mid acea-row row-between"},[e._infoData.length>1?r("div",{staticClass:"acea-row"},t._l(e._infoData,(function(t,e){return r("div",{directives:[{name:"show",rawName:"v-show",value:e<5,expression:"i < 5"}],key:e,staticClass:"pic"},[r("img",{attrs:{src:t.cart_info.productInfo.image}})])})),0):r("div",{staticClass:"acea-row row-middle"},[t._l(e._infoData,(function(t,e){return r("div",{key:e,staticClass:"pic"},[r("img",{attrs:{src:t.cart_info.productInfo.image}})])})),r("div",{staticClass:"store_name line2"},[t._v("\n        "+t._s(e._infoData[0].cart_info.productInfo.store_name)+"\n        ")])],2),r("div",[r("p",[r("span",{staticClass:"num"},[t._v("¥"+t._s(e.pay_price))])]),r("p",{staticClass:"total_num"},[t._v("共"+t._s(e.total_num)+"件商品")])])]),r("div",{staticClass:"footer"},[r("div",{staticClass:"text-333"},[t._v("\n        "+t._s(e.status_name.status_name)+"\n        "),!e.is_all_refund&&e.refund.length?r("span",{staticClass:"trip"},[t._v("\n          (部分退款中)\n        ")]):t._e(),e.is_all_refund&&e.refund.length&&6!=e.refund_type?r("span",{staticClass:"trip"},[t._v("\n          (退款中)\n        ")]):t._e()]),e.clerk_name?r("div",{staticClass:"shouyin"},[t._v("\n        收银员："+t._s(e.clerk_name)+"\n      ")]):t._e()])])})),0)},a=[],i={name:"orderList",props:{orderData:{type:Array},total:{type:Number},orderType:{type:String,default:"order"}},data:function(){return{sel:0}},methods:{selectOrder:function(t,e){this.sel=e,this.$emit("selectOrder",t)},addPage:function(t){(!t||t.target.scrollHeight-t.target.scrollTop-t.target.clientHeight<=0&&this.orderData.length<this.total)&&(console.log(t?t.target.scrollHeight-t.target.scrollTop-t.target.clientHeight:""),this.$emit("addPage"))}}},c=i,s=(r("6458"),r("2877")),o=Object(s["a"])(c,n,a,!1,null,"ac0e589e",null);e["a"]=o.exports},dfd1:function(t,e,r){},e88c:function(t,e,r){},f8b7:function(t,e,r){"use strict";r.d(e,"n",(function(){return a})),r.d(e,"e",(function(){return i})),r.d(e,"o",(function(){return c})),r.d(e,"f",(function(){return s})),r.d(e,"a",(function(){return o})),r.d(e,"j",(function(){return u})),r.d(e,"k",(function(){return d})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return f})),r.d(e,"p",(function(){return m})),r.d(e,"b",(function(){return p})),r.d(e,"J",(function(){return h})),r.d(e,"g",(function(){return _})),r.d(e,"i",(function(){return v})),r.d(e,"m",(function(){return g})),r.d(e,"s",(function(){return b})),r.d(e,"K",(function(){return y})),r.d(e,"D",(function(){return O})),r.d(e,"C",(function(){return k})),r.d(e,"E",(function(){return j})),r.d(e,"Q",(function(){return C})),r.d(e,"M",(function(){return w})),r.d(e,"L",(function(){return x})),r.d(e,"A",(function(){return T})),r.d(e,"O",(function(){return I})),r.d(e,"R",(function(){return D})),r.d(e,"I",(function(){return L})),r.d(e,"H",(function(){return S})),r.d(e,"h",(function(){return $})),r.d(e,"S",(function(){return E})),r.d(e,"N",(function(){return V})),r.d(e,"G",(function(){return M})),r.d(e,"F",(function(){return P})),r.d(e,"u",(function(){return A})),r.d(e,"t",(function(){return N})),r.d(e,"l",(function(){return H})),r.d(e,"w",(function(){return R})),r.d(e,"v",(function(){return F})),r.d(e,"x",(function(){return J})),r.d(e,"z",(function(){return q})),r.d(e,"B",(function(){return z})),r.d(e,"y",(function(){return B})),r.d(e,"P",(function(){return G})),r.d(e,"q",(function(){return K})),r.d(e,"r",(function(){return Q}));var n=r("b6bd");function a(t){return Object(n["a"])({url:"product/get_list",method:"get",params:t})}function i(){return Object(n["a"])({url:"product/get_one_category",method:"get"})}function c(t){return Object(n["a"])({url:"user/user_Info",method:"post",data:t})}function s(t){return Object(n["a"])({url:"order/cashier/code",method:"post",data:t})}function o(t,e){return Object(n["a"])({url:"cart/set_cart/".concat(t),method:"post",data:e})}function u(t,e){return Object(n["a"])({url:"product/get_info/".concat(t,"/").concat(e),method:"get"})}function d(t,e){return Object(n["a"])({url:"product/get_attr/".concat(t,"/").concat(e),method:"get"})}function l(t,e,r){return Object(n["a"])({url:"cart/get_cart/".concat(t,"/").concat(e),method:"get",params:r})}function f(t,e){return Object(n["a"])({url:"cart/set_cart_num/".concat(t),method:"put",data:e})}function m(t){return Object(n["a"])({url:"cart/change_cart",method:"put",data:t})}function p(t,e){return Object(n["a"])({url:"cart/del_cart/".concat(t),method:"DELETE",data:e})}function h(t){return Object(n["a"])({url:"promotions/count/".concat(t),method:"get"})}function _(t,e){return Object(n["a"])({url:"order/compute/".concat(t),method:"post",data:e})}function v(t,e){return Object(n["a"])({url:"/order/create/".concat(t),method:"post",data:e})}function g(t,e){return Object(n["a"])({url:"order/pay/".concat(t),method:"post",data:e})}function b(t){return Object(n["a"])({url:"order/express_list?status="+t,method:"get"})}function y(t){return Object(n["a"])({url:"/order/delivery/".concat(t.id),method:"put",data:t.datas})}function O(t){return Object(n["a"])({url:"/order/express/temp",method:"get",params:t})}function k(){return Object(n["a"])({url:"/order/delivery_list",method:"get"})}function j(){return Object(n["a"])({url:"/order/sheet_info",method:"get"})}function C(t){return Object(n["a"])({url:"order/split_cart_info/".concat(t),method:"get"})}function w(t){return Object(n["a"])({url:"/order/remark/".concat(t.id),method:"put",data:t.remark})}function x(t){return Object(n["a"])({url:"order/refund/remark/".concat(t.id),method:"put",data:t.remark})}function T(t){return Object(n["a"])({url:"/refund/refund/".concat(t),method:"get"})}function I(t){return Object(n["a"])({url:"order/recharge/remark/".concat(t),method:"get"})}function D(t){return Object(n["a"])({url:"order/vip/remark/".concat(t),method:"get"})}function L(t,e){return Object(n["a"])({url:"order/vip/remark/".concat(t),method:"put",data:e})}function S(t,e){return Object(n["a"])({url:"order/recharge/remark/".concat(t),method:"put",data:e})}function $(t,e){return Object(n["a"])({url:"order/coupon_list/".concat(t),method:"post",data:e})}function E(t){return Object(n["a"])({url:"order/verify_cart_info",method:"get",params:t})}function V(t,e){return Object(n["a"])({url:"order/write_off/".concat(t),method:"put",data:e})}function M(t,e){return Object(n["a"])({url:"user/switch/".concat(e),method:"post",data:t})}function P(t){return Object(n["a"])({url:"order/cashier/hang",method:"post",data:t})}function A(t,e){return Object(n["a"])({url:"order/get_hang_list/".concat(t),method:"get",params:e})}function N(t){return Object(n["a"])({url:"order/get_user_list/".concat(t),method:"get"})}function H(t){return Object(n["a"])({url:"order/cashier/hang",method:"DELETE",params:{id:t}})}function R(t){return Object(n["a"])({url:"order/get_order_list",method:"post",data:t})}function F(t){return Object(n["a"])({url:"order/get_order_Info/".concat(t),method:"get"})}function J(t){return Object(n["a"])({url:"order/get_refund_Info/".concat(t),method:"get"})}function q(t){return Object(n["a"])({url:"order/get_refund_list",method:"get",params:t})}function z(t){return Object(n["a"])({url:"order/get_verify_list",method:"post",data:t})}function B(t){return Object(n["a"])({url:"order/get_order_status/".concat(t),method:"get"})}function G(t,e){return Object(n["a"])({url:"order/order_refund/".concat(t),method:"put",data:e})}function K(t){return Object(n["a"])({url:"order/del_hang",method:"delete",params:t})}function Q(){return Object(n["a"])({url:"erp/config",method:"get"})}}}]);