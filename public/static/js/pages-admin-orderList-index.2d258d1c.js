(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-admin-orderList-index"],{"08ca":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.loading&&!t.loaded?i("v-uni-view",{staticClass:"Loads acea-row row-center-wrapper",staticStyle:{"margin-top":".2rem"}},[t.loading?i("v-uni-view",[i("v-uni-view",{staticClass:"iconfont icon-jiazai loading acea-row row-center-wrapper"}),t._v("正在加载中")],1):i("v-uni-view",[t._v("上拉加载更多")])],1):t._e()],1)},a=[]},4918:function(t,e,i){"use strict";i.r(e);var n=i("08ca"),o=i("9d69");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("879e");var r,s=i("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"58f839b4",null,!1,n["a"],r);e["default"]=d.exports},"5e2b":function(t,e,i){var n=i("b67c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f065").default;o("6334bd0c",n,!0,{sourceMap:!1,shadowMode:!1})},7692:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.pos-order-list .nav[data-v-e958bd3a]{width:100%;height:%?96?%;background-color:#fff;font-size:%?30?%;color:#282828;position:fixed;top:0;left:0;z-index:9999}.pos-order-list .nav .item.on[data-v-e958bd3a]{color:#2291f8}.pos-order-list .list[data-v-e958bd3a]{margin-top:%?120?%}.pos-order-list .nothing[data-v-e958bd3a]{margin-top:%?120?%;text-align:center;color:#cfcfcf}.pos-order-list .list .item[data-v-e958bd3a]{background-color:#fff;width:100%}.pos-order-list .list .item ~ .item[data-v-e958bd3a]{margin-top:%?24?%}.pos-order-list .list .item .order-num[data-v-e958bd3a]{height:%?124?%;border-bottom:1px solid #eee;font-size:%?30?%;font-weight:700;color:#282828;padding:0 %?30?%}.pos-order-list .list .item .order-num .state[data-v-e958bd3a]{color:#2291f8;font-weight:400}.pos-order-list .list .item .order-num .state.on[data-v-e958bd3a]{font-size:%?24?%;width:%?150?%;text-align:right}.pos-order-list .list .item .order-num .time[data-v-e958bd3a]{font-size:%?26?%;font-weight:400;color:#999}.pos-order-list .list .item .operation[data-v-e958bd3a]{padding:%?20?% %?30?%;margin-top:%?3?%}.pos-order-list .list .item .operation .more[data-v-e958bd3a]{position:relative}.pos-order-list .list .item .operation .icon-gengduo[data-v-e958bd3a]{font-size:%?50?%;color:#aaa}.pos-order-list .list .item .operation .order .arrow[data-v-e958bd3a]{width:0;height:0;border-left:%?11?% solid transparent;border-right:%?11?% solid transparent;border-top:%?20?% solid #e5e5e5;position:absolute;left:%?15?%;bottom:%?-18?%}.pos-order-list .list .item .operation .order .arrow[data-v-e958bd3a]:before{content:"";width:0;height:0;border-left:%?7?% solid transparent;border-right:%?7?% solid transparent;border-top:%?20?% solid #fff;position:absolute;left:%?-7?%;bottom:0}.pos-order-list .list .item .operation .order[data-v-e958bd3a]{width:%?200?%;background-color:#fff;border:1px solid #eee;border-radius:%?10?%;position:absolute;top:%?-100?%;z-index:9}.pos-order-list .list .item .operation .order .items[data-v-e958bd3a]{height:%?77?%;line-height:%?77?%;text-align:center}.pos-order-list .list .item .operation .order .items ~ .items[data-v-e958bd3a]{border-top:1px solid #f5f5f5}.pos-order-list .list .item .operation .bnt[data-v-e958bd3a]{font-size:%?28?%;color:#5c5c5c;width:%?170?%;height:%?60?%;border-radius:%?30?%;border:1px solid #bbb;text-align:center;line-height:%?60?%}.pos-order-list .list .item .operation .bnt.on[data-v-e958bd3a]{color:#c5c8ce!important;background-color:#f7f7f7!important;border-color:#dcdee2!important}.pos-order-list .list .item .operation .bnt ~ .bnt[data-v-e958bd3a]{margin-left:%?14?%}.pos-order-list .list .item .operation .wait[data-v-e958bd3a]{margin-left:%?30?%}.pos-order-goods[data-v-e958bd3a]{padding:0 %?30?%;background-color:#fff}.pos-order-goods .goods[data-v-e958bd3a]{padding:%?28?% 0}.pos-order-goods .goods ~ .goods[data-v-e958bd3a]{border-top:1px dashed #e5e5e5}.pos-order-goods .goods .picTxt[data-v-e958bd3a]{width:%?515?%}.pos-order-goods .goods .picTxt .pictrue[data-v-e958bd3a]{width:%?130?%;height:%?130?%}.pos-order-goods .goods .picTxt .pictrue uni-image[data-v-e958bd3a]{width:100%;height:100%;border-radius:%?6?%}.pos-order-goods .goods .picTxt .text[data-v-e958bd3a]{width:%?365?%;height:%?130?%}.pos-order-goods .goods .picTxt .text .info[data-v-e958bd3a]{width:100%;font-size:%?28?%;color:#282828}.pos-order-goods .goods .picTxt .text .info .label[data-v-e958bd3a]{color:#ff4c3c}.pos-order-goods .goods .picTxt .text .attr[data-v-e958bd3a]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:%?24?%;color:#999}.pos-order-goods .goods .money[data-v-e958bd3a]{width:%?164?%;text-align:right;font-size:%?28?%}.pos-order-goods .goods .money .info[data-v-e958bd3a]{margin-top:%?18?%;font-size:%?24?%}.pos-order-goods .goods .money .x-money[data-v-e958bd3a]{color:#282828}.pos-order-goods .goods .money .num[data-v-e958bd3a]{color:#ff9600;margin:%?5?% 0}.pos-order-goods .goods .money .y-money[data-v-e958bd3a]{color:#999;text-decoration:line-through}.public-total[data-v-e958bd3a]{font-size:%?28?%;color:#282828;border-top:1px solid #eee;height:%?92?%;line-height:%?92?%;text-align:right;padding:0 %?30?%;background-color:#fff}.public-total .money[data-v-e958bd3a]{color:#ff4c3c}',""]),t.exports=e},"879e":function(t,e,i){"use strict";var n=i("5e2b"),o=i.n(n);o.a},"8eb4":function(t,e,i){"use strict";i.r(e);var n=i("b176"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"9d69":function(t,e,i){"use strict";i.r(e);var n=i("acbe"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},a453:function(t,e,i){"use strict";var n=i("c72c"),o=i.n(n);o.a},acbe:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"Loading",props:{loaded:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}};e.default=n},b176:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=n(i("1da1")),a=i("6722"),r=i("bc73"),s=n(i("4918")),d=n(i("79ad")),c=i("6082"),u={name:"AdminOrderList",components:{Loading:s.default,PriceChange:d.default},data:function(){return{openErp:!1,current:"",change:!1,types:0,where:{page:1,limit:10,status:0},list:[],loaded:!1,loading:!1,orderInfo:{},status:"",isRefund:0}},onLoad:function(t){var e=t.types;this.where.status=e,this.getErpConfig()},onShow:function(){this.init()},methods:{goDelivery:function(t){this.openErp||uni.navigateTo({url:"/pages/admin/delivery/index?id="+t.order_id+"&listId="+t.id+"&totalNum="+t.total_num+"&orderStatus="+t._status+"&comeType=1&productType="+t.product_type})},getErpConfig:function(){var t=this;(0,r.erpConfig)().then((function(e){t.openErp=e.data.open_erp})).catch((function(e){t.$util.Tips({title:e})}))},getIndex:function(){var t=this;if(!t.loading&&!t.loaded){t.loading=!0;var e="";e=-3==this.where.status?(0,a.adminRefundList)(t.where):(0,a.getAdminOrderList)(t.where),e.then((function(e){t.loading=!1,t.loaded=e.data.length<t.where.limit,t.list.push.apply(t.list,e.data),t.where.page=t.where.page+1}),(function(e){t.$util.Tips({title:e})}))}},init:function(){this.list=[],this.where.page=1,this.loaded=!1,this.loading=!1,this.getIndex(),this.current=""},changeStatus:function(t){this.where.status!=t&&(this.where.status=t,this.init())},modify:function(t,e,i){this.openErp&&1!=e||(this.change=!0,this.status=e.toString(),this.orderInfo=t,2==e&&(this.isRefund=i))},changeclose:function(t){this.change=t},objOrderRefund:function(t){var e=this;(0,a.setOrderRefund)(t).then((function(t){e.change=!1,e.$util.Tips({title:t.msg}),e.init()}),(function(t){e.change=!1,e.$util.Tips({title:t})}))},savePrice:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var n,o,r,s,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e,o={},r=t.price,s=t.refund_price,n.orderInfo.refund_status,d=t.remark,o.order_id=n.orderInfo.order_id,0!=n.status){i.next=9;break}if((0,c.isMoney)(r)){i.next=5;break}return i.abrupt("return",n.$util.Tips({title:"请输入正确的金额"}));case 5:o.price=r,(0,a.setAdminOrderPrice)(o).then((function(t){n.change=!1,n.$util.Tips({title:"改价成功",icon:"success"}),n.init()}),(function(t){n.change=!1,n.$util.Tips({title:"改价失败",icon:"none"})})),i.next=27;break;case 9:if(2!=n.status){i.next=21;break}if(!e.isRefund){i.next=18;break}if((0,c.isMoney)(s)){i.next=13;break}return i.abrupt("return",n.$util.Tips({title:"请输入正确的金额"}));case 13:o.price=s,o.type=t.type,e.objOrderRefund(o),i.next=19;break;case 18:1==t.type?(0,a.orderRefundAgree)(e.orderInfo.id).then((function(t){n.change=!1,n.$util.Tips({title:t.msg}),n.init()})).catch((function(t){n.change=!1,n.$util.Tips({title:t})})):(o.type=t.type,e.objOrderRefund(o));case 19:i.next=27;break;case 21:if(d){i.next=23;break}return i.abrupt("return",e.$util.Tips({title:"请输入备注"}));case 23:o.remark=d,u="",u=-3==n.where.status?(0,a.setAdminRefundRemark)(o):(0,a.setAdminOrderRemark)(o),u.then((function(t){n.change=!1,e.$util.Tips({title:t.msg,icon:"success"}),n.init()}),(function(t){n.change=!1,n.$util.Tips({title:t})}));case 27:case"end":return i.stop()}}),i)})))()},toDetail:function(t){uni.navigateTo({url:"/pages/admin/orderDetail/index?id=".concat(t.order_id,"&types=").concat(this.where.status)})},offlinePay:function(t){var e=this;this.openErp||(0,a.setOfflinePay)({order_id:t.order_id}).then((function(t){e.$util.Tips({title:t.msg,icon:"success"}),e.init()}),(function(t){e.$util.Tips(t)}))}},onReachBottom:function(){this.getIndex()}};e.default=u},b67c:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".Loads[data-v-58f839b4]{height:%?80?%;font-size:%?25?%;color:#999}.Loads .iconfont[data-v-58f839b4]{font-size:%?30?%;margin-right:%?10?%;height:%?32?%;line-height:%?32?%}\n/*加载动画*/@-webkit-keyframes load-data-v-58f839b4{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load-data-v-58f839b4{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.loadingpic[data-v-58f839b4]{-webkit-animation:load-data-v-58f839b4 3s linear 1s infinite;animation:load-data-v-58f839b4 3s linear 1s infinite}.loading[data-v-58f839b4]{-webkit-animation:load-data-v-58f839b4 linear 1s infinite;animation:load-data-v-58f839b4 linear 1s infinite}",""]),t.exports=e},c72c:function(t,e,i){var n=i("7692");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f065").default;o("2e6f317e",n,!0,{sourceMap:!1,shadowMode:!1})},c86a:function(t,e,i){"use strict";i.r(e);var n=i("f805"),o=i("8eb4");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("a453");var r,s=i("f0c5"),d=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"e958bd3a",null,!1,n["a"],r);e["default"]=d.exports},e091:function(t,e,i){t.exports=i.p+"static/img/no-thing.426652cb.png"},f805:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{ref:"container",staticClass:"pos-order-list"},[n("v-uni-view",{staticClass:"nav acea-row row-around row-middle"},[n("v-uni-view",{staticClass:"item",class:0==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(0)}}},[t._v("待付款")]),n("v-uni-view",{staticClass:"item",class:1==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(1)}}},[t._v("待发货")]),n("v-uni-view",{staticClass:"item",class:2==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(2)}}},[t._v("待收货")]),n("v-uni-view",{staticClass:"item",class:3==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(3)}}},[t._v("待评价")]),n("v-uni-view",{staticClass:"item",class:4==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(4)}}},[t._v("已完成")]),n("v-uni-view",{staticClass:"item",class:-3==t.where.status?"on":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStatus(-3)}}},[t._v("退款")])],1),t.list.length?n("v-uni-view",{staticClass:"list"},t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"order-num acea-row row-between-wrapper",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e)}}},[n("v-uni-view",[n("v-uni-view",[t._v("订单号："+t._s(e.order_id))]),n("v-uni-view",{staticClass:"time"},[t._v("下单时间："+t._s(e.add_time))])],1),n("v-uni-view",{staticClass:"state",class:0==e.refund_status&&0!=t.where.status&&e.refund.length?"on":""},[t._v(t._s(1==e.refund_status?"退款中":2==e.refund_status?"已退款":3==e.refund_status?"拒绝退款":e.status_name.status_name)),0==e.refund_status&&0!=t.where.status&&e.refund.length?n("v-uni-text",[t._v(t._s(e.is_all_refund?"，退款中":"，部分退款中"))]):t._e()],1)],1),t._l(e._info,(function(i,o){return n("v-uni-view",{key:o,staticClass:"pos-order-goods"},[n("v-uni-view",{staticClass:"goods acea-row row-between row-top",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e)}}},[n("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"pictrue"},[n("v-uni-image",{attrs:{src:i.cart_info.productInfo.attrInfo?i.cart_info.productInfo.attrInfo.image:i.cart_info.productInfo.image}})],1),n("v-uni-view",{staticClass:"text acea-row row-between row-column"},[n("v-uni-view",{staticClass:"info line2"},[1==i.cart_info.is_gift?n("v-uni-text",{staticClass:"label"},[t._v("[赠品]")]):t._e(),t._v(t._s(i.cart_info.productInfo.store_name))],1),i.cart_info.productInfo.attrInfo?n("v-uni-view",{staticClass:"attr"},[t._v(t._s(i.cart_info.productInfo.attrInfo.suk))]):t._e()],1)],1),n("v-uni-view",{staticClass:"money"},[n("v-uni-view",{staticClass:"x-money"},[t._v("￥"+t._s(i.cart_info.productInfo.attrInfo?i.cart_info.productInfo.attrInfo.price:i.cart_info.productInfo.price))]),n("v-uni-view",{staticClass:"num"},[t._v("x"+t._s(i.cart_info.cart_num))]),i.cart_info.refund_num&&-2!=e._status._type?n("v-uni-view",{staticClass:"info"},[t._v(t._s(i.cart_info.refund_num)+"件退款中")]):t._e()],1)],1)],1)})),n("v-uni-view",{staticClass:"public-total"},[t._v("共"+t._s(e.total_num)+"件商品，实付款"),n("span",{staticClass:"money"},[t._v("￥"+t._s(e.pay_price))]),t._v("( 邮费 ¥"+t._s(e.pay_postage)+"\n\t\t\t\t\t)")]),n("v-uni-view",{staticClass:"operation acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"more"}),n("v-uni-view",{staticClass:"acea-row row-middle"},[0==t.where.status?n("v-uni-view",{staticClass:"bnt",class:t.openErp?"on":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modify(e,0)}}},[t._v("一键改价")]):t._e(),n("v-uni-view",{staticClass:"bnt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modify(e,1)}}},[t._v("订单备注")]),(0==e.refund_type||1==e.refund_type||5==e.refund_type)&&-3==t.where.status&&parseFloat(e.pay_price)>=0?n("v-uni-view",{staticClass:"bnt",class:t.openErp?"on":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modify(e,2,1)}}},[t._v("立即退款")]):t._e(),-3==t.where.status&&2==e.refund_type?n("v-uni-view",{staticClass:"bnt",class:t.openErp?"on":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.modify(e,2,0)}}},[t._v("同意退货")]):t._e(),-3==t.where.status&&4==e.refund_type?n("v-uni-view",{staticClass:"wait",class:t.openErp?"on":""},[t._v("待用户发货")]):t._e(),"offline"===e.pay_type&&0===e.paid?n("v-uni-view",{staticClass:"bnt cancel",class:t.openErp?"on":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.offlinePay(e)}}},[t._v("确认付款")]):t._e(),1!=t.where.status||1!==e.shipping_type||null!==e.pinkStatus&&2!==e.pinkStatus?t._e():n("v-uni-view",{staticClass:"bnt",class:t.openErp?"on":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDelivery(e)}}},[t._v("去发货")])],1)],1)],2)})),1):n("v-uni-view",{staticClass:"nothing"},[t.loading?t._e():n("v-uni-image",{attrs:{src:i("e091"),alt:""}}),t.loading?t._e():n("v-uni-view",[t._v("暂无记录")])],1),n("Loading",{attrs:{loaded:t.loaded,loading:t.loading}}),n("PriceChange",{attrs:{change:t.change,orderInfo:t.orderInfo,isRefund:t.isRefund,status:t.status},on:{closechange:function(e){arguments[0]=e=t.$handleEvent(e),t.changeclose(e)},savePrice:function(e){arguments[0]=e=t.$handleEvent(e),t.savePrice.apply(void 0,arguments)}}})],1)},a=[]}}]);