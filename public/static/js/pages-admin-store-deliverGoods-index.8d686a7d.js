(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-admin-store-deliverGoods-index"],{"0333":function(e,t,i){"use strict";i.r(t);var r=i("9bc5"),n=i("3b0e");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("d4c7"),i("c379");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"20eab8f4",null,!1,r["a"],o);t["default"]=d.exports},1645:function(e,t,i){"use strict";i.r(t);var r=i("e6c0"),n=i("78e9");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("6724");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"86382208",null,!1,r["a"],o);t["default"]=d.exports},1685:function(e,t,i){var r=i("660b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("4f065").default;n("20d54a26",r,!0,{sourceMap:!1,shadowMode:!1})},"2b2a":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*发货*/.deliver-goods[data-v-20eab8f4]{padding:%?20?% %?30?%}.deliver-goods header[data-v-20eab8f4]{width:100%;background-color:#fff;margin-top:%?10?%}.deliver-goods header .order-num[data-v-20eab8f4]{padding:%?18?% %?24?%;border-bottom:1px solid #f5f5f5;height:%?67?%}.deliver-goods header .order-num .num[data-v-20eab8f4]{width:%?430?%;font-size:%?26?%;color:#282828;position:relative}.deliver-goods header .order-num .num[data-v-20eab8f4]:after{position:absolute;content:"";width:1px;height:%?30?%;background-color:#ddd;top:50%;margin-top:%?-15?%;right:0}.deliver-goods header .order-num .name[data-v-20eab8f4]{font-size:%?26?%;color:#282828;text-align:center;width:%?200?%}.deliver-goods header .order-num .name .iconfont[data-v-20eab8f4]{font-size:%?35?%;color:#477ef3;vertical-align:middle;margin-right:%?10?%}.deliver-goods header .address[data-v-20eab8f4]{font-size:%?26?%;color:#868686;background-color:#fff;padding:%?30?%}.deliver-goods header .address .name[data-v-20eab8f4]{font-size:%?34?%;color:#282828;margin-bottom:%?10?%}.deliver-goods header .address .name .phone[data-v-20eab8f4]{margin-left:%?40?%}.deliver-goods header .line[data-v-20eab8f4]{width:100%;height:%?3?%}.deliver-goods header .line uni-image[data-v-20eab8f4]{width:100%;height:100%;display:block}.deliver-goods .wrapper[data-v-20eab8f4]{width:100%;background-color:#fff;margin-top:%?20?%;border-radius:%?12?%}.deliver-goods .wrapper .item[data-v-20eab8f4]{border-bottom:1px solid #f0f0f0;padding:0 %?30?%;height:%?96?%;font-size:%?28?%;color:#282828;position:relative}.deliver-goods .wrapper .item .mode[data-v-20eab8f4]{width:%?460?%;height:100%;text-align:right}.deliver-goods .wrapper .item .mode .iconfont[data-v-20eab8f4]{font-size:%?30?%;margin-left:%?13?%}.deliver-goods .wrapper .item .mode .goods ~ .goods[data-v-20eab8f4]{margin-left:%?30?%}.deliver-goods .wrapper .item .mode .goods[data-v-20eab8f4]{color:#bbb}.deliver-goods .wrapper .item .mode .goods.on[data-v-20eab8f4]{color:#477ef3}.deliver-goods .wrapper .item .icon-up[data-v-20eab8f4]{position:absolute;font-size:%?35?%;color:#2c2c2c;right:%?30?%}.deliver-goods .wrapper .item select[data-v-20eab8f4]{direction:rtl;padding-right:%?60?%;position:relative;z-index:2}.deliver-goods .wrapper .item uni-input[data-v-20eab8f4]::-webkit-input-placeholder{color:#bbb}.deliver-goods .wrapper .item uni-input[data-v-20eab8f4]::placeholder{color:#bbb}.deliver-goods .confirm[data-v-20eab8f4]{font-size:%?30?%;color:#fff;width:100%;height:%?80?%;background-color:#477ef3;text-align:center;line-height:%?100?%;position:fixed;bottom:0}.select-box[data-v-20eab8f4]{flex:1;height:100%}.select-box .pickerBox[data-v-20eab8f4]{display:flex;align-items:center;justify-content:flex-end;width:100%;height:100%}.look[data-v-20eab8f4]{margin-left:%?20?%;color:#1890ff}.textarea[data-v-20eab8f4]{display:block;min-height:%?192?%;padding:%?30?%;width:100%;border-bottom:1px solid #f0f0f0;font-size:%?30?%}.icon-xiangji[data-v-20eab8f4]{font-size:%?35?%;color:#477ef3}',""]),e.exports=t},"3b0e":function(e,t,i){"use strict";i.r(t);var r=i("b252"),n=i.n(r);for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},"660b":function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.splitOrder[data-v-86382208]{border-bottom:1px solid #f0f0f0}.splitOrder .all[data-v-86382208]{padding:%?20?% %?30?%}.splitOrder .all .checkAll[data-v-86382208]{margin-left:%?20?%}.splitOrder .items[data-v-86382208]{padding:%?25?% %?30?%;background-color:#fff;margin-bottom:%?15?%}.splitOrder .items .picTxt[data-v-86382208]{width:%?627?%;position:relative}.splitOrder .items .picTxt .name[data-v-86382208]{width:%?360?%}.splitOrder .items .picTxt .pictrue[data-v-86382208]{width:%?160?%;height:%?160?%}.splitOrder .items .picTxt .pictrue uni-image[data-v-86382208]{width:100%;height:100%;border-radius:%?6?%}.splitOrder .items .picTxt .text[data-v-86382208]{width:%?444?%;font-size:%?28?%;color:#282828}.splitOrder .items .picTxt .text .reColor[data-v-86382208]{color:#999}.splitOrder .items .picTxt .text .reElection[data-v-86382208]{margin-top:%?20?%}.splitOrder .items .picTxt .text .reElection .title[data-v-86382208]{font-size:%?24?%}.splitOrder .items .picTxt .text .reElection .reBnt[data-v-86382208]{width:%?120?%;height:%?46?%;border-radius:%?23?%;font-size:%?26?%}.splitOrder .items .picTxt .text .infor[data-v-86382208]{font-size:%?24?%;color:#868686;margin-top:%?16?%}.splitOrder .items .picTxt .text .money[data-v-86382208]{font-size:%?32?%;color:#282828;margin-top:%?28?%}.splitOrder .items .picTxt .carnum[data-v-86382208]{height:%?47?%;position:absolute;bottom:%?7?%;right:0}.splitOrder .items .picTxt .carnum uni-view[data-v-86382208]{border:%?1?% solid #a4a4a4;width:%?66?%;text-align:center;height:100%;line-height:%?40?%;font-size:%?28?%;color:#a4a4a4}.splitOrder .items .picTxt .carnum .reduce[data-v-86382208]{border-right:0;border-radius:%?3?% 0 0 %?3?%}.splitOrder .items .picTxt .carnum .reduce.on[data-v-86382208]{border-color:#e3e3e3;color:#dedede}.splitOrder .items .picTxt .carnum .plus[data-v-86382208]{border-left:0;border-radius:0 %?3?% %?3?% 0}.splitOrder .items .picTxt .carnum .plus.on[data-v-86382208]{border-color:#e3e3e3;color:#dedede}.splitOrder .items .picTxt .carnum .num[data-v-86382208]{color:#282828}',""]),e.exports=t},6722:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatisticsInfo=a,t.getStatisticsMonth=o,t.getAdminOrderList=s,t.setAdminOrderPrice=d,t.setAdminOrderRemark=l,t.setAdminRefundRemark=c,t.getAdminOrderDetail=u,t.getAdminRefundDetail=p,t.getAdminOrderDelivery=f,t.setAdminOrderDelivery=v,t.getStatisticsTime=g,t.setOfflinePay=m,t.setOrderRefund=h,t.getLogistics=w,t.orderVerific=_,t.orderExportTemp=x,t.orderDeliveryInfo=b,t.orderOrderDelivery=y,t.userInfo=k,t.orderInfo=C,t.statisticsMenuApi=T,t.getListApi=O,t.getStatisticsListApi=I,t.getOrderlistApi=E,t.getRefundlistApi=$,t.getOrderreMarkApi=A,t.getRefundMarkApi=G,t.getOrderPriceApi=S,t.getOrderOfflineApi=z,t.getOrderDeliveryinfoApi=D,t.getOrderExportApi=L,t.getOrderExportTemp=P,t.setOrderDelivery=R,t.getOrderDelivery=M,t.OrderRefund=B,t.OrderDetail=j,t.refundDetail=N,t.deliveryInfo=W,t.deliveryStatistics=F,t.deliveryList=U,t.deliveryOrderList=J,t.OrderDel=Q,t.OrderCancel=V,t.orderWriteoffInfo=q,t.orderCartInfo=H,t.orderWriteoff=K,t.orderSplitInfo=X,t.orderSplitDelivery=Y,t.orderRefundAgree=Z,t.storeSplitInfo=ee,t.storeSplitDelivery=te,t.storeRefundAgree=ie,t.adminRefundList=re;var n=r(i("c431"));function a(){return n.default.get("admin/order/statistics",{},{login:!0})}function o(e){return n.default.get("admin/order/data",e,{login:!0})}function s(e){return n.default.get("admin/order/list",e,{login:!0})}function d(e){return n.default.post("admin/order/price",e,{login:!0})}function l(e){return n.default.post("admin/order/remark",e,{login:!0})}function c(e){return n.default.post("admin/refund_order/remark",e,{login:!0})}function u(e){return n.default.get("admin/order/detail/"+e,{},{login:!0})}function p(e){return n.default.get("admin/refund_order/detail/"+e,{},{login:!0})}function f(e){return n.default.get("admin/order/delivery/gain/"+e,{},{login:!0})}function v(e,t){return n.default.post("admin/order/delivery/keep/"+e,t,{login:!0})}function g(e){return n.default.get("admin/order/time",e,{login:!0})}function m(e){return n.default.post("admin/order/offline",e,{login:!0})}function h(e){return n.default.post("admin/order/refund",e,{login:!0})}function w(e){return n.default.get("logistics",e,{login:!1})}function _(e,t){return n.default.post("order/order_verific",{verify_code:e,is_confirm:t})}function x(e){return n.default.get("admin/order/export_temp",e)}function b(){return n.default.get("admin/order/delivery_info")}function y(){return n.default.get("admin/order/delivery")}function k(){return n.default.get("store/staff/info")}function C(e){return n.default.get("store/order/statistics",e)}function T(e){return n.default.get("store/staff/statistics",e)}function O(e){return n.default.get("store/order/data",e)}function I(e,t){return n.default.get("store/staff/data/"+e,t)}function E(e){return n.default.get("store/order/list",e)}function $(e){return n.default.get("store/refund/list",e)}function A(e){return n.default.post("store/order/remark",e)}function G(e){return n.default.post("store/refund/remark",e)}function S(e){return n.default.post("store/order/price",e)}function z(e){return n.default.post("store/order/offline",e)}function D(e){return n.default.get("store/order/delivery_info/"+e)}function L(e){return n.default.get("store/order/export_all",e,{login:!1})}function P(e){return n.default.get("store/order/export_temp",e)}function R(e,t){return n.default.post("store/order/delivery/"+e,t,{login:!0})}function M(){return n.default.get("store/delivery/list")}function B(e){return n.default.post("store/order/refund",e,{login:!0})}function j(e){return n.default.get("store/order/detail/"+e)}function N(e){return n.default.get("store/refund/detail/"+e)}function W(e){return n.default.get("store/delivery/info")}function F(e){return n.default.get("store/delivery/statistics",e)}function U(e){return n.default.get("store/delivery/data",e)}function J(e){return n.default.get("store/delivery/order",e)}function Q(e){return n.default.delete("store/order/del/"+e)}function V(e){return n.default.post("store/order/cancel/"+e)}function q(e,t){return n.default.get("store/order/writeoff_info/"+e,t)}function H(e,t){return n.default.get("store/order/cart_info/"+e,t)}function K(e,t){return n.default.post("store/order/writeoff/"+e,t)}function X(e){return n.default.get("admin/order/split_cart_info/"+e)}function Y(e,t){return n.default.put("admin/order/split_delivery/"+e,t)}function Z(e){return n.default.post("admin/order/refund_agree/"+e)}function ee(e){return n.default.get("store/order/split_cart_info/"+e)}function te(e,t){return n.default.put("store/order/split_delivery/"+e,t)}function ie(e){return n.default.post("store/order/refund_agree/"+e)}function re(e){return n.default.get("admin/refund_order/list",e)}},6724:function(e,t,i){"use strict";var r=i("1685"),n=i.n(r);n.a},"78e9":function(e,t,i){"use strict";i.r(t);var r=i("7c56"),n=i.n(r);for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},"7c56":function(e,t,i){"use strict";i("4160"),i("a9e3"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{splitGoods:{type:Array,default:function(){return[]}},select_all:{type:Boolean,default:!0}},data:function(){return{isAllSelect:!1}},mounted:function(){},methods:{subCart:function(e){e.surplus_num=Number(e.surplus_num)-1,e.surplus_num<=1&&(e.surplus_num=1),this.$emit("getList",this.splitGoods)},addCart:function(e){e.surplus_num=Number(e.surplus_num)+1,e.surplus_num>=e.numShow&&(e.surplus_num=e.numShow),this.$emit("getList",this.splitGoods)},inArray:function(e,t){for(var i in t)if(t[i]==e)return!0;return!1},checkboxChange:function(e){var t=this,i=e.detail.value;this.splitGoods.forEach((function(e){t.inArray(e.id,i)?e.checked=!0:e.checked=!1})),this.$emit("getList",this.splitGoods),i.length==this.splitGoods.length?this.isAllSelect=!0:this.isAllSelect=!1},forGoods:function(e){var t=this;t.splitGoods.length&&(t.splitGoods.forEach((function(t){t.checked=!!e})),t.$emit("getList",t.splitGoods))},checkboxAllChange:function(e){var t=e.detail.value;t.length?this.forGoods(1):this.forGoods(0)}}};t.default=r},"9bc5":function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"deliver-goods"},[r("header",[r("v-uni-view",{staticClass:"order-num acea-row row-between-wrapper"},[r("v-uni-view",{staticClass:"num line1"},[e._v("订单号："+e._s(e.order_id))]),r("v-uni-view",{staticClass:"name line1"},[r("span",{staticClass:"iconfont icon-yonghu2"}),e._v(e._s(e.delivery.nickname))])],1),r("v-uni-view",{staticClass:"address"},[r("v-uni-view",{staticClass:"name"},[e._v(e._s(e.delivery.real_name)),r("span",{staticClass:"phone"},[e._v(e._s(e.delivery.user_phone))])]),r("v-uni-view",[e._v(e._s(e.delivery.user_address))])],1),r("v-uni-view",{staticClass:"line"},[r("v-uni-image",{attrs:{src:i("ecb2")}})],1)],1),r("v-uni-view",{staticClass:"wrapper"},[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("发货方式")]),r("v-uni-view",{staticClass:"mode acea-row row-middle row-right"},e._l(e.types,(function(t,i){return r("v-uni-view",{key:i,staticClass:"goods",class:e.active===i||3==e.productType?"on":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeType(t,i)}}},[e._v(e._s(t.title)),r("span",{staticClass:"iconfont icon-xuanzhong2"})])})),1)],1),e.logistics.length>0?[r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}],staticClass:"list"},[1==e.delivery.config_export_open?r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("发货类型")]),r("v-uni-view",{staticClass:"mode acea-row row-middle row-right"},e._l(e.expressType,(function(t,i){return r("v-uni-view",{key:i,staticClass:"goods",class:e.curExpress===t.key?"on":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeExpTpe(t,i)}}},[e._v(e._s(t.title)),r("span",{staticClass:"iconfont icon-xuanzhong2"})])})),1)],1):e._e(),1==e.curExpress?[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("快递公司")]),r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.seIndex,range:e.logistics,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[r("span",{staticClass:"marr"},[e._v(e._s(e.logistics[e.seIndex].name))]),r("span",{staticClass:"iconfont icon-xiangyou size"})])],1)],1)],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("快递单号")]),r("v-uni-input",{staticClass:"mode size",attrs:{type:"text",placeholder:"填写快递单号"},model:{value:e.delivery_id,callback:function(t){e.delivery_id=t},expression:"delivery_id"}}),e.isWeixin?r("v-uni-text",{staticClass:"iconfont icon-xiangji",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.scanCode.apply(void 0,arguments)}}}):e._e()],1),r("v-uni-view",{staticClass:"item"},[1==e.curExpress?r("p",{staticClass:"trip"},[e._v("顺丰请输入单号 :收件人或寄件人手机号后四位")]):e._e(),1==e.curExpress?r("p",{staticClass:"trip"},[e._v("例如：0080890707090")]):e._e()])]:e._e(),2==e.curExpress?[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("快递公司")]),r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.seIndex,range:e.logistics,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.logistics[e.seIndex].name))])],1)],1)],1),e.expTemp.length>0?r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("电子面单")]),r("div",{staticStyle:{display:"flex","align-items":"center"}},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.expIndex,range:e.expTemp,"range-key":"title"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTempChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.expTemp[e.expIndex].title))])],1),r("div",{staticClass:"look",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}},[e._v("预览")])],1)],1):e._e(),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人姓名：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人姓名"},model:{value:e.to_name,callback:function(t){e.to_name=t},expression:"to_name"}})],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人电话：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人电话"},model:{value:e.to_tel,callback:function(t){e.to_tel=t},expression:"to_tel"}})],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人地址：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人地址"},model:{value:e.to_addr,callback:function(t){e.to_addr=t},expression:"to_addr"}})],1)]:e._e()],2)]:e._e(),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}],staticClass:"list"},[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("送货人")]),e.postPeople.length>0?r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.postIndex,range:e.postPeople,"range-key":"wx_name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPostChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.postPeople[e.postIndex].wx_name))])],1)],1):e._e()],1)],1),r("v-uni-textarea",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}],staticClass:"textarea",attrs:{placeholder:"备注",maxlength:500,"auto-height":!0},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTextAreaBlur.apply(void 0,arguments)}},model:{value:e.fictitious_content,callback:function(t){e.fictitious_content=t},expression:"fictitious_content"}}),e.totalNum>1&&2!==e.active?r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("分单发货")]),r("v-uni-view",{staticClass:"mode acea-row row-middle row-right"},e._l(e.orderGoods,(function(t,i){return r("v-uni-view",{key:t.key,staticClass:"goods",class:e.curGoods===t.key?"on":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.changeGoods(t)}}},[e._v(e._s(t.title)),r("span",{staticClass:"iconfont icon-xuanzhong2"})])})),1)],1):e._e(),e.curGoods?r("splitOrder",{attrs:{splitGoods:e.splitGoods},on:{getList:function(t){arguments[0]=t=e.$handleEvent(t),e.getList.apply(void 0,arguments)}}}):e._e()],2),r("v-uni-view",{staticStyle:{height:"1.2rem"}}),r("v-uni-view",{staticClass:"button"},[r("v-uni-view",{staticClass:"box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveInfo.apply(void 0,arguments)}}},[e._v("确认提交")])],1)],1)},a=[]},b252:function(e,t,i){"use strict";var r=i("4ea4");i("4160"),i("a434"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var n=r(i("1da1")),a=i("6722"),o=(i("6082"),r(i("1645"))),s={name:"GoodsDeliver",components:{splitOrder:o.default},props:{},data:function(){return{types:[{type:"express",title:"发货",key:1},{type:"send",title:"送货",key:2},{type:"fictitious",title:"无需物流",key:3}],expressType:[{title:"手动填写",key:1},{title:"电子面单打印",key:2}],orderGoods:[{title:"开启",key:1},{title:"关闭",key:0}],curExpress:1,active:0,order_id:"",delivery:[],logistics:[],delivery_type:"1",delivery_name:"",delivery_id:"",seIndex:0,expIndex:0,expTemp:[],to_name:"",to_tel:"",to_addr:"",postPeople:[],postIndex:0,fictitious_content:"",listId:0,curGoods:0,splitGoods:[],cartIds:[],totalNum:0,productType:0,isWeixin:this.$wechat.isWeixin()}},watch:{"$route.params.oid":function(e){var t=this;void 0!=e&&(t.order_id=e,t.getIndex())}},onLoad:function(e){this.order_id=e.id,this.listId=e.listId,this.totalNum=e.totalNum,this.comeType=e.comeType,this.productType=e.productType,3==this.productType&&(this.types.splice(0,2),this.delivery_type=3,this.active=2),8!=e.orderStatus&&4!=e.orderStatus&&9!=e.orderStatus||(this.curGoods=1,this.orderGoods.pop(),this.splitList()),this.getIndex(),this.getLogistics(),this.geTorderOrderDelivery()},methods:{getList:function(e){var t=this;t.splitGoods=e;var i=[];e.forEach((function(e){if(e.checked){var t={cart_id:e.cart_id,cart_num:e.surplus_num};i.push(t)}})),this.cartIds=i},splitList:function(){var e=this;(0,a.storeSplitInfo)(this.listId).then((function(t){var i=t.data;i.forEach((function(e){e.checked=!1,e.numShow=e.surplus_num})),e.splitGoods=i})).catch((function(t){return e.$util.Tips({title:t})}))},changeGoods:function(e){this.curGoods=e.key,e.key&&this.splitList()},scanCode:function(){var e=this;this.$wechat.isWeixin()&&this.$wechat.wechatEvevt("scanQRCode",{needResult:1,scanType:["barCode"]}).then((function(t){var i=t.resultStr.split(",");e.delivery_id=i[1]}))},previewImage:function(){uni.previewImage({urls:[this.expTemp[this.expIndex].pic],success:function(){},fail:function(e){}})},geTorderOrderDelivery:function(){var e=this;(0,a.getOrderDelivery)().then((function(t){e.postPeople=t.data}))},bindPostChange:function(e){this.postIndex=e.detail.value},changeExpTpe:function(e,t){this.curExpress=e.key,this.getLogistics(t||"")},changeType:function(e,t){this.active=t,this.delivery_type=e.key},getIndex:function(){var e=this;(0,a.getOrderDeliveryinfoApi)(e.order_id).then((function(t){e.delivery=t.data,e.to_name=t.data.export.to_name,e.to_tel=t.data.export.to_tel,e.to_addr=t.data.export.to_add}),(function(t){e.$util.Tips({title:t})}))},getLogistics:function(e){var t=this;(0,a.getOrderExportApi)({status:e}).then((function(e){t.logistics=e.data,t.getExpTemp(e.data[0].code)}),(function(e){t.$util.Tips({title:e})}))},saveInfo:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var i,r,n,a,o,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e,r=i.delivery_type,i.logistics[i.seIndex].name,n=i.delivery_id,i.delivery_name,a={},a.delivery_type=r,a.delivery_code=i.logistics[i.seIndex].code,a.delivery_name=i.logistics[i.seIndex].name,a.type=i.active+1,1!=r||1!=e.curExpress){t.next=11;break}if(n){t.next=8;break}return t.abrupt("return",e.$util.Tips({title:"请填写快递单号"}));case 8:a.express_record_type=i.curExpress,a.delivery_id=n,i.curGoods?i.setSplitInfo(a):i.setInfo(a);case 11:if(1!=r||2!=e.curExpress){t.next=28;break}if(i.to_name){t.next=14;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人姓名"}));case 14:if(i.to_tel){t.next=16;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人手机号码"}));case 16:if(/^1[3456789]\d{9}$/.test(i.to_tel)){t.next=18;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人手机号码"}));case 18:if(i.to_addr){t.next=20;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人地址"}));case 20:if(0!=i.expTemp.length){t.next=22;break}return t.abrupt("return",e.$util.Tips({title:"请选择电子面单"}));case 22:a.express_record_type=i.curExpress,a.to_name=i.to_name,a.to_tel=i.to_tel,a.to_addr=i.to_addr,a.express_temp_id=i.expTemp[i.expIndex].temp_id,i.curGoods?i.setSplitInfo(a):i.setInfo(a);case 28:if(2!=r){t.next=38;break}if(i.postPeople.length){t.next=31;break}return t.abrupt("return",e.$util.Tips({title:"请在门店后台添加送货人"}));case 31:o=e.postPeople[e.postIndex],s={},s.type=i.delivery_type,s.sh_delivery_name=o.wx_name,s.sh_delivery_id=o.phone,s.sh_delivery_uid=o.uid,i.curGoods?i.setSplitInfo(s):i.setInfo(s);case 38:3==r&&(d={},d.type=i.delivery_type,d.fictitious_content=i.fictitious_content,i.curGoods?i.setSplitInfo(d):i.setInfo(d));case 39:case"end":return t.stop()}}),t)})))()},setInfo:function(e){var t=this,i=this;(0,a.setOrderDelivery)(i.delivery.id,e).then((function(e){i.$util.Tips({title:e.msg,icon:"success",mask:!0}),setTimeout((function(e){2==t.comeType?uni.navigateTo({url:"/pages/admin/store/orderDetail/index?id="+t.listId}):uni.navigateTo({url:"/pages/admin/store/order/index?type=1"})}),2e3)}),(function(e){i.$util.Tips({title:e})}))},setSplitInfo:function(e){var t=this;if(!this.cartIds.length)return this.$util.Tips({title:"请选择发货商品"});e.cart_ids=this.cartIds,(0,a.storeSplitDelivery)(this.delivery.id,e).then((function(e){t.$util.Tips({title:e.msg,icon:"success",mask:!0}),setTimeout((function(e){2==t.comeType?uni.navigateTo({url:"/pages/admin/store/orderDetail/index?id="+t.listId}):uni.navigateTo({url:"/pages/admin/store/order/index?type=1"})}),2e3)})).catch((function(e){t.$util.Tips({title:e})}))},bindPickerChange:function(e){this.seIndex=e.detail.value,this.getExpTemp(this.logistics[e.detail.value].code)},bindTempChange:function(e){this.expIndex=e.detail.value},getExpTemp:function(e){var t=this;(0,a.getOrderExportTemp)({com:e}).then((function(e){t.expTemp=e.data.data}))}}};t.default=s},c379:function(e,t,i){"use strict";var r=i("e739"),n=i.n(r);n.a},ca9a:function(e,t,i){var r=i("d13b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("4f065").default;n("ce82374c",r,!0,{sourceMap:!1,shadowMode:!1})},d13b:function(e,t,i){var r=i("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */[data-v-20eab8f4] .splitOrder{margin-bottom:%?100?%}[data-v-20eab8f4] .splitOrder .items .picTxt{width:%?560?%}[data-v-20eab8f4] .splitOrder .items .picTxt .text{width:%?380?%}[data-v-20eab8f4] .splitOrder .items .picTxt .name{width:%?292?%}.marr[data-v-20eab8f4]{display:inline-block;margin-right:%?24?%}.size[data-v-20eab8f4]{font-size:%?28?%}.trip[data-v-20eab8f4]{font-size:%?22?%;color:#ccc;padding:%?6?% %?0?%}.button[data-v-20eab8f4]{position:fixed;height:%?80?%;bottom:%?44?%}.button .box[data-v-20eab8f4]{text-align:center;font-size:%?30?%;color:#fff;line-height:%?80?%;width:%?690?%;margin:0 auto;height:%?80?%;background:#1890ff;border-radius:%?40?%}',""]),e.exports=t},d4c7:function(e,t,i){"use strict";var r=i("ca9a"),n=i.n(r);n.a},e6c0:function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.splitGoods.length?i("v-uni-view",{staticClass:"splitOrder"},[e.select_all?i("v-uni-view",{staticClass:"all"},[i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxAllChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{value:"all",checked:e.isAllSelect}}),i("v-uni-text",{staticClass:"checkAll"},[e._v("全选")])],1)],1):e._e(),i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},[e._l(e.splitGoods,(function(t,r){return[i("v-uni-view",{key:r+"_0",staticClass:"items acea-row row-between-wrapper"},[i("v-uni-checkbox",{attrs:{value:t.id.toString(),checked:t.checked}}),i("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"pictrue"},[i("v-uni-image",{attrs:{src:t.cart_info.productInfo.image}})],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name line1"},[e._v(e._s(t.cart_info.productInfo.store_name))]),i("v-uni-view",[e._v("×"+e._s(t.cart_num))])],1),i("v-uni-view",{staticClass:"infor line1"},[e._v("属性："+e._s(t.cart_info.productInfo.attrInfo.suk||"默认"))]),i("v-uni-view",{staticClass:"money"},[e._v("￥"+e._s(t.cart_info.truePrice))])],1),i("v-uni-view",{staticClass:"carnum acea-row row-center-wrapper"},[i("v-uni-view",{staticClass:"reduce",class:1==t.surplus_num?"on":"",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.subCart(t)}}},[e._v("-")]),i("v-uni-view",{staticClass:"num"},[e._v(e._s(t.surplus_num))]),i("v-uni-view",{staticClass:"plus",class:t.surplus_num==t.numShow?"on":"",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.addCart(t)}}},[e._v("+")])],1)],1)],1)]}))],2)],1):e._e()},a=[]},e739:function(e,t,i){var r=i("2b2a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("4f065").default;n("67a6829b",r,!0,{sourceMap:!1,shadowMode:!1})},ecb2:function(e,t,i){e.exports=i.p+"static/img/line.05bf1c84.jpg"}}]);