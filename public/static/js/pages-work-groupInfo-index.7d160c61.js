(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-work-groupInfo-index"],{"08ca":function(t,i,n){"use strict";var e;n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return e}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[t.loading&&!t.loaded?n("v-uni-view",{staticClass:"Loads acea-row row-center-wrapper",staticStyle:{"margin-top":".2rem"}},[t.loading?n("v-uni-view",[n("v-uni-view",{staticClass:"iconfont icon-jiazai loading acea-row row-center-wrapper"}),t._v("正在加载中")],1):n("v-uni-view",[t._v("上拉加载更多")])],1):t._e()],1)},o=[]},2891:function(t,i,n){"use strict";var e=n("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.getWorkConfig=o,i.getWorkAgentConfig=r,i.getWorkAgentInfo=s,i.getWorkOrderList=c,i.getWorkOrderInfo=u,i.getWorkCartList=d,i.getWorkVisitInfo=f,i.getWorkGroupInfo=l,i.getWorkGroupMember=g;var a=e(n("c431"));function o(t){return a.default.get("work/config?url="+t,{},{noAuth:!0})}function r(t){return a.default.get("work/agentConfig?url="+t,{},{noAuth:!0})}function s(t){return a.default.get("work/client/info",t,{noAuth:!0})}function c(t){return a.default.get("work/order/list",t,{noAuth:!0})}function u(t,i){return a.default.get("work/order/info/".concat(t),i,{noAuth:!0})}function d(t){return a.default.get("work/product/cart_list",t,{noAuth:!0})}function f(t){return a.default.get("work/product/visit_list",t,{noAuth:!0})}function l(t){return a.default.get("work/groupInfo",t,{noAuth:!0})}function g(t,i){return a.default.get("work/groupMember/".concat(t),i,{noAuth:!0})}},"325e":function(t,i,n){"use strict";n.r(i);var e=n("fcfb"),a=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},4918:function(t,i,n){"use strict";n.r(i);var e=n("08ca"),a=n("9d69");for(var o in a)"default"!==o&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("879e");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"58f839b4",null,!1,e["a"],r);i["default"]=c.exports},"4d76":function(t,i,n){"use strict";n.r(i);var e=n("9031"),a=n("325e");for(var o in a)"default"!==o&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("7e21");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"271a0df1",null,!1,e["a"],r);i["default"]=c.exports},"5e2b":function(t,i,n){var e=n("b67c");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f065").default;a("6334bd0c",e,!0,{sourceMap:!1,shadowMode:!1})},"730d":function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.group_info .top_bg[data-v-271a0df1]{width:%?750?%;height:%?150?%;background:#1890ff}.group_info .header_card[data-v-271a0df1]{width:%?710?%;height:%?168?%;margin:%?-126?% auto 0;background:#fff;border-radius:%?12?%;padding:%?28?% %?24?%}.group_info .header_card .pic[data-v-271a0df1]{width:%?112?%;height:%?112?%;border-radius:50%;background:#e1f1ff;text-align:center;line-height:%?112?%}.group_info .header_card .pic .iconfont[data-v-271a0df1]{font-size:%?50?%;color:#1890ff}.group_info .header_card .name[data-v-271a0df1]{margin-left:%?20?%}.group_info .header_card .name .group_name[data-v-271a0df1]{height:%?44?%;font-size:%?32?%;font-weight:500;color:rgba(0,0,0,.85);line-height:%?44?%}.group_info .header_card .name .desc[data-v-271a0df1]{height:%?32?%;font-size:%?22?%;font-weight:400;color:hsla(0,0%,40%,.85);line-height:%?32?%;margin-top:%?6?%}.group_info .static[data-v-271a0df1]{width:%?710?%;height:%?172?%;background:#fff;border-radius:%?12?%;margin:%?20?% auto 0}.group_info .static .item[data-v-271a0df1]{text-align:center;width:33.3%}.group_info .static .item .num[data-v-271a0df1]{height:%?56?%;font-size:%?40?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:rgba(0,0,0,.85);line-height:%?56?%}.group_info .static .item .title[data-v-271a0df1]{height:%?32?%;font-size:%?22?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:hsla(0,0%,40%,.85);line-height:%?32?%;margin-top:%?12?%}.group_info .static .v_line[data-v-271a0df1]{position:relative}.group_info .static .v_line[data-v-271a0df1]::before{content:"";position:absolute;left:0;top:%?23?%;width:1px;height:%?80?%;background-color:#eee}.group_info .list[data-v-271a0df1]{width:%?710?%;margin:%?20?% auto 0;background:#fff;border-radius:%?12?%;padding:%?30?% %?24?%}.group_info .list .search[data-v-271a0df1]{width:%?642?%;height:%?64?%;margin:0 auto 0;line-height:%?64?%;background:#f5f6f9;border-radius:%?32?%;padding-left:%?20?%;font-size:%?28?%}.group_info .list .pla_name[data-v-271a0df1]{font-size:%?28?%;text-align:center;font-weight:400;color:#ccc}.group_info .list .item[data-v-271a0df1]{margin-top:%?32?%;padding-bottom:%?28?%;border-bottom:1px solid #eee}.group_info .list .item-info .pictrue[data-v-271a0df1]{width:%?100?%;height:%?100?%}.group_info .list .item-info .pictrue uni-image[data-v-271a0df1]{width:100%;height:100%;border-radius:%?8?%}.group_info .list .conten[data-v-271a0df1]{width:%?296?%;margin-left:%?22?%}.group_info .list .conten .name[data-v-271a0df1]{height:%?42?%;font-size:%?30?%;font-weight:600;color:#000;line-height:%?42?%}.group_info .list .conten .iconfont[data-v-271a0df1]{font-size:%?26?%;font-weight:400;display:inline-block;margin-left:%?8?%}.group_info .list .conten .icon-xingbie-nan[data-v-271a0df1]{color:#1890ff}.group_info .list .conten .icon-xingbie-nv[data-v-271a0df1]{color:#e369a2}.group_info .list .conten .label[data-v-271a0df1]{display:inline-block;margin:%?10?% %?12?% 0 0;height:%?38?%;padding:0 %?12?% 0;background:rgba(24,144,255,.1);border-radius:%?4?%;border:1px solid #1890ff;text-align:center;font-size:%?24?%;color:#1890ff}.group_info .list .conten .label_qita[data-v-271a0df1]{display:inline-block;margin:%?10?% %?12?% 0 0;height:%?38?%;padding:0 %?12?% 0;border-radius:%?4?%;border:%?1?% solid #ccc;text-align:center;font-size:%?24?%;color:#999}.group_info .list .time[data-v-271a0df1]{font-size:%?24?%}.group_info .list .desc[data-v-271a0df1]{width:%?460?%;height:%?34?%;font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:rgba(0,0,0,.85);line-height:%?34?%;margin-top:%?24?%}',""]),t.exports=i},"7e21":function(t,i,n){"use strict";var e=n("b1f8"),a=n.n(e);a.a},"879e":function(t,i,n){"use strict";var e=n("5e2b"),a=n.n(e);a.a},9031:function(t,i,n){"use strict";var e;n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return e}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"group_info"},[n("v-uni-view",{staticClass:"top_bg"}),n("v-uni-view",{staticClass:"header_card acea-row row-middle"},[n("v-uni-view",{staticClass:"pic"},[n("v-uni-text",{staticClass:"iconfont icon-qunliao"})],1),n("v-uni-view",{staticClass:"name"},[n("v-uni-view",{staticClass:"group_name"},[t._v(t._s(t.chatInfo.name))]),n("v-uni-view",{staticClass:"desc"},[t._v("创建时间："+t._s(t.chatInfo.group_create_time))])],1)],1),n("v-uni-view",{staticClass:"static acea-row row-around row-middle"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.chatInfo.member_num))]),n("v-uni-view",{staticClass:"title"},[t._v("当前群成员")])],1),n("v-uni-view",{staticClass:"item v_line"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.chatInfo.todaySum))]),n("v-uni-view",{staticClass:"title"},[t._v("今日入群")])],1),n("v-uni-view",{staticClass:"item v_line"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.chatInfo.retreat_group_num))]),n("v-uni-view",{staticClass:"title"},[t._v("累计退群")])],1)],1),n("v-uni-view",{staticClass:"list"},[n("v-uni-view",{staticClass:"search"},[n("v-uni-input",{staticClass:"search",attrs:{type:"text",placeholder:"点击搜索客户名称","placeholder-class":"pla_name"},on:{blur:function(i){arguments[0]=i=t.$handleEvent(i),t.search()}},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1),t._l(t.userList,(function(i,e){return n("v-uni-view",{key:e,staticClass:"item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toInfo(i)}}},[n("v-uni-view",{staticClass:"item-info acea-row row-between row-top"},[n("v-uni-view",{staticClass:"pictrue"},[1==i.type&&i.member?n("v-uni-image",{attrs:{src:i.member.avatar}}):t._e(),2==i.type&&i.client?n("v-uni-image",{attrs:{src:i.client.avatar}}):t._e()],1),n("v-uni-view",{staticClass:"conten"},[1==i.type&&i.member?n("v-uni-view",{staticClass:"name line1"},[t._v(t._s(i.member.name)),n("v-uni-text",{staticClass:"iconfont",class:1==i.member.gender?"icon-xingbie-nan":"icon-xingbie-nv"})],1):t._e(),2==i.type&&i.client?n("v-uni-view",{staticClass:"name line1"},[t._v(t._s(i.client.name)),n("v-uni-text",{staticClass:"iconfont",class:1==i.client.gender?"icon-xingbie-nan":"icon-xingbie-nv"})],1):t._e(),1==i.type?n("v-uni-text",{staticClass:"label"},[t._v(t._s(i.userid==t.chatInfo.owner?"群主":"成员"))]):t._e(),2==i.type?n("v-uni-text",{staticClass:"label"},[t._v("客户")]):t._e(),n("v-uni-text",{staticClass:"label_qita"},[t._v("其他所在群"+t._s(i.group_chat_num)+"个")])],1),n("v-uni-view",{staticClass:"time"},[t._v(t._s(i.join_time))])],1),i.tags&&i.tags.length?n("v-uni-view",{staticClass:"desc line1"},[t._v("标签："),t._l(i.tags,(function(i,e){return n("v-uni-text",{key:e},[t._v(t._s(i)+",")])}))],2):n("v-uni-view",{staticClass:"desc line1"},[t._v("标签：暂无")])],1)})),n("Loading",{attrs:{loaded:t.loaded,loading:t.loading}})],2)],1)},o=[]},"9d69":function(t,i,n){"use strict";n.r(i);var e=n("acbe"),a=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},a5ec:function(t,i,n){"use strict";n("c975"),n("d3b7"),Object.defineProperty(i,"__esModule",{value:!0}),i.initWxConfig=a,i.initAgentConfig=o;var e=n("2891");function a(){return r}function o(){return s}var r=new Promise((function(t,i){(0,e.getWorkConfig)(location.href).then((function(n){/(iPhone|iPad|iPod|iOS|macintosh|mac os x)/i.test(navigator.userAgent)?(wx.config({beta:!0,debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:n.data.jsApiList}),wx.ready((function(){setTimeout((function(){(0,e.getWorkAgentConfig)(location.href).then((function(n){wx.agentConfig({corpid:n.data.corpid,agentid:n.data.agentid,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:n.data.jsApiList,success:function(i){t(i)},fail:function(t){t.errMsg.indexOf("function not exist")>-1&&i("版本过低请升级")}})}))}),1e3)}))):(jWeixin.config({beta:!0,debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:n.data.jsApiList}),jWeixin.ready((function(){(0,e.getWorkAgentConfig)(location.href).then((function(n){jWeixin.agentConfig({corpid:n.data.corpid,agentid:n.data.agentid,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:n.data.jsApiList,success:function(i){t(i)},fail:function(t){t.errMsg.indexOf("function not exist")>-1&&i("版本过低请升级")}})}))})))})).catch((function(t){i(t)}))})),s=new Promise((function(t,i){(0,e.getWorkAgentConfig)(location.href).then((function(n){wx.agentConfig({corpid:n.data.corpid,agentid:n.data.agentid,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:n.data.jsApiList,success:function(i){t(i)},fail:function(t){t.errMsg.indexOf("function not exist")>-1&&i("版本过低请升级")}})}))}))},acbe:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={name:"Loading",props:{loaded:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}};i.default=e},b1f8:function(t,i,n){var e=n("730d");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f065").default;a("4fbab140",e,!0,{sourceMap:!1,shadowMode:!1})},b67c:function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,".Loads[data-v-58f839b4]{height:%?80?%;font-size:%?25?%;color:#999}.Loads .iconfont[data-v-58f839b4]{font-size:%?30?%;margin-right:%?10?%;height:%?32?%;line-height:%?32?%}\n/*加载动画*/@-webkit-keyframes load-data-v-58f839b4{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load-data-v-58f839b4{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.loadingpic[data-v-58f839b4]{-webkit-animation:load-data-v-58f839b4 3s linear 1s infinite;animation:load-data-v-58f839b4 3s linear 1s infinite}.loading[data-v-58f839b4]{-webkit-animation:load-data-v-58f839b4 linear 1s infinite;animation:load-data-v-58f839b4 linear 1s infinite}",""]),t.exports=i},fcfb:function(t,i,n){"use strict";var e=n("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n("a5ec"),o=n("2891"),r=e(n("4918")),s={data:function(){return{chat_id:"",chatInfo:{},loaded:!1,loading:!1,loadend:!1,loadTitle:"加载更多",userList:[],page:1,limit:20,name:""}},components:{Loading:r.default},onLoad:function(t){var i=this;if(t.back){if(this.chat_id=this.$Cache.get("chatId"),!this.$Cache.get("chatId"))return uni.navigateBack(),this.$util.Tips({title:"缺少参数"});this.getInfo()}else(0,a.initWxConfig)().then((function(t){i.getChatID()})).catch((function(t){return that.$util.Tips({title:t})}))},methods:{getChatID:function(){var t=this;/(iPhone|iPad|iPod|iOS|macintosh|mac os x)/i.test(navigator.userAgent)?wx.invoke("getContext",{},(function(i){if("getContext:ok"==i.err_msg){var n=i.entry;wx.invoke("getCurExternalChat",{entry:n},(function(i){"getCurExternalChat:ok"==i.err_msg&&(t.chat_id=i.chatId,t.getInfo())}))}})):jWeixin.invoke("getContext",{},(function(i){if("getContext:ok"==i.err_msg){var n=i.entry;jWeixin.invoke("getCurExternalChat",{entry:n},(function(i){"getCurExternalChat:ok"==i.err_msg&&(t.chat_id=i.chatId,t.getInfo())}))}}))},getInfo:function(){var t=this;(0,o.getWorkGroupInfo)({chat_id:this.chat_id}).then((function(i){t.chatInfo=i.data,t.getList()})).catch((function(i){return t.$util.Tips({title:i})}))},getList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="加载更多",(0,o.getWorkGroupMember)(t.chatInfo.id,{page:this.page,limit:this.limit,name:this.name}).then((function(i){var n=i.data.list||[],e=n.length<t.limit;t.userList=t.$util.SplitArray(n,t.userList),t.$set(t,"userList",t.userList),t.loadend=e,t.loading=!1,t.loadTitle=e?"没有更多内容啦~":"加载更多",t.page=t.page+1})).catch((function(i){return t.$util.Tips({title:i})})))},search:function(){this.loading||(this.loadend=!1,this.page=1,this.$set(this,"userList",[]),this.getList())},toInfo:function(t){2==t.type&&(this.$Cache.set("chatId",this.chat_id),uni.navigateTo({url:"/pages/work/userInfo/index?userid="+t.userid}))}},onReachBottom:function(){this.getList()}};i.default=s}}]);