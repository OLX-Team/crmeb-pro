(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_search-index"],{"1aa7":function(t,e,i){"use strict";i.r(e);var a=i("34f5"),n=i("f8ed");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d016");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"bd66c7d2",null,!1,a["a"],r);e["default"]=c.exports},"2dd2":function(t,e,i){"use strict";i.r(e);var a=i("7afd"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"34f5":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:t.colorStyle},[i("v-uni-view",{staticClass:"searchGood"},[i("v-uni-view",{staticClass:"search acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"input acea-row row-between-wrapper"},[i("v-uni-text",{staticClass:"iconfont icon-sousuo"}),i("v-uni-input",{attrs:{type:"text","confirm-type":"search",focus:!0,placeholder:"点击搜索商品","placeholder-class":"placeholder"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.inputConfirm.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.setValue.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),i("v-uni-view",{staticClass:"bnt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchBut.apply(void 0,arguments)}}},[t._v("搜索")])],1),t.history.length?[i("v-uni-view",{staticClass:"title acea-row row-between-wrapper"},[i("v-uni-view",[t._v("搜索历史")]),i("v-uni-view",{staticClass:"iconfont icon-shanchu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"list acea-row"},[t._l(t.history,(function(e,a){return[e.keyword?i("v-uni-view",{key:a+"_0",staticClass:"item history-item line1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setHotSearchValue(e.keyword)}}},[t._v(t._s(e.keyword))]):t._e()]}))],2)]:t._e(),i("v-uni-view",{staticClass:"title"},[t._v("热门搜索")]),i("v-uni-view",{staticClass:"list acea-row"},[t._l(t.hotSearchList,(function(e,a){return[e.val?i("v-uni-view",{key:a+"_0",staticClass:"item line1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setHotSearchValue(e.val)}}},[t._v(t._s(e.val))]):t._e()]}))],2),t.bastList.length?i("v-uni-view",{staticClass:"line"}):t._e(),t.bastList.length>0?i("goodList",{attrs:{bastList:t.bastList}}):t._e(),t.bastList.length>0?i("v-uni-view",{staticClass:"loadingicon acea-row row-center-wrapper"},[i("v-uni-text",{staticClass:"loading iconfont icon-jiazai",attrs:{hidden:0==t.loading}}),t._v(t._s(t.loadTitle))],1):t._e()],2),i("v-uni-view",{staticClass:"noCommodity"},[0==t.bastList.length?i("v-uni-view",{staticClass:"pictrue"},[i("v-uni-image",{attrs:{src:t.imgHost+"/statics/images/noSearch.png"}})],1):t._e(),0==t.bastList.length&&t.page>1?i("recommend",{attrs:{hostProduct:t.hostProduct}}):t._e()],1),t.navigation?i("home"):t._e()],1)},o=[]},"34f7":function(t,e,i){"use strict";i.r(e);var a=i("5392"),n=i("2dd2");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("a1b6");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"9ed18956",null,!1,a["a"],r);e["default"]=c.exports},5392:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"recommend",style:t.colorStyle},[i("v-uni-view",{staticClass:"title acea-row row-center-wrapper"},[i("v-uni-text",{staticClass:"iconfont icon-zhuangshixian"}),i("v-uni-text",{staticClass:"name"},[t._v("热门推荐")]),i("v-uni-text",{staticClass:"iconfont icon-zhuangshixian lefticon"})],1),i("v-uni-view",{staticClass:"recommendList acea-row row-between-wrapper"},t._l(t.hostProduct,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item",attrs:{"hover-class":"none"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e)}}},[i("v-uni-view",{staticClass:"pictrue"},[i("v-uni-image",{attrs:{src:e.image}}),e.activity&&"1"===e.activity.type?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v("秒杀")]):t._e(),e.activity&&"2"===e.activity.type?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v("砍价")]):t._e(),e.activity&&"3"===e.activity.type?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v("拼团")]):t._e()],1),i("v-uni-view",{staticClass:"name line1"},[t._v(t._s(e.store_name))]),i("v-uni-view",{staticClass:"money font-color"},[t._v("￥"),i("v-uni-text",{staticClass:"num"},[t._v(t._s(e.price))])],1)],1)})),1)],1)},o=[]},"59a2":function(t,e,i){var a=i("8a1f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f065").default;n("68dc5532",a,!0,{sourceMap:!1,shadowMode:!1})},"7afd":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("26cb"),o=i("4913"),r=a(i("d0ca")),s={computed:(0,n.mapGetters)(["uid"]),props:{hostProduct:{type:Array,default:function(){return[]}}},mixins:[r.default],data:function(){return{}},methods:{goDetail:function(t){(0,o.goShopDetail)(t,this.uid).then((function(e){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))}}};e.default=s},"8a1f":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-bd66c7d2]{background-color:#fff!important}.noCommodity[data-v-bd66c7d2]{border-top-width:0}.searchGood .search[data-v-bd66c7d2]{padding-left:%?30?%}.searchGood .search[data-v-bd66c7d2]{margin-top:%?20?%}.searchGood .search .input[data-v-bd66c7d2]{width:%?598?%;background-color:#f7f7f7;border-radius:%?33?%;padding:0 %?35?%;box-sizing:border-box;height:%?66?%}.searchGood .search .input uni-input[data-v-bd66c7d2]{width:%?472?%;font-size:%?28?%}.searchGood .search .input .placeholder[data-v-bd66c7d2]{color:#999}.searchGood .search .input .iconfont[data-v-bd66c7d2]{color:#555;font-size:%?35?%}.searchGood .search .bnt[data-v-bd66c7d2]{width:%?120?%;text-align:center;height:%?66?%;line-height:%?66?%;font-size:%?30?%;color:#282828}.searchGood .title[data-v-bd66c7d2]{font-size:%?28?%;color:#999;margin:%?50?% %?30?% %?25?% %?30?%}.searchGood .title .iconfont[data-v-bd66c7d2]{font-size:%?28?%}.searchGood .list[data-v-bd66c7d2]{padding-left:%?10?%}.searchGood .list .item[data-v-bd66c7d2]{font-size:%?26?%;color:#454545;padding:0 %?21?%;height:%?60?%;border-radius:%?3?%;line-height:%?60?%;border:%?1?% solid #aaa;margin:0 0 %?20?% %?20?%}.searchGood .list .item.history-item[data-v-bd66c7d2]{height:%?50?%;border:none;border-radius:%?25?%;background-color:#f7f7f7;line-height:%?50?%}.searchGood .line[data-v-bd66c7d2]{border-bottom:%?1?% solid #eee;margin:%?20?% %?30?% 0 %?30?%}body.?%PAGE?%[data-v-bd66c7d2]{background-color:#fff!important}',""]),t.exports=e},"9aab":function(t,e,i){var a=i("c2b8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f065").default;n("688d9360",a,!0,{sourceMap:!1,shadowMode:!1})},a1b6:function(t,e,i){"use strict";var a=i("9aab"),n=i.n(a);n.a},bd16:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f176")),o=i("16a8"),r=i("4e1f"),s=a(i("e15d")),c=a(i("34f7")),d=a(i("d0ca")),u=i("12b8"),l={components:{goodList:s.default,recommend:c.default,home:n.default},mixins:[d.default],data:function(){return{hostProduct:[],searchValue:"",focus:!0,bastList:[],hotSearchList:[],first:0,limit:8,page:1,loading:!1,loadend:!1,loadTitle:"加载更多",hotPage:1,isScroll:!0,history:[],imgHost:u.HTTP_REQUEST_URL}},onShow:function(){this.getHostProduct(),this.searchList();try{this.hotSearchList=uni.getStorageSync("hotList")}catch(t){}},onReachBottom:function(){this.bastList.length>0?this.getProductList():this.getHostProduct()},methods:{searchList:function(){var t=this;(0,r.searchList)({page:1,limit:10}).then((function(e){t.history=e.data}))},clear:function(){var t=this;(0,r.clearSearch)().then((function(e){uni.showToast({title:e.msg,success:function(){t.history=[]}})}))},inputConfirm:function(t){t.detail.value&&(uni.hideKeyboard(),this.setHotSearchValue(t.detail.value))},getRoutineHotSearch:function(){var t=this;(0,o.getSearchKeyword)().then((function(e){t.$set(t,"hotSearchList",e.data)}))},getProductList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="",(0,o.getProductslist)({keyword:t.searchValue,page:t.page,limit:t.limit}).then((function(e){var i=e.data,a=i.length<t.limit;t.bastList=t.$util.SplitArray(i,t.bastList),t.$set(t,"bastList",t.bastList),t.loading=!1,t.loadend=a,t.loadTitle=a?"没有更多内容啦~":"加载更多",t.page=t.page+1})).catch((function(e){t.loading=!1,t.loadTitle="加载更多"})))},getHostProduct:function(){var t=this;this.isScroll&&(0,o.getProductHot)(t.hotPage,t.limit).then((function(e){t.isScroll=e.data.length>=t.limit,t.hostProduct=t.hostProduct.concat(e.data),t.hotPage+=1}))},setHotSearchValue:function(t){this.$set(this,"searchValue",t),this.page=1,this.loadend=!1,this.$set(this,"bastList",[]),this.getProductList()},setValue:function(t){this.$set(this,"searchValue",t.detail.value)},searchBut:function(){var t=this;if(t.focus=!1,!(t.searchValue.length>0))return this.$util.Tips({title:"请输入要搜索的商品",icon:"none",duration:1e3,mask:!0});t.page=1,t.loadend=!1,t.$set(t,"bastList",[]),uni.showLoading({title:"正在搜索中"}),t.getProductList(),uni.hideLoading()}}};e.default=l},c2b8:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.recommend[data-v-9ed18956]{background-color:#fff}.recommend .title[data-v-9ed18956]{height:%?135?%;font-size:%?28?%;color:#282828}.recommend .title .name[data-v-9ed18956]{margin:0 %?28?%}.recommend .title .iconfont[data-v-9ed18956]{font-size:%?170?%;color:#454545}.recommend .title .iconfont.lefticon[data-v-9ed18956]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.recommend .recommendList[data-v-9ed18956]{padding:0 %?30?%}.recommend .recommendList .item[data-v-9ed18956]{width:%?335?%;margin-bottom:%?30?%}.recommend .recommendList .item .pictrue[data-v-9ed18956]{position:relative;width:100%;height:%?335?%}.recommend .recommendList .item .pictrue uni-image[data-v-9ed18956]{width:100%;height:100%;border-radius:%?20?%}.recommend .recommendList .item .name[data-v-9ed18956]{font-size:%?28?%;color:#282828;margin-top:%?20?%}.recommend .recommendList .item .money[data-v-9ed18956]{font-size:%?20?%;margin-top:%?8?%}.recommend .recommendList .item .money .num[data-v-9ed18956]{font-size:%?28?%}',""]),t.exports=e},d016:function(t,e,i){"use strict";var a=i("59a2"),n=i.n(a);n.a},f8ed:function(t,e,i){"use strict";i.r(e);var a=i("bd16"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);