(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/goods_comment_con/comment_con"],{"0d8c":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("16a8"),r=s(i("d0ca"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){Promise.all([i.e("common/vendor"),i.e("components/home/index")]).then(function(){return resolve(i("f176"))}.bind(null,i)).catch(i.oe)},a={components:{home:o},mixins:[r.default],data:function(){return{id:0,page:1,limit:200,replyCon:{},replyList:[],con:"",scrollTop:0,replyNum:0}},onLoad:function(e){this.id=e.id,this.getInfo(),this.getList()},methods:{tapPraise:function(){var e=this;this.replyCon.is_praise?(0,n.getUnReplyPraise)(this.id).then((function(t){return e.replyCon.is_praise=!e.replyCon.is_praise,e.replyCon.reply.praise=e.replyCon.reply.praise-1,e.$util.Tips({title:t.msg})})):(0,n.getReplyPraise)(this.id).then((function(t){return e.replyCon.is_praise=!e.replyCon.is_praise,e.replyCon.reply.praise=e.replyCon.reply.praise+1,e.$util.Tips({title:t.msg})}))},setPageScrollTo:function(){var t=this,i=e.createSelectorQuery().in(this).select("#tops");i.boundingClientRect((function(e){t.scrollTop=parseFloat(e.height)})).exec()},sendText:function(){var e=this;if(!this.con.trim())return this.$util.Tips({title:"说点什么呗"});(0,n.replyComment)(this.id,{content:this.con}).then((function(t){var i=e;e.con="",e.replyNum=e.replyNum+1,e.getList(),e.$nextTick((function(){setTimeout((function(){i.setPageScrollTo()}),100)})),e.$util.Tips({title:t.msg})}))},details:function(t){e.navigateTo({url:"/pages/goods_details/index?id="+t})},getInfo:function(){var e=this;(0,n.getReplyInfo)(this.id).then((function(t){e.replyCon=t.data,e.replyNum=e.replyCon.reply.comment_sum}))},getList:function(){var e=this;(0,n.getReplyComment)(this.id,{page:this.page,limit:this.limit}).then((function(t){e.replyList=t.data})).catch((function(t){return e.$util.Tips({title:t.msg})}))},getpreviewImage:function(t){e.previewImage({urls:this.replyCon.reply.pics,current:this.replyCon.reply.pics[t]})},praise:function(e){var t=this;e.is_praise?(0,n.postUnReplyPraise)(e.id).then((function(i){return e.is_praise=!e.is_praise,e.praise=e.praise-1,t.$util.Tips({title:i.msg})})):(0,n.postReplyPraise)(e.id).then((function(i){return e.is_praise=!e.is_praise,e.praise=e.praise+1,t.$util.Tips({title:i.msg})}))}}};t.default=a}).call(this,i("543d")["default"])},3139:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var r=function(){var e=this,t=e.$createElement;e._self._c},s=[]},"726c":function(e,t,i){"use strict";i.r(t);var n=i("3139"),r=i("8a18");for(var s in r)"default"!==s&&function(e){i.d(t,e,(function(){return r[e]}))}(s);i("98ac");var o,a=i("f0c5"),u=Object(a["a"])(r["default"],n["b"],n["c"],!1,null,"75d79e03",null,!1,n["a"],o);t["default"]=u.exports},"870b":function(e,t,i){},"8a18":function(e,t,i){"use strict";i.r(t);var n=i("0d8c"),r=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=r.a},"98ac":function(e,t,i){"use strict";var n=i("870b"),r=i.n(n);r.a},ff37:function(e,t,i){"use strict";(function(e){i("22b3");n(i("66fd"));var t=n(i("726c"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i("543d")["createPage"])}},[["ff37","common/runtime","common/vendor"]]]);